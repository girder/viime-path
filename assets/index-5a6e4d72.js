(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function as(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function Ki(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=xt(i)?Wa(i):Ki(i);if(r)for(const s in r)t[s]=r[s]}return t}else{if(xt(e))return e;if(vt(e))return e}}const Va=/;(?![^(]*\))/g,Ka=/:([^]+)/,Ga=/\/\*.*?\*\//gs;function Wa(e){const t={};return e.replace(Ga,"").split(Va).forEach(n=>{if(n){const i=n.split(Ka);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Gi(e){let t="";if(xt(e))t=e;else if(tt(e))for(let n=0;n<e.length;n++){const i=Gi(e[n]);i&&(t+=i+" ")}else if(vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ja="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Za=as(Ja);function nl(e){return!!e||e===""}const Ut=e=>xt(e)?e:e==null?"":tt(e)||vt(e)&&(e.toString===ol||!et(e.toString))?JSON.stringify(e,il,2):String(e),il=(e,t)=>t&&t.__v_isRef?il(e,t.value):nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:rl(t)?{[`Set(${t.size})`]:[...t.values()]}:vt(t)&&!tt(t)&&!ll(t)?String(t):t,pt={},en=[],te=()=>{},Qa=()=>!1,ja=/^on[^a-z]/,Wi=e=>ja.test(e),us=e=>e.startsWith("onUpdate:"),Nt=Object.assign,cs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},tu=Object.prototype.hasOwnProperty,ot=(e,t)=>tu.call(e,t),tt=Array.isArray,nn=e=>Ji(e)==="[object Map]",rl=e=>Ji(e)==="[object Set]",et=e=>typeof e=="function",xt=e=>typeof e=="string",hs=e=>typeof e=="symbol",vt=e=>e!==null&&typeof e=="object",sl=e=>vt(e)&&et(e.then)&&et(e.catch),ol=Object.prototype.toString,Ji=e=>ol.call(e),eu=e=>Ji(e).slice(8,-1),ll=e=>Ji(e)==="[object Object]",fs=e=>xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xi=as(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},nu=/-(\w)/g,hn=Zi(e=>e.replace(nu,(t,n)=>n?n.toUpperCase():"")),iu=/\B([A-Z])/g,_n=Zi(e=>e.replace(iu,"-$1").toLowerCase()),al=Zi(e=>e.charAt(0).toUpperCase()+e.slice(1)),fr=Zi(e=>e?`on${al(e)}`:""),$n=(e,t)=>!Object.is(e,t),wi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ti=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Un=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Hs;const ru=()=>Hs||(Hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let oe;class su{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=oe,!t&&oe&&(this.index=(oe.scopes||(oe.scopes=[])).push(this)-1)}run(t){if(this.active){const n=oe;try{return oe=this,t()}finally{oe=n}}}on(){oe=this}off(){oe=this.parent}stop(t){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}function ou(e,t=oe){t&&t.active&&t.effects.push(e)}const ds=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ul=e=>(e.w&Se)>0,cl=e=>(e.n&Se)>0,lu=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Se},au=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];ul(r)&&!cl(r)?r.delete(e):t[n++]=r,r.w&=~Se,r.n&=~Se}t.length=n}},Pr=new WeakMap;let Tn=0,Se=1;const Lr=30;let Qt;const Ue=Symbol(""),Or=Symbol("");class ps{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ou(this,i)}run(){if(!this.active)return this.fn();let t=Qt,n=Ne;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Qt,Qt=this,Ne=!0,Se=1<<++Tn,Tn<=Lr?lu(this):$s(this),this.fn()}finally{Tn<=Lr&&au(this),Se=1<<--Tn,Qt=this.parent,Ne=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Qt===this?this.deferStop=!0:this.active&&($s(this),this.onStop&&this.onStop(),this.active=!1)}}function $s(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ne=!0;const hl=[];function yn(){hl.push(Ne),Ne=!1}function bn(){const e=hl.pop();Ne=e===void 0?!0:e}function Ht(e,t,n){if(Ne&&Qt){let i=Pr.get(e);i||Pr.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=ds()),fl(r)}}function fl(e,t){let n=!1;Tn<=Lr?cl(e)||(e.n|=Se,n=!ul(e)):n=!e.has(Qt),n&&(e.add(Qt),Qt.deps.push(e))}function _e(e,t,n,i,r,s){const o=Pr.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&tt(e)){const a=Un(i);o.forEach((u,h)=>{(h==="length"||h>=a)&&l.push(u)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":tt(e)?fs(n)&&l.push(o.get("length")):(l.push(o.get(Ue)),nn(e)&&l.push(o.get(Or)));break;case"delete":tt(e)||(l.push(o.get(Ue)),nn(e)&&l.push(o.get(Or)));break;case"set":nn(e)&&l.push(o.get(Ue));break}if(l.length===1)l[0]&&Dr(l[0]);else{const a=[];for(const u of l)u&&a.push(...u);Dr(ds(a))}}function Dr(e,t){const n=tt(e)?e:[...e];for(const i of n)i.computed&&Us(i);for(const i of n)i.computed||Us(i)}function Us(e,t){(e!==Qt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const uu=as("__proto__,__v_isRef,__isVue"),dl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hs)),cu=gs(),hu=gs(!1,!0),fu=gs(!0),Xs=du();function du(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=lt(this);for(let s=0,o=this.length;s<o;s++)Ht(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(lt)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){yn();const i=lt(this)[t].apply(this,n);return bn(),i}}),e}function gs(e=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(e?t?Iu:_l:t?vl:ml).get(i))return i;const o=tt(i);if(!e&&o&&ot(Xs,r))return Reflect.get(Xs,r,s);const l=Reflect.get(i,r,s);return(hs(r)?dl.has(r):uu(r))||(e||Ht(i,"get",r),t)?l:Mt(l)?o&&fs(r)?l:l.value:vt(l)?e?yl(l):_s(l):l}}const pu=pl(),gu=pl(!0);function pl(e=!1){return function(n,i,r,s){let o=n[i];if(fn(o)&&Mt(o)&&!Mt(r))return!1;if(!e&&(!Pi(r)&&!fn(r)&&(o=lt(o),r=lt(r)),!tt(n)&&Mt(o)&&!Mt(r)))return o.value=r,!0;const l=tt(n)&&fs(i)?Number(i)<n.length:ot(n,i),a=Reflect.set(n,i,r,s);return n===lt(s)&&(l?$n(r,o)&&_e(n,"set",i,r):_e(n,"add",i,r)),a}}function mu(e,t){const n=ot(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&_e(e,"delete",t,void 0),i}function vu(e,t){const n=Reflect.has(e,t);return(!hs(t)||!dl.has(t))&&Ht(e,"has",t),n}function _u(e){return Ht(e,"iterate",tt(e)?"length":Ue),Reflect.ownKeys(e)}const gl={get:cu,set:pu,deleteProperty:mu,has:vu,ownKeys:_u},yu={get:fu,set(e,t){return!0},deleteProperty(e,t){return!0}},bu=Nt({},gl,{get:hu,set:gu}),ms=e=>e,Qi=e=>Reflect.getPrototypeOf(e);function si(e,t,n=!1,i=!1){e=e.__v_raw;const r=lt(e),s=lt(t);n||(t!==s&&Ht(r,"get",t),Ht(r,"get",s));const{has:o}=Qi(r),l=i?ms:n?bs:Xn;if(o.call(r,t))return l(e.get(t));if(o.call(r,s))return l(e.get(s));e!==r&&e.get(t)}function oi(e,t=!1){const n=this.__v_raw,i=lt(n),r=lt(e);return t||(e!==r&&Ht(i,"has",e),Ht(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function li(e,t=!1){return e=e.__v_raw,!t&&Ht(lt(e),"iterate",Ue),Reflect.get(e,"size",e)}function qs(e){e=lt(e);const t=lt(this);return Qi(t).has.call(t,e)||(t.add(e),_e(t,"add",e,e)),this}function Ys(e,t){t=lt(t);const n=lt(this),{has:i,get:r}=Qi(n);let s=i.call(n,e);s||(e=lt(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?$n(t,o)&&_e(n,"set",e,t):_e(n,"add",e,t),this}function Vs(e){const t=lt(this),{has:n,get:i}=Qi(t);let r=n.call(t,e);r||(e=lt(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&_e(t,"delete",e,void 0),s}function Ks(){const e=lt(this),t=e.size!==0,n=e.clear();return t&&_e(e,"clear",void 0,void 0),n}function ai(e,t){return function(i,r){const s=this,o=s.__v_raw,l=lt(o),a=t?ms:e?bs:Xn;return!e&&Ht(l,"iterate",Ue),o.forEach((u,h)=>i.call(r,a(u),a(h),s))}}function ui(e,t,n){return function(...i){const r=this.__v_raw,s=lt(r),o=nn(s),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,u=r[e](...i),h=n?ms:t?bs:Xn;return!t&&Ht(s,"iterate",a?Or:Ue),{next(){const{value:c,done:f}=u.next();return f?{value:c,done:f}:{value:l?[h(c[0]),h(c[1])]:h(c),done:f}},[Symbol.iterator](){return this}}}}function we(e){return function(...t){return e==="delete"?!1:this}}function xu(){const e={get(s){return si(this,s)},get size(){return li(this)},has:oi,add:qs,set:Ys,delete:Vs,clear:Ks,forEach:ai(!1,!1)},t={get(s){return si(this,s,!1,!0)},get size(){return li(this)},has:oi,add:qs,set:Ys,delete:Vs,clear:Ks,forEach:ai(!1,!0)},n={get(s){return si(this,s,!0)},get size(){return li(this,!0)},has(s){return oi.call(this,s,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:ai(!0,!1)},i={get(s){return si(this,s,!0,!0)},get size(){return li(this,!0)},has(s){return oi.call(this,s,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:ai(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ui(s,!1,!1),n[s]=ui(s,!0,!1),t[s]=ui(s,!1,!0),i[s]=ui(s,!0,!0)}),[e,n,t,i]}const[wu,Eu,ku,Au]=xu();function vs(e,t){const n=t?e?Au:ku:e?Eu:wu;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(ot(n,r)&&r in i?n:i,r,s)}const Cu={get:vs(!1,!1)},Mu={get:vs(!1,!0)},Nu={get:vs(!0,!1)},ml=new WeakMap,vl=new WeakMap,_l=new WeakMap,Iu=new WeakMap;function Su(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tu(e){return e.__v_skip||!Object.isExtensible(e)?0:Su(eu(e))}function _s(e){return fn(e)?e:ys(e,!1,gl,Cu,ml)}function Pu(e){return ys(e,!1,bu,Mu,vl)}function yl(e){return ys(e,!0,yu,Nu,_l)}function ys(e,t,n,i,r){if(!vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=Tu(e);if(o===0)return e;const l=new Proxy(e,o===2?i:n);return r.set(e,l),l}function rn(e){return fn(e)?rn(e.__v_raw):!!(e&&e.__v_isReactive)}function fn(e){return!!(e&&e.__v_isReadonly)}function Pi(e){return!!(e&&e.__v_isShallow)}function bl(e){return rn(e)||fn(e)}function lt(e){const t=e&&e.__v_raw;return t?lt(t):e}function xl(e){return Ti(e,"__v_skip",!0),e}const Xn=e=>vt(e)?_s(e):e,bs=e=>vt(e)?yl(e):e;function wl(e){Ne&&Qt&&(e=lt(e),fl(e.dep||(e.dep=ds())))}function El(e,t){e=lt(e),e.dep&&Dr(e.dep)}function Mt(e){return!!(e&&e.__v_isRef===!0)}function Pt(e){return Lu(e,!1)}function Lu(e,t){return Mt(e)?e:new Ou(e,t)}class Ou{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:lt(t),this._value=n?t:Xn(t)}get value(){return wl(this),this._value}set value(t){const n=this.__v_isShallow||Pi(t)||fn(t);t=n?t:lt(t),$n(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Xn(t),El(this))}}function le(e){return Mt(e)?e.value:e}const Du={get:(e,t,n)=>le(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Mt(r)&&!Mt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function kl(e){return rn(e)?e:new Proxy(e,Du)}var Al;class Ru{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Al]=!1,this._dirty=!0,this.effect=new ps(t,()=>{this._dirty||(this._dirty=!0,El(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=lt(this);return wl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Al="__v_isReadonly";function Fu(e,t,n=!1){let i,r;const s=et(e);return s?(i=e,r=te):(i=e.get,r=e.set),new Ru(i,r,s||!r,n)}function Ie(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){ti(s,t,n)}return r}function Wt(e,t,n,i){if(et(e)){const s=Ie(e,t,n,i);return s&&sl(s)&&s.catch(o=>{ti(o,t,n)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(Wt(e[s],t,n,i));return r}function ti(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,l=n;for(;s;){const u=s.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,o,l)===!1)return}s=s.parent}const a=t.appContext.config.errorHandler;if(a){Ie(a,null,10,[e,o,l]);return}}Bu(e,n,r,i)}function Bu(e,t,n,i=!0){console.error(e)}let qn=!1,Rr=!1;const Ct=[];let ce=0;const sn=[];let pe=null,Fe=0;const Cl=Promise.resolve();let xs=null;function zu(e){const t=xs||Cl;return e?t.then(this?e.bind(this):e):t}function Hu(e){let t=ce+1,n=Ct.length;for(;t<n;){const i=t+n>>>1;Yn(Ct[i])<e?t=i+1:n=i}return t}function ws(e){(!Ct.length||!Ct.includes(e,qn&&e.allowRecurse?ce+1:ce))&&(e.id==null?Ct.push(e):Ct.splice(Hu(e.id),0,e),Ml())}function Ml(){!qn&&!Rr&&(Rr=!0,xs=Cl.then(Sl))}function $u(e){const t=Ct.indexOf(e);t>ce&&Ct.splice(t,1)}function Nl(e){tt(e)?sn.push(...e):(!pe||!pe.includes(e,e.allowRecurse?Fe+1:Fe))&&sn.push(e),Ml()}function Gs(e,t=qn?ce+1:0){for(;t<Ct.length;t++){const n=Ct[t];n&&n.pre&&(Ct.splice(t,1),t--,n())}}function Il(e){if(sn.length){const t=[...new Set(sn)];if(sn.length=0,pe){pe.push(...t);return}for(pe=t,pe.sort((n,i)=>Yn(n)-Yn(i)),Fe=0;Fe<pe.length;Fe++)pe[Fe]();pe=null,Fe=0}}const Yn=e=>e.id==null?1/0:e.id,Uu=(e,t)=>{const n=Yn(e)-Yn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Sl(e){Rr=!1,qn=!0,Ct.sort(Uu);const t=te;try{for(ce=0;ce<Ct.length;ce++){const n=Ct[ce];n&&n.active!==!1&&Ie(n,null,14)}}finally{ce=0,Ct.length=0,Il(),qn=!1,xs=null,(Ct.length||sn.length)&&Sl()}}function Xu(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||pt;let r=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in i){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:f}=i[h]||pt;f&&(r=n.map(d=>xt(d)?d.trim():d)),c&&(r=n.map(Un))}let l,a=i[l=fr(t)]||i[l=fr(hn(t))];!a&&s&&(a=i[l=fr(_n(t))]),a&&Wt(a,e,6,r);const u=i[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Wt(u,e,6,r)}}function Tl(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},l=!1;if(!et(e)){const a=u=>{const h=Tl(u,t,!0);h&&(l=!0,Nt(o,h))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!s&&!l?(vt(e)&&i.set(e,null),null):(tt(s)?s.forEach(a=>o[a]=null):Nt(o,s),vt(e)&&i.set(e,o),o)}function ji(e,t){return!e||!Wi(t)?!1:(t=t.slice(2).replace(/Once$/,""),ot(e,t[0].toLowerCase()+t.slice(1))||ot(e,_n(t))||ot(e,t))}let Kt=null,Pl=null;function Li(e){const t=Kt;return Kt=e,Pl=e&&e.type.__scopeId||null,t}function Fr(e,t=Kt,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&so(-1);const s=Li(t);let o;try{o=e(...r)}finally{Li(s),i._d&&so(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function dr(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:l,attrs:a,emit:u,render:h,renderCache:c,data:f,setupState:d,ctx:g,inheritAttrs:p}=e;let y,x;const E=Li(e);try{if(n.shapeFlag&4){const w=r||i;y=Zt(h.call(w,w,c,s,d,f,g)),x=a}else{const w=t;y=Zt(w.length>1?w(s,{attrs:a,slots:l,emit:u}):w(s,null)),x=t.props?a:Yu(a)}}catch(w){zn.length=0,ti(w,e,1),y=ee(zt)}let _=y;if(x&&p!==!1){const w=Object.keys(x),{shapeFlag:C}=_;w.length&&C&7&&(o&&w.some(us)&&(x=Vu(x,o)),_=Te(_,x))}return n.dirs&&(_=Te(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,Li(E),y}function qu(e){let t;for(let n=0;n<e.length;n++){const i=e[n];if(Ql(i)){if(i.type!==zt||i.children==="v-if"){if(t)return;t=i}}else return}return t}const Yu=e=>{let t;for(const n in e)(n==="class"||n==="style"||Wi(n))&&((t||(t={}))[n]=e[n]);return t},Vu=(e,t)=>{const n={};for(const i in e)(!us(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Ku(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:l,patchFlag:a}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return i?Ws(i,o,u):!!o;if(a&8){const h=t.dynamicProps;for(let c=0;c<h.length;c++){const f=h[c];if(o[f]!==i[f]&&!ji(u,f))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?Ws(i,o,u):!0:!!o;return!1}function Ws(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!ji(n,s))return!0}return!1}function Es({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Gu=e=>e.__isSuspense,Wu={name:"Suspense",__isSuspense:!0,process(e,t,n,i,r,s,o,l,a,u){e==null?Zu(t,n,i,r,s,o,l,a,u):Qu(e,t,n,i,r,o,l,a,u)},hydrate:ju,create:ks,normalize:tc},Ju=Wu;function Vn(e,t){const n=e.props&&e.props[t];et(n)&&n()}function Zu(e,t,n,i,r,s,o,l,a){const{p:u,o:{createElement:h}}=a,c=h("div"),f=e.suspense=ks(e,r,i,t,c,n,s,o,l,a);u(null,f.pendingBranch=e.ssContent,c,null,i,f,s,o),f.deps>0?(Vn(e,"onPending"),Vn(e,"onFallback"),u(null,e.ssFallback,t,n,i,null,s,o),on(f,e.ssFallback)):f.resolve()}function Qu(e,t,n,i,r,s,o,l,{p:a,um:u,o:{createElement:h}}){const c=t.suspense=e.suspense;c.vnode=t,t.el=e.el;const f=t.ssContent,d=t.ssFallback,{activeBranch:g,pendingBranch:p,isInFallback:y,isHydrating:x}=c;if(p)c.pendingBranch=f,he(f,p)?(a(p,f,c.hiddenContainer,null,r,c,s,o,l),c.deps<=0?c.resolve():y&&(a(g,d,n,i,r,null,s,o,l),on(c,d))):(c.pendingId++,x?(c.isHydrating=!1,c.activeBranch=p):u(p,r,c),c.deps=0,c.effects.length=0,c.hiddenContainer=h("div"),y?(a(null,f,c.hiddenContainer,null,r,c,s,o,l),c.deps<=0?c.resolve():(a(g,d,n,i,r,null,s,o,l),on(c,d))):g&&he(f,g)?(a(g,f,n,i,r,c,s,o,l),c.resolve(!0)):(a(null,f,c.hiddenContainer,null,r,c,s,o,l),c.deps<=0&&c.resolve()));else if(g&&he(f,g))a(g,f,n,i,r,c,s,o,l),on(c,f);else if(Vn(t,"onPending"),c.pendingBranch=f,c.pendingId++,a(null,f,c.hiddenContainer,null,r,c,s,o,l),c.deps<=0)c.resolve();else{const{timeout:E,pendingId:_}=c;E>0?setTimeout(()=>{c.pendingId===_&&c.fallback(d)},E):E===0&&c.fallback(d)}}function ks(e,t,n,i,r,s,o,l,a,u,h=!1){const{p:c,m:f,um:d,n:g,o:{parentNode:p,remove:y}}=u,x=Un(e.props&&e.props.timeout),E={vnode:e,parent:t,parentComponent:n,isSVG:o,container:i,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(_=!1){const{vnode:w,activeBranch:C,pendingBranch:T,pendingId:S,effects:k,parentComponent:O,container:M}=E;if(E.isHydrating)E.isHydrating=!1;else if(!_){const N=C&&T.transition&&T.transition.mode==="out-in";N&&(C.transition.afterLeave=()=>{S===E.pendingId&&f(T,M,D,0)});let{anchor:D}=E;C&&(D=g(C),d(C,O,E,!0)),N||f(T,M,D,0)}on(E,T),E.pendingBranch=null,E.isInFallback=!1;let L=E.parent,m=!1;for(;L;){if(L.pendingBranch){L.effects.push(...k),m=!0;break}L=L.parent}m||Nl(k),E.effects=[],Vn(w,"onResolve")},fallback(_){if(!E.pendingBranch)return;const{vnode:w,activeBranch:C,parentComponent:T,container:S,isSVG:k}=E;Vn(w,"onFallback");const O=g(C),M=()=>{E.isInFallback&&(c(null,_,S,O,T,null,k,l,a),on(E,_))},L=_.transition&&_.transition.mode==="out-in";L&&(C.transition.afterLeave=M),E.isInFallback=!0,d(C,T,null,!0),L||M()},move(_,w,C){E.activeBranch&&f(E.activeBranch,_,w,C),E.container=_},next(){return E.activeBranch&&g(E.activeBranch)},registerDep(_,w){const C=!!E.pendingBranch;C&&E.deps++;const T=_.vnode.el;_.asyncDep.catch(S=>{ti(S,_,0)}).then(S=>{if(_.isUnmounted||E.isUnmounted||E.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:k}=_;Yr(_,S,!1),T&&(k.el=T);const O=!T&&_.subTree.el;w(_,k,p(T||_.subTree.el),T?null:g(_.subTree),E,o,a),O&&y(O),Es(_,k.el),C&&--E.deps===0&&E.resolve()})},unmount(_,w){E.isUnmounted=!0,E.activeBranch&&d(E.activeBranch,n,_,w),E.pendingBranch&&d(E.pendingBranch,n,_,w)}};return E}function ju(e,t,n,i,r,s,o,l,a){const u=t.suspense=ks(t,i,n,e.parentNode,document.createElement("div"),null,r,s,o,l,!0),h=a(e,u.pendingBranch=t.ssContent,n,u,s,o);return u.deps===0&&u.resolve(),h}function tc(e){const{shapeFlag:t,children:n}=e,i=t&32;e.ssContent=Js(i?n.default:n),e.ssFallback=i?Js(n.fallback):ee(zt)}function Js(e){let t;if(et(e)){const n=dn&&e._c;n&&(e._d=!1,ue()),e=e(),n&&(e._d=!0,t=Gt,Wl())}return tt(e)&&(e=qu(e)),e=Zt(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function ec(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):Nl(e)}function on(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e,r=n.el=t.el;i&&i.subTree===n&&(i.vnode.el=r,Es(i,r))}function nc(e,t){if(Et){let n=Et.provides;const i=Et.parent&&Et.parent.provides;i===n&&(n=Et.provides=Object.create(i)),n[e]=t}}function Ei(e,t,n=!1){const i=Et||Kt;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&et(t)?t.call(i.proxy):t}}function re(e,t){return As(e,null,t)}const ci={};function pr(e,t,n){return As(e,t,n)}function As(e,t,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:o}=pt){const l=Et;let a,u=!1,h=!1;if(Mt(e)?(a=()=>e.value,u=Pi(e)):rn(e)?(a=()=>e,i=!0):tt(e)?(h=!0,u=e.some(_=>rn(_)||Pi(_)),a=()=>e.map(_=>{if(Mt(_))return _.value;if(rn(_))return ze(_);if(et(_))return Ie(_,l,2)})):et(e)?t?a=()=>Ie(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return c&&c(),Wt(e,l,3,[f])}:a=te,t&&i){const _=a;a=()=>ze(_())}let c,f=_=>{c=x.onStop=()=>{Ie(_,l,4)}},d;if(Kn)if(f=te,t?n&&Wt(t,l,3,[a(),h?[]:void 0,f]):a(),r==="sync"){const _=Wc();d=_.__watcherHandles||(_.__watcherHandles=[])}else return te;let g=h?new Array(e.length).fill(ci):ci;const p=()=>{if(x.active)if(t){const _=x.run();(i||u||(h?_.some((w,C)=>$n(w,g[C])):$n(_,g)))&&(c&&c(),Wt(t,l,3,[_,g===ci?void 0:h&&g[0]===ci?[]:g,f]),g=_)}else x.run()};p.allowRecurse=!!t;let y;r==="sync"?y=p:r==="post"?y=()=>Lt(p,l&&l.suspense):(p.pre=!0,l&&(p.id=l.uid),y=()=>ws(p));const x=new ps(a,y);t?n?p():g=x.run():r==="post"?Lt(x.run.bind(x),l&&l.suspense):x.run();const E=()=>{x.stop(),l&&l.scope&&cs(l.scope.effects,x)};return d&&d.push(E),E}function ic(e,t,n){const i=this.proxy,r=xt(e)?e.includes(".")?Ll(i,e):()=>i[e]:e.bind(i,i);let s;et(t)?s=t:(s=t.handler,n=t);const o=Et;pn(this);const l=As(r,s.bind(i),n);return o?pn(o):Xe(),l}function Ll(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function ze(e,t){if(!vt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Mt(e))ze(e.value,t);else if(tt(e))for(let n=0;n<e.length;n++)ze(e[n],t);else if(rl(e)||nn(e))e.forEach(n=>{ze(n,t)});else if(ll(e))for(const n in e)ze(e[n],t);return e}function rc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bl(()=>{e.isMounted=!0}),zl(()=>{e.isUnmounting=!0}),e}const Xt=[Function,Array],sc={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xt,onEnter:Xt,onAfterEnter:Xt,onEnterCancelled:Xt,onBeforeLeave:Xt,onLeave:Xt,onAfterLeave:Xt,onLeaveCancelled:Xt,onBeforeAppear:Xt,onAppear:Xt,onAfterAppear:Xt,onAppearCancelled:Xt},setup(e,{slots:t}){const n=Uc(),i=rc();let r;return()=>{const s=t.default&&Dl(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const p of s)if(p.type!==zt){o=p;break}}const l=lt(e),{mode:a}=l;if(i.isLeaving)return gr(o);const u=Zs(o);if(!u)return gr(o);const h=Br(u,l,i,n);zr(u,h);const c=n.subTree,f=c&&Zs(c);let d=!1;const{getTransitionKey:g}=u.type;if(g){const p=g();r===void 0?r=p:p!==r&&(r=p,d=!0)}if(f&&f.type!==zt&&(!he(u,f)||d)){const p=Br(f,l,i,n);if(zr(f,p),a==="out-in")return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},gr(o);a==="in-out"&&u.type!==zt&&(p.delayLeave=(y,x,E)=>{const _=Ol(i,f);_[String(f.key)]=f,y._leaveCb=()=>{x(),y._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=E})}return o}}},oc=sc;function Ol(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Br(e,t,n,i){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:c,onLeave:f,onAfterLeave:d,onLeaveCancelled:g,onBeforeAppear:p,onAppear:y,onAfterAppear:x,onAppearCancelled:E}=t,_=String(e.key),w=Ol(n,e),C=(k,O)=>{k&&Wt(k,i,9,O)},T=(k,O)=>{const M=O[1];C(k,O),tt(k)?k.every(L=>L.length<=1)&&M():k.length<=1&&M()},S={mode:s,persisted:o,beforeEnter(k){let O=l;if(!n.isMounted)if(r)O=p||l;else return;k._leaveCb&&k._leaveCb(!0);const M=w[_];M&&he(e,M)&&M.el._leaveCb&&M.el._leaveCb(),C(O,[k])},enter(k){let O=a,M=u,L=h;if(!n.isMounted)if(r)O=y||a,M=x||u,L=E||h;else return;let m=!1;const N=k._enterCb=D=>{m||(m=!0,D?C(L,[k]):C(M,[k]),S.delayedLeave&&S.delayedLeave(),k._enterCb=void 0)};O?T(O,[k,N]):N()},leave(k,O){const M=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return O();C(c,[k]);let L=!1;const m=k._leaveCb=N=>{L||(L=!0,O(),N?C(g,[k]):C(d,[k]),k._leaveCb=void 0,w[M]===e&&delete w[M])};w[M]=e,f?T(f,[k,m]):m()},clone(k){return Br(k,t,n,i)}};return S}function gr(e){if(tr(e))return e=Te(e),e.children=null,e}function Zs(e){return tr(e)?e.children?e.children[0]:void 0:e}function zr(e,t){e.shapeFlag&6&&e.component?zr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Dl(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Vt?(o.patchFlag&128&&r++,i=i.concat(Dl(o.children,t,l))):(t||o.type!==zt)&&i.push(l!=null?Te(o,{key:l}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Rl(e){return et(e)?{setup:e,name:e.name}:e}const ki=e=>!!e.type.__asyncLoader,tr=e=>e.type.__isKeepAlive;function lc(e,t){Fl(e,"a",t)}function ac(e,t){Fl(e,"da",t)}function Fl(e,t,n=Et){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(er(t,i,n),n){let r=n.parent;for(;r&&r.parent;)tr(r.parent.vnode)&&uc(i,t,n,r),r=r.parent}}function uc(e,t,n,i){const r=er(t,e,i,!0);Hl(()=>{cs(i[t],r)},n)}function er(e,t,n=Et,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;yn(),pn(n);const l=Wt(t,n,e,o);return Xe(),bn(),l});return i?r.unshift(s):r.push(s),s}}const be=e=>(t,n=Et)=>(!Kn||e==="sp")&&er(e,(...i)=>t(...i),n),cc=be("bm"),Bl=be("m"),hc=be("bu"),fc=be("u"),zl=be("bum"),Hl=be("um"),dc=be("sp"),pc=be("rtg"),gc=be("rtc");function mc(e,t=Et){er("ec",e,t)}function Ke(e,t){const n=Kt;if(n===null)return e;const i=rr(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,a,u=pt]=t[s];o&&(et(o)&&(o={mounted:o,updated:o}),o.deep&&ze(l),r.push({dir:o,instance:i,value:l,oldValue:void 0,arg:a,modifiers:u}))}return e}function Pe(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];s&&(l.oldValue=s[o].value);let a=l.dir[i];a&&(yn(),Wt(a,n,8,[e.el,l,e,t]),bn())}}const vc=Symbol();function Qs(e,t,n,i){let r;const s=n&&n[i];if(tt(e)||xt(e)){r=new Array(e.length);for(let o=0,l=e.length;o<l;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(vt(e))if(e[Symbol.iterator])r=Array.from(e,(o,l)=>t(o,l,void 0,s&&s[l]));else{const o=Object.keys(e);r=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const u=o[l];r[l]=t(e[u],u,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}const Hr=e=>e?ta(e)?rr(e)||e.proxy:Hr(e.parent):null,Bn=Nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hr(e.parent),$root:e=>Hr(e.root),$emit:e=>e.emit,$options:e=>Cs(e),$forceUpdate:e=>e.f||(e.f=()=>ws(e.update)),$nextTick:e=>e.n||(e.n=zu.bind(e.proxy)),$watch:e=>ic.bind(e)}),mr=(e,t)=>e!==pt&&!e.__isScriptSetup&&ot(e,t),_c={get({_:e},t){const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:l,appContext:a}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(mr(i,t))return o[t]=1,i[t];if(r!==pt&&ot(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&ot(u,t))return o[t]=3,s[t];if(n!==pt&&ot(n,t))return o[t]=4,n[t];$r&&(o[t]=0)}}const h=Bn[t];let c,f;if(h)return t==="$attrs"&&Ht(e,"get",t),h(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==pt&&ot(n,t))return o[t]=4,n[t];if(f=a.config.globalProperties,ot(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return mr(r,t)?(r[t]=n,!0):i!==pt&&ot(i,t)?(i[t]=n,!0):ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let l;return!!n[o]||e!==pt&&ot(e,o)||mr(t,o)||(l=s[0])&&ot(l,o)||ot(i,o)||ot(Bn,o)||ot(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ot(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let $r=!0;function yc(e){const t=Cs(e),n=e.proxy,i=e.ctx;$r=!1,t.beforeCreate&&js(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:l,provide:a,inject:u,created:h,beforeMount:c,mounted:f,beforeUpdate:d,updated:g,activated:p,deactivated:y,beforeDestroy:x,beforeUnmount:E,destroyed:_,unmounted:w,render:C,renderTracked:T,renderTriggered:S,errorCaptured:k,serverPrefetch:O,expose:M,inheritAttrs:L,components:m,directives:N,filters:D}=t;if(u&&bc(u,i,null,e.appContext.config.unwrapInjectedRef),o)for(const F in o){const q=o[F];et(q)&&(i[F]=q.bind(n))}if(r){const F=r.call(n,n);vt(F)&&(e.data=_s(F))}if($r=!0,s)for(const F in s){const q=s[F],rt=et(q)?q.bind(n,n):et(q.get)?q.get.bind(n,n):te,it=!et(q)&&et(q.set)?q.set.bind(n):te,at=Pn({get:rt,set:it});Object.defineProperty(i,F,{enumerable:!0,configurable:!0,get:()=>at.value,set:ut=>at.value=ut})}if(l)for(const F in l)$l(l[F],i,n,F);if(a){const F=et(a)?a.call(n):a;Reflect.ownKeys(F).forEach(q=>{nc(q,F[q])})}h&&js(h,e,"c");function B(F,q){tt(q)?q.forEach(rt=>F(rt.bind(n))):q&&F(q.bind(n))}if(B(cc,c),B(Bl,f),B(hc,d),B(fc,g),B(lc,p),B(ac,y),B(mc,k),B(gc,T),B(pc,S),B(zl,E),B(Hl,w),B(dc,O),tt(M))if(M.length){const F=e.exposed||(e.exposed={});M.forEach(q=>{Object.defineProperty(F,q,{get:()=>n[q],set:rt=>n[q]=rt})})}else e.exposed||(e.exposed={});C&&e.render===te&&(e.render=C),L!=null&&(e.inheritAttrs=L),m&&(e.components=m),N&&(e.directives=N)}function bc(e,t,n=te,i=!1){tt(e)&&(e=Ur(e));for(const r in e){const s=e[r];let o;vt(s)?"default"in s?o=Ei(s.from||r,s.default,!0):o=Ei(s.from||r):o=Ei(s),Mt(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[r]=o}}function js(e,t,n){Wt(tt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function $l(e,t,n,i){const r=i.includes(".")?Ll(n,i):()=>n[i];if(xt(e)){const s=t[e];et(s)&&pr(r,s)}else if(et(e))pr(r,e.bind(n));else if(vt(e))if(tt(e))e.forEach(s=>$l(s,t,n,i));else{const s=et(e.handler)?e.handler.bind(n):t[e.handler];et(s)&&pr(r,s,e)}}function Cs(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,l=s.get(t);let a;return l?a=l:!r.length&&!n&&!i?a=t:(a={},r.length&&r.forEach(u=>Oi(a,u,o,!0)),Oi(a,t,o)),vt(t)&&s.set(t,a),a}function Oi(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&Oi(e,s,n,!0),r&&r.forEach(o=>Oi(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const l=xc[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const xc={data:to,props:Re,emits:Re,methods:Re,computed:Re,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:Re,directives:Re,watch:Ec,provide:to,inject:wc};function to(e,t){return t?e?function(){return Nt(et(e)?e.call(this,this):e,et(t)?t.call(this,this):t)}:t:e}function wc(e,t){return Re(Ur(e),Ur(t))}function Ur(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Tt(e,t){return e?[...new Set([].concat(e,t))]:t}function Re(e,t){return e?Nt(Nt(Object.create(null),e),t):t}function Ec(e,t){if(!e)return t;if(!t)return e;const n=Nt(Object.create(null),e);for(const i in t)n[i]=Tt(e[i],t[i]);return n}function kc(e,t,n,i=!1){const r={},s={};Ti(s,ir,1),e.propsDefaults=Object.create(null),Ul(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:Pu(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Ac(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,l=lt(r),[a]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let c=0;c<h.length;c++){let f=h[c];if(ji(e.emitsOptions,f))continue;const d=t[f];if(a)if(ot(s,f))d!==s[f]&&(s[f]=d,u=!0);else{const g=hn(f);r[g]=Xr(a,l,g,d,e,!1)}else d!==s[f]&&(s[f]=d,u=!0)}}}else{Ul(e,t,r,s)&&(u=!0);let h;for(const c in l)(!t||!ot(t,c)&&((h=_n(c))===c||!ot(t,h)))&&(a?n&&(n[c]!==void 0||n[h]!==void 0)&&(r[c]=Xr(a,l,c,void 0,e,!0)):delete r[c]);if(s!==l)for(const c in s)(!t||!ot(t,c))&&(delete s[c],u=!0)}u&&_e(e,"set","$attrs")}function Ul(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(xi(a))continue;const u=t[a];let h;r&&ot(r,h=hn(a))?!s||!s.includes(h)?n[h]=u:(l||(l={}))[h]=u:ji(e.emitsOptions,a)||(!(a in i)||u!==i[a])&&(i[a]=u,o=!0)}if(s){const a=lt(n),u=l||pt;for(let h=0;h<s.length;h++){const c=s[h];n[c]=Xr(r,a,c,u[c],e,!ot(u,c))}}return o}function Xr(e,t,n,i,r,s){const o=e[n];if(o!=null){const l=ot(o,"default");if(l&&i===void 0){const a=o.default;if(o.type!==Function&&et(a)){const{propsDefaults:u}=r;n in u?i=u[n]:(pn(r),i=u[n]=a.call(null,t),Xe())}else i=a}o[0]&&(s&&!l?i=!1:o[1]&&(i===""||i===_n(n))&&(i=!0))}return i}function Xl(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},l=[];let a=!1;if(!et(e)){const h=c=>{a=!0;const[f,d]=Xl(c,t,!0);Nt(o,f),d&&l.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!s&&!a)return vt(e)&&i.set(e,en),en;if(tt(s))for(let h=0;h<s.length;h++){const c=hn(s[h]);eo(c)&&(o[c]=pt)}else if(s)for(const h in s){const c=hn(h);if(eo(c)){const f=s[h],d=o[c]=tt(f)||et(f)?{type:f}:Object.assign({},f);if(d){const g=ro(Boolean,d.type),p=ro(String,d.type);d[0]=g>-1,d[1]=p<0||g<p,(g>-1||ot(d,"default"))&&l.push(c)}}}const u=[o,l];return vt(e)&&i.set(e,u),u}function eo(e){return e[0]!=="$"}function no(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function io(e,t){return no(e)===no(t)}function ro(e,t){return tt(t)?t.findIndex(n=>io(n,e)):et(t)&&io(t,e)?0:-1}const ql=e=>e[0]==="_"||e==="$stable",Ms=e=>tt(e)?e.map(Zt):[Zt(e)],Cc=(e,t,n)=>{if(t._n)return t;const i=Fr((...r)=>Ms(t(...r)),n);return i._c=!1,i},Yl=(e,t,n)=>{const i=e._ctx;for(const r in e){if(ql(r))continue;const s=e[r];if(et(s))t[r]=Cc(r,s,i);else if(s!=null){const o=Ms(s);t[r]=()=>o}}},Vl=(e,t)=>{const n=Ms(t);e.slots.default=()=>n},Mc=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=lt(t),Ti(t,"_",n)):Yl(t,e.slots={})}else e.slots={},t&&Vl(e,t);Ti(e.slots,ir,1)},Nc=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=pt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Nt(r,t),!n&&l===1&&delete r._):(s=!t.$stable,Yl(t,r)),o=t}else t&&(Vl(e,t),o={default:1});if(s)for(const l in r)!ql(l)&&!(l in o)&&delete r[l]};function Kl(){return{app:null,config:{isNativeTag:Qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ic=0;function Sc(e,t){return function(i,r=null){et(i)||(i=Object.assign({},i)),r!=null&&!vt(r)&&(r=null);const s=Kl(),o=new Set;let l=!1;const a=s.app={_uid:Ic++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Jc,get config(){return s.config},set config(u){},use(u,...h){return o.has(u)||(u&&et(u.install)?(o.add(u),u.install(a,...h)):et(u)&&(o.add(u),u(a,...h))),a},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),a},component(u,h){return h?(s.components[u]=h,a):s.components[u]},directive(u,h){return h?(s.directives[u]=h,a):s.directives[u]},mount(u,h,c){if(!l){const f=ee(i,r);return f.appContext=s,h&&t?t(f,u):e(f,u,c),l=!0,a._container=u,u.__vue_app__=a,rr(f.component)||f.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(u,h){return s.provides[u]=h,a}};return a}}function qr(e,t,n,i,r=!1){if(tt(e)){e.forEach((f,d)=>qr(f,t&&(tt(t)?t[d]:t),n,i,r));return}if(ki(i)&&!r)return;const s=i.shapeFlag&4?rr(i.component)||i.component.proxy:i.el,o=r?null:s,{i:l,r:a}=e,u=t&&t.r,h=l.refs===pt?l.refs={}:l.refs,c=l.setupState;if(u!=null&&u!==a&&(xt(u)?(h[u]=null,ot(c,u)&&(c[u]=null)):Mt(u)&&(u.value=null)),et(a))Ie(a,l,12,[o,h]);else{const f=xt(a),d=Mt(a);if(f||d){const g=()=>{if(e.f){const p=f?ot(c,a)?c[a]:h[a]:a.value;r?tt(p)&&cs(p,s):tt(p)?p.includes(s)||p.push(s):f?(h[a]=[s],ot(c,a)&&(c[a]=h[a])):(a.value=[s],e.k&&(h[e.k]=a.value))}else f?(h[a]=o,ot(c,a)&&(c[a]=o)):d&&(a.value=o,e.k&&(h[e.k]=o))};o?(g.id=-1,Lt(g,n)):g()}}}const Lt=ec;function Tc(e){return Pc(e)}function Pc(e,t){const n=ru();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:l,createComment:a,setText:u,setElementText:h,parentNode:c,nextSibling:f,setScopeId:d=te,insertStaticContent:g}=e,p=(v,b,I,A=null,P=null,$=null,Y=!1,H=null,U=!!b.dynamicChildren)=>{if(v===b)return;v&&!he(v,b)&&(A=st(v),ut(v,P,$,!0),v=null),b.patchFlag===-2&&(U=!1,b.dynamicChildren=null);const{type:R,ref:X,shapeFlag:V}=b;switch(R){case nr:y(v,b,I,A);break;case zt:x(v,b,I,A);break;case vr:v==null&&E(b,I,A,Y);break;case Vt:m(v,b,I,A,P,$,Y,H,U);break;default:V&1?C(v,b,I,A,P,$,Y,H,U):V&6?N(v,b,I,A,P,$,Y,H,U):(V&64||V&128)&&R.process(v,b,I,A,P,$,Y,H,U,dt)}X!=null&&P&&qr(X,v&&v.ref,$,b||v,!b)},y=(v,b,I,A)=>{if(v==null)i(b.el=l(b.children),I,A);else{const P=b.el=v.el;b.children!==v.children&&u(P,b.children)}},x=(v,b,I,A)=>{v==null?i(b.el=a(b.children||""),I,A):b.el=v.el},E=(v,b,I,A)=>{[v.el,v.anchor]=g(v.children,b,I,A,v.el,v.anchor)},_=({el:v,anchor:b},I,A)=>{let P;for(;v&&v!==b;)P=f(v),i(v,I,A),v=P;i(b,I,A)},w=({el:v,anchor:b})=>{let I;for(;v&&v!==b;)I=f(v),r(v),v=I;r(b)},C=(v,b,I,A,P,$,Y,H,U)=>{Y=Y||b.type==="svg",v==null?T(b,I,A,P,$,Y,H,U):O(v,b,P,$,Y,H,U)},T=(v,b,I,A,P,$,Y,H)=>{let U,R;const{type:X,props:V,shapeFlag:G,transition:j,dirs:nt}=v;if(U=v.el=o(v.type,$,V&&V.is,V),G&8?h(U,v.children):G&16&&k(v.children,U,null,A,P,$&&X!=="foreignObject",Y,H),nt&&Pe(v,null,A,"created"),V){for(const ct in V)ct!=="value"&&!xi(ct)&&s(U,ct,null,V[ct],$,v.children,A,P,W);"value"in V&&s(U,"value",null,V.value),(R=V.onVnodeBeforeMount)&&se(R,A,v)}S(U,v,v.scopeId,Y,A),nt&&Pe(v,null,A,"beforeMount");const ft=(!P||P&&!P.pendingBranch)&&j&&!j.persisted;ft&&j.beforeEnter(U),i(U,b,I),((R=V&&V.onVnodeMounted)||ft||nt)&&Lt(()=>{R&&se(R,A,v),ft&&j.enter(U),nt&&Pe(v,null,A,"mounted")},P)},S=(v,b,I,A,P)=>{if(I&&d(v,I),A)for(let $=0;$<A.length;$++)d(v,A[$]);if(P){let $=P.subTree;if(b===$){const Y=P.vnode;S(v,Y,Y.scopeId,Y.slotScopeIds,P.parent)}}},k=(v,b,I,A,P,$,Y,H,U=0)=>{for(let R=U;R<v.length;R++){const X=v[R]=H?Ee(v[R]):Zt(v[R]);p(null,X,b,I,A,P,$,Y,H)}},O=(v,b,I,A,P,$,Y)=>{const H=b.el=v.el;let{patchFlag:U,dynamicChildren:R,dirs:X}=b;U|=v.patchFlag&16;const V=v.props||pt,G=b.props||pt;let j;I&&Le(I,!1),(j=G.onVnodeBeforeUpdate)&&se(j,I,b,v),X&&Pe(b,v,I,"beforeUpdate"),I&&Le(I,!0);const nt=P&&b.type!=="foreignObject";if(R?M(v.dynamicChildren,R,H,I,A,nt,$):Y||q(v,b,H,null,I,A,nt,$,!1),U>0){if(U&16)L(H,b,V,G,I,A,P);else if(U&2&&V.class!==G.class&&s(H,"class",null,G.class,P),U&4&&s(H,"style",V.style,G.style,P),U&8){const ft=b.dynamicProps;for(let ct=0;ct<ft.length;ct++){const yt=ft[ct],Jt=V[yt],Ve=G[yt];(Ve!==Jt||yt==="value")&&s(H,yt,Jt,Ve,P,v.children,I,A,W)}}U&1&&v.children!==b.children&&h(H,b.children)}else!Y&&R==null&&L(H,b,V,G,I,A,P);((j=G.onVnodeUpdated)||X)&&Lt(()=>{j&&se(j,I,b,v),X&&Pe(b,v,I,"updated")},A)},M=(v,b,I,A,P,$,Y)=>{for(let H=0;H<b.length;H++){const U=v[H],R=b[H],X=U.el&&(U.type===Vt||!he(U,R)||U.shapeFlag&70)?c(U.el):I;p(U,R,X,null,A,P,$,Y,!0)}},L=(v,b,I,A,P,$,Y)=>{if(I!==A){if(I!==pt)for(const H in I)!xi(H)&&!(H in A)&&s(v,H,I[H],null,Y,b.children,P,$,W);for(const H in A){if(xi(H))continue;const U=A[H],R=I[H];U!==R&&H!=="value"&&s(v,H,R,U,Y,b.children,P,$,W)}"value"in A&&s(v,"value",I.value,A.value)}},m=(v,b,I,A,P,$,Y,H,U)=>{const R=b.el=v?v.el:l(""),X=b.anchor=v?v.anchor:l("");let{patchFlag:V,dynamicChildren:G,slotScopeIds:j}=b;j&&(H=H?H.concat(j):j),v==null?(i(R,I,A),i(X,I,A),k(b.children,I,X,P,$,Y,H,U)):V>0&&V&64&&G&&v.dynamicChildren?(M(v.dynamicChildren,G,I,P,$,Y,H),(b.key!=null||P&&b===P.subTree)&&Gl(v,b,!0)):q(v,b,I,X,P,$,Y,H,U)},N=(v,b,I,A,P,$,Y,H,U)=>{b.slotScopeIds=H,v==null?b.shapeFlag&512?P.ctx.activate(b,I,A,Y,U):D(b,I,A,P,$,Y,U):z(v,b,U)},D=(v,b,I,A,P,$,Y)=>{const H=v.component=$c(v,A,P);if(tr(v)&&(H.ctx.renderer=dt),Xc(H),H.asyncDep){if(P&&P.registerDep(H,B),!v.el){const U=H.subTree=ee(zt);x(null,U,b,I)}return}B(H,v,b,I,P,$,Y)},z=(v,b,I)=>{const A=b.component=v.component;if(Ku(v,b,I))if(A.asyncDep&&!A.asyncResolved){F(A,b,I);return}else A.next=b,$u(A.update),A.update();else b.el=v.el,A.vnode=b},B=(v,b,I,A,P,$,Y)=>{const H=()=>{if(v.isMounted){let{next:X,bu:V,u:G,parent:j,vnode:nt}=v,ft=X,ct;Le(v,!1),X?(X.el=nt.el,F(v,X,Y)):X=nt,V&&wi(V),(ct=X.props&&X.props.onVnodeBeforeUpdate)&&se(ct,j,X,nt),Le(v,!0);const yt=dr(v),Jt=v.subTree;v.subTree=yt,p(Jt,yt,c(Jt.el),st(Jt),v,P,$),X.el=yt.el,ft===null&&Es(v,yt.el),G&&Lt(G,P),(ct=X.props&&X.props.onVnodeUpdated)&&Lt(()=>se(ct,j,X,nt),P)}else{let X;const{el:V,props:G}=b,{bm:j,m:nt,parent:ft}=v,ct=ki(b);if(Le(v,!1),j&&wi(j),!ct&&(X=G&&G.onVnodeBeforeMount)&&se(X,ft,b),Le(v,!0),V&&mt){const yt=()=>{v.subTree=dr(v),mt(V,v.subTree,v,P,null)};ct?b.type.__asyncLoader().then(()=>!v.isUnmounted&&yt()):yt()}else{const yt=v.subTree=dr(v);p(null,yt,I,A,v,P,$),b.el=yt.el}if(nt&&Lt(nt,P),!ct&&(X=G&&G.onVnodeMounted)){const yt=b;Lt(()=>se(X,ft,yt),P)}(b.shapeFlag&256||ft&&ki(ft.vnode)&&ft.vnode.shapeFlag&256)&&v.a&&Lt(v.a,P),v.isMounted=!0,b=I=A=null}},U=v.effect=new ps(H,()=>ws(R),v.scope),R=v.update=()=>U.run();R.id=v.uid,Le(v,!0),R()},F=(v,b,I)=>{b.component=v;const A=v.vnode.props;v.vnode=b,v.next=null,Ac(v,b.props,A,I),Nc(v,b.children,I),yn(),Gs(),bn()},q=(v,b,I,A,P,$,Y,H,U=!1)=>{const R=v&&v.children,X=v?v.shapeFlag:0,V=b.children,{patchFlag:G,shapeFlag:j}=b;if(G>0){if(G&128){it(R,V,I,A,P,$,Y,H,U);return}else if(G&256){rt(R,V,I,A,P,$,Y,H,U);return}}j&8?(X&16&&W(R,P,$),V!==R&&h(I,V)):X&16?j&16?it(R,V,I,A,P,$,Y,H,U):W(R,P,$,!0):(X&8&&h(I,""),j&16&&k(V,I,A,P,$,Y,H,U))},rt=(v,b,I,A,P,$,Y,H,U)=>{v=v||en,b=b||en;const R=v.length,X=b.length,V=Math.min(R,X);let G;for(G=0;G<V;G++){const j=b[G]=U?Ee(b[G]):Zt(b[G]);p(v[G],j,I,null,P,$,Y,H,U)}R>X?W(v,P,$,!0,!1,V):k(b,I,A,P,$,Y,H,U,V)},it=(v,b,I,A,P,$,Y,H,U)=>{let R=0;const X=b.length;let V=v.length-1,G=X-1;for(;R<=V&&R<=G;){const j=v[R],nt=b[R]=U?Ee(b[R]):Zt(b[R]);if(he(j,nt))p(j,nt,I,null,P,$,Y,H,U);else break;R++}for(;R<=V&&R<=G;){const j=v[V],nt=b[G]=U?Ee(b[G]):Zt(b[G]);if(he(j,nt))p(j,nt,I,null,P,$,Y,H,U);else break;V--,G--}if(R>V){if(R<=G){const j=G+1,nt=j<X?b[j].el:A;for(;R<=G;)p(null,b[R]=U?Ee(b[R]):Zt(b[R]),I,nt,P,$,Y,H,U),R++}}else if(R>G)for(;R<=V;)ut(v[R],P,$,!0),R++;else{const j=R,nt=R,ft=new Map;for(R=nt;R<=G;R++){const Dt=b[R]=U?Ee(b[R]):Zt(b[R]);Dt.key!=null&&ft.set(Dt.key,R)}let ct,yt=0;const Jt=G-nt+1;let Ve=!1,Fs=0;const wn=new Array(Jt);for(R=0;R<Jt;R++)wn[R]=0;for(R=j;R<=V;R++){const Dt=v[R];if(yt>=Jt){ut(Dt,P,$,!0);continue}let ie;if(Dt.key!=null)ie=ft.get(Dt.key);else for(ct=nt;ct<=G;ct++)if(wn[ct-nt]===0&&he(Dt,b[ct])){ie=ct;break}ie===void 0?ut(Dt,P,$,!0):(wn[ie-nt]=R+1,ie>=Fs?Fs=ie:Ve=!0,p(Dt,b[ie],I,null,P,$,Y,H,U),yt++)}const Bs=Ve?Lc(wn):en;for(ct=Bs.length-1,R=Jt-1;R>=0;R--){const Dt=nt+R,ie=b[Dt],zs=Dt+1<X?b[Dt+1].el:A;wn[R]===0?p(null,ie,I,zs,P,$,Y,H,U):Ve&&(ct<0||R!==Bs[ct]?at(ie,I,zs,2):ct--)}}},at=(v,b,I,A,P=null)=>{const{el:$,type:Y,transition:H,children:U,shapeFlag:R}=v;if(R&6){at(v.component.subTree,b,I,A);return}if(R&128){v.suspense.move(b,I,A);return}if(R&64){Y.move(v,b,I,dt);return}if(Y===Vt){i($,b,I);for(let V=0;V<U.length;V++)at(U[V],b,I,A);i(v.anchor,b,I);return}if(Y===vr){_(v,b,I);return}if(A!==2&&R&1&&H)if(A===0)H.beforeEnter($),i($,b,I),Lt(()=>H.enter($),P);else{const{leave:V,delayLeave:G,afterLeave:j}=H,nt=()=>i($,b,I),ft=()=>{V($,()=>{nt(),j&&j()})};G?G($,nt,ft):ft()}else i($,b,I)},ut=(v,b,I,A=!1,P=!1)=>{const{type:$,props:Y,ref:H,children:U,dynamicChildren:R,shapeFlag:X,patchFlag:V,dirs:G}=v;if(H!=null&&qr(H,null,I,v,!0),X&256){b.ctx.deactivate(v);return}const j=X&1&&G,nt=!ki(v);let ft;if(nt&&(ft=Y&&Y.onVnodeBeforeUnmount)&&se(ft,b,v),X&6)K(v.component,I,A);else{if(X&128){v.suspense.unmount(I,A);return}j&&Pe(v,null,b,"beforeUnmount"),X&64?v.type.remove(v,b,I,P,dt,A):R&&($!==Vt||V>0&&V&64)?W(R,b,I,!1,!0):($===Vt&&V&384||!P&&X&16)&&W(U,b,I),A&&wt(v)}(nt&&(ft=Y&&Y.onVnodeUnmounted)||j)&&Lt(()=>{ft&&se(ft,b,v),j&&Pe(v,null,b,"unmounted")},I)},wt=v=>{const{type:b,el:I,anchor:A,transition:P}=v;if(b===Vt){It(I,A);return}if(b===vr){w(v);return}const $=()=>{r(I),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(v.shapeFlag&1&&P&&!P.persisted){const{leave:Y,delayLeave:H}=P,U=()=>Y(I,$);H?H(v.el,$,U):U()}else $()},It=(v,b)=>{let I;for(;v!==b;)I=f(v),r(v),v=I;r(b)},K=(v,b,I)=>{const{bum:A,scope:P,update:$,subTree:Y,um:H}=v;A&&wi(A),P.stop(),$&&($.active=!1,ut(Y,v,b,I)),H&&Lt(H,b),Lt(()=>{v.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},W=(v,b,I,A=!1,P=!1,$=0)=>{for(let Y=$;Y<v.length;Y++)ut(v[Y],b,I,A,P)},st=v=>v.shapeFlag&6?st(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),ht=(v,b,I)=>{v==null?b._vnode&&ut(b._vnode,null,null,!0):p(b._vnode||null,v,b,null,null,null,I),Gs(),Il(),b._vnode=v},dt={p,um:ut,m:at,r:wt,mt:D,mc:k,pc:q,pbc:M,n:st,o:e};let J,mt;return t&&([J,mt]=t(dt)),{render:ht,hydrate:J,createApp:Sc(ht,J)}}function Le({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Gl(e,t,n=!1){const i=e.children,r=t.children;if(tt(i)&&tt(r))for(let s=0;s<i.length;s++){const o=i[s];let l=r[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[s]=Ee(r[s]),l.el=o.el),n||Gl(o,l)),l.type===nr&&(l.el=o.el)}}function Lc(e){const t=e.slice(),n=[0];let i,r,s,o,l;const a=e.length;for(i=0;i<a;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,e[n[l]]<u?s=l+1:o=l;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const Oc=e=>e.__isTeleport,Vt=Symbol(void 0),nr=Symbol(void 0),zt=Symbol(void 0),vr=Symbol(void 0),zn=[];let Gt=null;function ue(e=!1){zn.push(Gt=e?null:[])}function Wl(){zn.pop(),Gt=zn[zn.length-1]||null}let dn=1;function so(e){dn+=e}function Jl(e){return e.dynamicChildren=dn>0?Gt||en:null,Wl(),dn>0&&Gt&&Gt.push(e),e}function Oe(e,t,n,i,r,s){return Jl(Z(e,t,n,i,r,s,!0))}function Zl(e,t,n,i,r){return Jl(ee(e,t,n,i,r,!0))}function Ql(e){return e?e.__v_isVNode===!0:!1}function he(e,t){return e.type===t.type&&e.key===t.key}const ir="__vInternal",jl=({key:e})=>e??null,Ai=({ref:e,ref_key:t,ref_for:n})=>e!=null?xt(e)||Mt(e)||et(e)?{i:Kt,r:e,k:t,f:!!n}:e:null;function Z(e,t=null,n=null,i=0,r=null,s=e===Vt?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&jl(t),ref:t&&Ai(t),scopeId:Pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Kt};return l?(Ns(a,n),s&128&&e.normalize(a)):n&&(a.shapeFlag|=xt(n)?8:16),dn>0&&!o&&Gt&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&Gt.push(a),a}const ee=Dc;function Dc(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===vc)&&(e=zt),Ql(e)){const l=Te(e,t,!0);return n&&Ns(l,n),dn>0&&!s&&Gt&&(l.shapeFlag&6?Gt[Gt.indexOf(e)]=l:Gt.push(l)),l.patchFlag|=-2,l}if(Kc(e)&&(e=e.__vccOpts),t){t=Rc(t);let{class:l,style:a}=t;l&&!xt(l)&&(t.class=Gi(l)),vt(a)&&(bl(a)&&!tt(a)&&(a=Nt({},a)),t.style=Ki(a))}const o=xt(e)?1:Gu(e)?128:Oc(e)?64:vt(e)?4:et(e)?2:0;return Z(e,t,n,i,r,o,s,!0)}function Rc(e){return e?bl(e)||ir in e?Nt({},e):e:null}function Te(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:o}=e,l=t?Bc(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&jl(l),ref:t&&t.ref?n&&r?tt(r)?r.concat(Ai(t)):[r,Ai(t)]:Ai(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Vt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Te(e.ssContent),ssFallback:e.ssFallback&&Te(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function ge(e=" ",t=0){return ee(nr,null,e,t)}function Fc(e="",t=!1){return t?(ue(),Zl(zt,null,e)):ee(zt,null,e)}function Zt(e){return e==null||typeof e=="boolean"?ee(zt):tt(e)?ee(Vt,null,e.slice()):typeof e=="object"?Ee(e):ee(nr,null,String(e))}function Ee(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Te(e)}function Ns(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(tt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Ns(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(ir in t)?t._ctx=Kt:r===3&&Kt&&(Kt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else et(t)?(t={default:t,_ctx:Kt},n=32):(t=String(t),i&64?(n=16,t=[ge(t)]):n=8);e.children=t,e.shapeFlag|=n}function Bc(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Gi([t.class,i.class]));else if(r==="style")t.style=Ki([t.style,i.style]);else if(Wi(r)){const s=t[r],o=i[r];o&&s!==o&&!(tt(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function se(e,t,n,i=null){Wt(e,t,7,[n,i])}const zc=Kl();let Hc=0;function $c(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||zc,s={uid:Hc++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new su(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xl(i,r),emitsOptions:Tl(i,r),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:i.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Xu.bind(null,s),e.ce&&e.ce(s),s}let Et=null;const Uc=()=>Et||Kt,pn=e=>{Et=e,e.scope.on()},Xe=()=>{Et&&Et.scope.off(),Et=null};function ta(e){return e.vnode.shapeFlag&4}let Kn=!1;function Xc(e,t=!1){Kn=t;const{props:n,children:i}=e.vnode,r=ta(e);kc(e,n,r,t),Mc(e,i);const s=r?qc(e,t):void 0;return Kn=!1,s}function qc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=xl(new Proxy(e.ctx,_c));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?Vc(e):null;pn(e),yn();const s=Ie(i,e,0,[e.props,r]);if(bn(),Xe(),sl(s)){if(s.then(Xe,Xe),t)return s.then(o=>{Yr(e,o,t)}).catch(o=>{ti(o,e,0)});e.asyncDep=s}else Yr(e,s,t)}else ea(e,t)}function Yr(e,t,n){et(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:vt(t)&&(e.setupState=kl(t)),ea(e,n)}let oo;function ea(e,t,n){const i=e.type;if(!e.render){if(!t&&oo&&!i.render){const r=i.template||Cs(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:a}=i,u=Nt(Nt({isCustomElement:s,delimiters:l},o),a);i.render=oo(r,u)}}e.render=i.render||te}pn(e),yn(),yc(e),bn(),Xe()}function Yc(e){return new Proxy(e.attrs,{get(t,n){return Ht(e,"get","$attrs"),t[n]}})}function Vc(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=Yc(e))},slots:e.slots,emit:e.emit,expose:t}}function rr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(kl(xl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Bn)return Bn[n](e)},has(t,n){return n in t||n in Bn}}))}function Kc(e){return et(e)&&"__vccOpts"in e}const Pn=(e,t)=>Fu(e,t,Kn),Gc=Symbol(""),Wc=()=>Ei(Gc),Jc="3.2.45",Zc="http://www.w3.org/2000/svg",Be=typeof document<"u"?document:null,lo=Be&&Be.createElement("template"),Qc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?Be.createElementNS(Zc,e):Be.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Be.createTextNode(e),createComment:e=>Be.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Be.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{lo.innerHTML=i?`<svg>${e}</svg>`:e;const l=lo.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function jc(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function th(e,t,n){const i=e.style,r=xt(n);if(n&&!r){for(const s in n)Vr(i,s,n[s]);if(t&&!xt(t))for(const s in t)n[s]==null&&Vr(i,s,"")}else{const s=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const ao=/\s*!important$/;function Vr(e,t,n){if(tt(n))n.forEach(i=>Vr(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=eh(e,t);ao.test(n)?e.setProperty(_n(i),n.replace(ao,""),"important"):e[i]=n}}const uo=["Webkit","Moz","ms"],_r={};function eh(e,t){const n=_r[t];if(n)return n;let i=hn(t);if(i!=="filter"&&i in e)return _r[t]=i;i=al(i);for(let r=0;r<uo.length;r++){const s=uo[r]+i;if(s in e)return _r[t]=s}return t}const co="http://www.w3.org/1999/xlink";function nh(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(co,t.slice(6,t.length)):e.setAttributeNS(co,t,n);else{const s=Za(t);n==null||s&&!nl(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function ih(e,t,n,i,r,s,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const a=n??"";(e.value!==a||e.tagName==="OPTION")&&(e.value=a),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=nl(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Qe(e,t,n,i){e.addEventListener(t,n,i)}function rh(e,t,n,i){e.removeEventListener(t,n,i)}function sh(e,t,n,i,r=null){const s=e._vei||(e._vei={}),o=s[t];if(i&&o)o.value=i;else{const[l,a]=oh(t);if(i){const u=s[t]=uh(i,r);Qe(e,l,u,a)}else o&&(rh(e,l,o,a),s[t]=void 0)}}const ho=/(?:Once|Passive|Capture)$/;function oh(e){let t;if(ho.test(e)){t={};let i;for(;i=e.match(ho);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_n(e.slice(2)),t]}let yr=0;const lh=Promise.resolve(),ah=()=>yr||(lh.then(()=>yr=0),yr=Date.now());function uh(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Wt(ch(i,n.value),t,5,[i])};return n.value=e,n.attached=ah(),n}function ch(e,t){if(tt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const fo=/^on[a-z]/,hh=(e,t,n,i,r=!1,s,o,l,a)=>{t==="class"?jc(e,i,r):t==="style"?th(e,n,i):Wi(t)?us(t)||sh(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):fh(e,t,i,r))?ih(e,t,i,s,o,l,a):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),nh(e,t,i,r))};function fh(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&fo.test(t)&&et(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||fo.test(t)&&xt(n)?!1:t in e}const dh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};oc.props;const po=e=>{const t=e.props["onUpdate:modelValue"]||!1;return tt(t)?n=>wi(t,n):t};function ph(e){e.target.composing=!0}function go(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ge={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=po(r);const s=i||r.props&&r.props.type==="number";Qe(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Un(l)),e._assign(l)}),n&&Qe(e,"change",()=>{e.value=e.value.trim()}),t||(Qe(e,"compositionstart",ph),Qe(e,"compositionend",go),Qe(e,"change",go))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},s){if(e._assign=po(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&Un(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},gh=Nt({patchProp:hh},Qc);let mo;function mh(){return mo||(mo=Tc(gh))}const vh=(...e)=>{const t=mh().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=_h(i);if(!r)return;const s=t._component;!et(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function _h(e){return xt(e)?document.querySelector(e):e}function na(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yh(e){return e.length===1&&(e=bh(e)),{left:function(t,n,i,r){for(i==null&&(i=0),r==null&&(r=t.length);i<r;){var s=i+r>>>1;e(t[s],n)<0?i=s+1:r=s}return i},right:function(t,n,i,r){for(i==null&&(i=0),r==null&&(r=t.length);i<r;){var s=i+r>>>1;e(t[s],n)>0?r=s:i=s+1}return i}}}function bh(e){return function(t,n){return na(e(t),n)}}yh(na);var xh={value:function(){}};function sr(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ci(n)}function Ci(e){this._=e}function wh(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ci.prototype=sr.prototype={constructor:Ci,on:function(e,t){var n=this._,i=wh(e+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(e=i[s]).type)&&(r=Eh(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=i[s]).type)n[r]=vo(n[r],e.name,t);else if(t==null)for(r in n)n[r]=vo(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ci(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function Eh(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function vo(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=xh,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Kr="http://www.w3.org/1999/xhtml";const _o={svg:"http://www.w3.org/2000/svg",xhtml:Kr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function or(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_o.hasOwnProperty(t)?{space:_o[t],local:e}:e}function kh(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Kr&&t.documentElement.namespaceURI===Kr?t.createElement(e):t.createElementNS(n,e)}}function Ah(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ia(e){var t=or(e);return(t.local?Ah:kh)(t)}function Ch(){}function Is(e){return e==null?Ch:function(){return this.querySelector(e)}}function Mh(e){typeof e!="function"&&(e=Is(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,l=i[r]=new Array(o),a,u,h=0;h<o;++h)(a=s[h])&&(u=e.call(a,a.__data__,h,s))&&("__data__"in a&&(u.__data__=a.__data__),l[h]=u);return new $t(i,this._parents)}function Nh(){return[]}function ra(e){return e==null?Nh:function(){return this.querySelectorAll(e)}}function Ih(e){typeof e!="function"&&(e=ra(e));for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var o=t[s],l=o.length,a,u=0;u<l;++u)(a=o[u])&&(i.push(e.call(a,a.__data__,u,o)),r.push(a));return new $t(i,r)}function sa(e){return function(){return this.matches(e)}}function Sh(e){typeof e!="function"&&(e=sa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,l=i[r]=[],a,u=0;u<o;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new $t(i,this._parents)}function oa(e){return new Array(e.length)}function Th(){return new $t(this._enter||this._groups.map(oa),this._parents)}function Di(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Di.prototype={constructor:Di,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ph(e){return function(){return e}}var yo="$";function Lh(e,t,n,i,r,s){for(var o=0,l,a=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],i[o]=l):n[o]=new Di(e,s[o]);for(;o<a;++o)(l=t[o])&&(r[o]=l)}function Oh(e,t,n,i,r,s,o){var l,a,u={},h=t.length,c=s.length,f=new Array(h),d;for(l=0;l<h;++l)(a=t[l])&&(f[l]=d=yo+o.call(a,a.__data__,l,t),d in u?r[l]=a:u[d]=a);for(l=0;l<c;++l)d=yo+o.call(e,s[l],l,s),(a=u[d])?(i[l]=a,a.__data__=s[l],u[d]=null):n[l]=new Di(e,s[l]);for(l=0;l<h;++l)(a=t[l])&&u[f[l]]===a&&(r[l]=a)}function Dh(e,t){if(!e)return d=new Array(this.size()),u=-1,this.each(function(T){d[++u]=T}),d;var n=t?Oh:Lh,i=this._parents,r=this._groups;typeof e!="function"&&(e=Ph(e));for(var s=r.length,o=new Array(s),l=new Array(s),a=new Array(s),u=0;u<s;++u){var h=i[u],c=r[u],f=c.length,d=e.call(h,h&&h.__data__,u,i),g=d.length,p=l[u]=new Array(g),y=o[u]=new Array(g),x=a[u]=new Array(f);n(h,c,p,y,x,d,t);for(var E=0,_=0,w,C;E<g;++E)if(w=p[E]){for(E>=_&&(_=E+1);!(C=y[_])&&++_<g;);w._next=C||null}}return o=new $t(o,i),o._enter=l,o._exit=a,o}function Rh(){return new $t(this._exit||this._groups.map(oa),this._parents)}function Fh(e,t,n){var i=this.enter(),r=this,s=this.exit();return i=typeof e=="function"?e(i):i.append(e+""),t!=null&&(r=t(r)),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function Bh(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),o=new Array(i),l=0;l<s;++l)for(var a=t[l],u=n[l],h=a.length,c=o[l]=new Array(h),f,d=0;d<h;++d)(f=a[d]||u[d])&&(c[d]=f);for(;l<i;++l)o[l]=t[l];return new $t(o,this._parents)}function zh(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Hh(e){e||(e=$h);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],l=o.length,a=r[s]=new Array(l),u,h=0;h<l;++h)(u=o[h])&&(a[h]=u);a.sort(t)}return new $t(r,this._parents).order()}function $h(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Uh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Xh(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function qh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function Yh(){var e=0;return this.each(function(){++e}),e}function Vh(){return!this.node()}function Kh(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,o=r.length,l;s<o;++s)(l=r[s])&&e.call(l,l.__data__,s,r);return this}function Gh(e){return function(){this.removeAttribute(e)}}function Wh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jh(e,t){return function(){this.setAttribute(e,t)}}function Zh(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Qh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function jh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function tf(e,t){var n=or(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Wh:Gh:typeof t=="function"?n.local?jh:Qh:n.local?Zh:Jh)(n,t))}function la(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ef(e){return function(){this.style.removeProperty(e)}}function nf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rf(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function sf(e,t,n){return arguments.length>1?this.each((t==null?ef:typeof t=="function"?rf:nf)(e,t,n??"")):gn(this.node(),e)}function gn(e,t){return e.style.getPropertyValue(t)||la(e).getComputedStyle(e,null).getPropertyValue(t)}function of(e){return function(){delete this[e]}}function lf(e,t){return function(){this[e]=t}}function af(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function uf(e,t){return arguments.length>1?this.each((t==null?of:typeof t=="function"?af:lf)(e,t)):this.node()[e]}function aa(e){return e.trim().split(/^|\s+/)}function Ss(e){return e.classList||new ua(e)}function ua(e){this._node=e,this._names=aa(e.getAttribute("class")||"")}ua.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ca(e,t){for(var n=Ss(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function ha(e,t){for(var n=Ss(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function cf(e){return function(){ca(this,e)}}function hf(e){return function(){ha(this,e)}}function ff(e,t){return function(){(t.apply(this,arguments)?ca:ha)(this,e)}}function df(e,t){var n=aa(e+"");if(arguments.length<2){for(var i=Ss(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?ff:t?cf:hf)(n,t))}function pf(){this.textContent=""}function gf(e){return function(){this.textContent=e}}function mf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vf(e){return arguments.length?this.each(e==null?pf:(typeof e=="function"?mf:gf)(e)):this.node().textContent}function _f(){this.innerHTML=""}function yf(e){return function(){this.innerHTML=e}}function bf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xf(e){return arguments.length?this.each(e==null?_f:(typeof e=="function"?bf:yf)(e)):this.node().innerHTML}function wf(){this.nextSibling&&this.parentNode.appendChild(this)}function Ef(){return this.each(wf)}function kf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Af(){return this.each(kf)}function Cf(e){var t=typeof e=="function"?e:ia(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Mf(){return null}function Nf(e,t){var n=typeof e=="function"?e:ia(e),i=t==null?Mf:typeof t=="function"?t:Is(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function If(){var e=this.parentNode;e&&e.removeChild(this)}function Sf(){return this.each(If)}function Tf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Lf(e){return this.select(e?Pf:Tf)}function Of(e){return arguments.length?this.property("__data__",e):this.node().__data__}var fa={},Q=null;if(typeof document<"u"){var Df=document.documentElement;"onmouseenter"in Df||(fa={mouseenter:"mouseover",mouseleave:"mouseout"})}function Rf(e,t,n){return e=da(e,t,n),function(i){var r=i.relatedTarget;(!r||r!==this&&!(r.compareDocumentPosition(this)&8))&&e.call(this,i)}}function da(e,t,n){return function(i){var r=Q;Q=i;try{e.call(this,this.__data__,t,n)}finally{Q=r}}}function Ff(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Bf(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++i]=s;++i?t.length=i:delete this.__on}}}function zf(e,t,n){var i=fa.hasOwnProperty(e.type)?Rf:da;return function(r,s,o){var l=this.__on,a,u=i(t,s,o);if(l){for(var h=0,c=l.length;h<c;++h)if((a=l[h]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),a.value=t;return}}this.addEventListener(e.type,u,n),a={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(a):this.__on=[a]}}function Hf(e,t,n){var i=Ff(e+""),r,s=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,h;a<u;++a)for(r=0,h=l[a];r<s;++r)if((o=i[r]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?zf:Bf,n==null&&(n=!1),r=0;r<s;++r)this.each(l(i[r],t,n));return this}function Gr(e,t,n,i){var r=Q;e.sourceEvent=Q,Q=e;try{return t.apply(n,i)}finally{Q=r}}function pa(e,t,n){var i=la(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function $f(e,t){return function(){return pa(this,e,t)}}function Uf(e,t){return function(){return pa(this,e,t.apply(this,arguments))}}function Xf(e,t){return this.each((typeof t=="function"?Uf:$f)(e,t))}var ga=[null];function $t(e,t){this._groups=e,this._parents=t}function ei(){return new $t([[document.documentElement]],ga)}$t.prototype=ei.prototype={constructor:$t,select:Mh,selectAll:Ih,filter:Sh,data:Dh,enter:Th,exit:Rh,join:Fh,merge:Bh,order:zh,sort:Hh,call:Uh,nodes:Xh,node:qh,size:Yh,empty:Vh,each:Kh,attr:tf,style:sf,property:uf,classed:df,text:vf,html:xf,raise:Ef,lower:Af,append:Cf,insert:Nf,remove:Sf,clone:Lf,datum:Of,on:Hf,dispatch:Xf};function jt(e){return typeof e=="string"?new $t([[document.querySelector(e)]],[document.documentElement]):new $t([[e]],ga)}function ma(){for(var e=Q,t;t=e.sourceEvent;)e=t;return e}function va(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Ln(e){var t=ma();return t.changedTouches&&(t=t.changedTouches[0]),va(e,t)}function Wr(e,t,n){arguments.length<3&&(n=t,t=ma().changedTouches);for(var i=0,r=t?t.length:0,s;i<r;++i)if((s=t[i]).identifier===n)return va(e,s);return null}function br(){Q.stopImmediatePropagation()}function ln(){Q.preventDefault(),Q.stopImmediatePropagation()}function _a(e){var t=e.document.documentElement,n=jt(e).on("dragstart.drag",ln,!0);"onselectstart"in t?n.on("selectstart.drag",ln,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ya(e,t){var n=e.document.documentElement,i=jt(e).on("dragstart.drag",null);t&&(i.on("click.drag",ln,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function hi(e){return function(){return e}}function Jr(e,t,n,i,r,s,o,l,a,u){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=r,this.x=s,this.y=o,this.dx=l,this.dy=a,this._=u}Jr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function qf(){return!Q.ctrlKey&&!Q.button}function Yf(){return this.parentNode}function Vf(e){return e??{x:Q.x,y:Q.y}}function Kf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gf(){var e=qf,t=Yf,n=Vf,i=Kf,r={},s=sr("start","drag","end"),o=0,l,a,u,h,c=0;function f(w){w.on("mousedown.drag",d).filter(i).on("touchstart.drag",y).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!(h||!e.apply(this,arguments))){var w=_("mouse",t.apply(this,arguments),Ln,this,arguments);w&&(jt(Q.view).on("mousemove.drag",g,!0).on("mouseup.drag",p,!0),_a(Q.view),br(),u=!1,l=Q.clientX,a=Q.clientY,w("start"))}}function g(){if(ln(),!u){var w=Q.clientX-l,C=Q.clientY-a;u=w*w+C*C>c}r.mouse("drag")}function p(){jt(Q.view).on("mousemove.drag mouseup.drag",null),ya(Q.view,u),ln(),r.mouse("end")}function y(){if(e.apply(this,arguments)){var w=Q.changedTouches,C=t.apply(this,arguments),T=w.length,S,k;for(S=0;S<T;++S)(k=_(w[S].identifier,C,Wr,this,arguments))&&(br(),k("start"))}}function x(){var w=Q.changedTouches,C=w.length,T,S;for(T=0;T<C;++T)(S=r[w[T].identifier])&&(ln(),S("drag"))}function E(){var w=Q.changedTouches,C=w.length,T,S;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<C;++T)(S=r[w[T].identifier])&&(br(),S("end"))}function _(w,C,T,S,k){var O=T(C,w),M,L,m,N=s.copy();if(Gr(new Jr(f,"beforestart",M,w,o,O[0],O[1],0,0,N),function(){return(Q.subject=M=n.apply(S,k))==null?!1:(L=M.x-O[0]||0,m=M.y-O[1]||0,!0)}))return function D(z){var B=O,F;switch(z){case"start":r[w]=D,F=o++;break;case"end":delete r[w],--o;case"drag":O=T(C,w),F=o;break}Gr(new Jr(f,z,M,w,F,O[0]+L,O[1]+m,O[0]-B[0],O[1]-B[1],N),N.apply,N,[z,S,k])}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:hi(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:hi(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:hi(w),f):n},f.touchable=function(w){return arguments.length?(i=typeof w=="function"?w:hi(!!w),f):i},f.on=function(){var w=s.on.apply(s,arguments);return w===s?f:w},f.clickDistance=function(w){return arguments.length?(c=(w=+w)*w,f):Math.sqrt(c)},f}function Ts(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ba(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function ni(){}var Gn=.7,Ri=1/Gn,an="\\s*([+-]?\\d+)\\s*",Wn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",de="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wf=/^#([0-9a-f]{3,8})$/,Jf=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),Zf=new RegExp("^rgb\\("+[de,de,de]+"\\)$"),Qf=new RegExp("^rgba\\("+[an,an,an,Wn]+"\\)$"),jf=new RegExp("^rgba\\("+[de,de,de,Wn]+"\\)$"),td=new RegExp("^hsl\\("+[Wn,de,de]+"\\)$"),ed=new RegExp("^hsla\\("+[Wn,de,de,Wn]+"\\)$"),bo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ts(ni,Jn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:xo,formatHex:xo,formatHsl:nd,formatRgb:wo,toString:wo});function xo(){return this.rgb().formatHex()}function nd(){return xa(this).formatHsl()}function wo(){return this.rgb().formatRgb()}function Jn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Eo(t):n===3?new Bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jf.exec(e))?new Bt(t[1],t[2],t[3],1):(t=Zf.exec(e))?new Bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qf.exec(e))?fi(t[1],t[2],t[3],t[4]):(t=jf.exec(e))?fi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=td.exec(e))?Co(t[1],t[2]/100,t[3]/100,1):(t=ed.exec(e))?Co(t[1],t[2]/100,t[3]/100,t[4]):bo.hasOwnProperty(e)?Eo(bo[e]):e==="transparent"?new Bt(NaN,NaN,NaN,0):null}function Eo(e){return new Bt(e>>16&255,e>>8&255,e&255,1)}function fi(e,t,n,i){return i<=0&&(e=t=n=NaN),new Bt(e,t,n,i)}function id(e){return e instanceof ni||(e=Jn(e)),e?(e=e.rgb(),new Bt(e.r,e.g,e.b,e.opacity)):new Bt}function Zr(e,t,n,i){return arguments.length===1?id(e):new Bt(e,t,n,i??1)}function Bt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Ts(Bt,Zr,ba(ni,{brighter:function(e){return e=e==null?Ri:Math.pow(Ri,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Gn:Math.pow(Gn,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ko,formatHex:ko,formatRgb:Ao,toString:Ao}));function ko(){return"#"+xr(this.r)+xr(this.g)+xr(this.b)}function Ao(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function xr(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Co(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fe(e,t,n,i)}function xa(e){if(e instanceof fe)return new fe(e.h,e.s,e.l,e.opacity);if(e instanceof ni||(e=Jn(e)),!e)return new fe;if(e instanceof fe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=NaN,l=s-r,a=(s+r)/2;return l?(t===s?o=(n-i)/l+(n<i)*6:n===s?o=(i-t)/l+2:o=(t-n)/l+4,l/=a<.5?s+r:2-s-r,o*=60):l=a>0&&a<1?0:o,new fe(o,l,a,e.opacity)}function rd(e,t,n,i){return arguments.length===1?xa(e):new fe(e,t,n,i??1)}function fe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Ts(fe,rd,ba(ni,{brighter:function(e){return e=e==null?Ri:Math.pow(Ri,e),new fe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Gn:Math.pow(Gn,e),new fe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Bt(wr(e>=240?e-240:e+120,r,i),wr(e,r,i),wr(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function wr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function wa(e){return function(){return e}}function sd(e,t){return function(n){return e+n*t}}function od(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function ld(e){return(e=+e)==1?Ea:function(t,n){return n-t?od(t,n,e):wa(isNaN(t)?n:t)}}function Ea(e,t){var n=t-e;return n?sd(e,n):wa(isNaN(e)?t:e)}const Mo=function e(t){var n=ld(t);function i(r,s){var o=n((r=Zr(r)).r,(s=Zr(s)).r),l=n(r.g,s.g),a=n(r.b,s.b),u=Ea(r.opacity,s.opacity);return function(h){return r.r=o(h),r.g=l(h),r.b=a(h),r.opacity=u(h),r+""}}return i.gamma=e,i}(1);function ke(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Qr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Er=new RegExp(Qr.source,"g");function ad(e){return function(){return e}}function ud(e){return function(t){return e(t)+""}}function cd(e,t){var n=Qr.lastIndex=Er.lastIndex=0,i,r,s,o=-1,l=[],a=[];for(e=e+"",t=t+"";(i=Qr.exec(e))&&(r=Er.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,a.push({i:o,x:ke(i,r)})),n=Er.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?a[0]?ud(a[0].x):ad(t):(t=a.length,function(u){for(var h=0,c;h<t;++h)l[(c=a[h]).i]=c.x(u);return l.join("")})}var No=180/Math.PI,jr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ka(e,t,n,i,r,s){var o,l,a;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),e*i<t*n&&(e=-e,t=-t,a=-a,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*No,skewX:Math.atan(a)*No,scaleX:o,scaleY:l}}var En,kr,Io,di;function hd(e){return e==="none"?jr:(En||(En=document.createElement("DIV"),kr=document.documentElement,Io=document.defaultView),En.style.transform=e,e=Io.getComputedStyle(kr.appendChild(En),null).getPropertyValue("transform"),kr.removeChild(En),e=e.slice(7,-1).split(","),ka(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function fd(e){return e==null||(di||(di=document.createElementNS("http://www.w3.org/2000/svg","g")),di.setAttribute("transform",e),!(e=di.transform.baseVal.consolidate()))?jr:(e=e.matrix,ka(e.a,e.b,e.c,e.d,e.e,e.f))}function Aa(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}function s(u,h,c,f,d,g){if(u!==c||h!==f){var p=d.push("translate(",null,t,null,n);g.push({i:p-4,x:ke(u,c)},{i:p-2,x:ke(h,f)})}else(c||f)&&d.push("translate("+c+t+f+n)}function o(u,h,c,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:c.push(r(c)+"rotate(",null,i)-2,x:ke(u,h)})):h&&c.push(r(c)+"rotate("+h+i)}function l(u,h,c,f){u!==h?f.push({i:c.push(r(c)+"skewX(",null,i)-2,x:ke(u,h)}):h&&c.push(r(c)+"skewX("+h+i)}function a(u,h,c,f,d,g){if(u!==c||h!==f){var p=d.push(r(d)+"scale(",null,",",null,")");g.push({i:p-4,x:ke(u,c)},{i:p-2,x:ke(h,f)})}else(c!==1||f!==1)&&d.push(r(d)+"scale("+c+","+f+")")}return function(u,h){var c=[],f=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,c,f),o(u.rotate,h.rotate,c,f),l(u.skewX,h.skewX,c,f),a(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,f),u=h=null,function(d){for(var g=-1,p=f.length,y;++g<p;)c[(y=f[g]).i]=y.x(d);return c.join("")}}}var dd=Aa(hd,"px, ","px)","deg)"),pd=Aa(fd,", ",")",")"),kn=Math.SQRT2,Ar=2,So=4,gd=1e-12;function To(e){return((e=Math.exp(e))+1/e)/2}function md(e){return((e=Math.exp(e))-1/e)/2}function vd(e){return((e=Math.exp(2*e))-1)/(e+1)}function _d(e,t){var n=e[0],i=e[1],r=e[2],s=t[0],o=t[1],l=t[2],a=s-n,u=o-i,h=a*a+u*u,c,f;if(h<gd)f=Math.log(l/r)/kn,c=function(E){return[n+E*a,i+E*u,r*Math.exp(kn*E*f)]};else{var d=Math.sqrt(h),g=(l*l-r*r+So*h)/(2*r*Ar*d),p=(l*l-r*r-So*h)/(2*l*Ar*d),y=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(p*p+1)-p);f=(x-y)/kn,c=function(E){var _=E*f,w=To(y),C=r/(Ar*d)*(w*vd(kn*_+y)-md(y));return[n+C*a,i+C*u,r*w/To(kn*_+y)]}}return c.duration=f*1e3,c}var mn=0,On=0,An=0,Ca=1e3,Fi,Dn,Bi=0,Ye=0,lr=0,Zn=typeof performance=="object"&&performance.now?performance:Date,Ma=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ar(){return Ye||(Ma(yd),Ye=Zn.now()+lr)}function yd(){Ye=0}function zi(){this._call=this._time=this._next=null}zi.prototype=Na.prototype={constructor:zi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ar():+n)+(t==null?0:+t),!this._next&&Dn!==this&&(Dn?Dn._next=this:Fi=this,Dn=this),this._call=e,this._time=n,ts()},stop:function(){this._call&&(this._call=null,this._time=1/0,ts())}};function Na(e,t,n){var i=new zi;return i.restart(e,t,n),i}function bd(){ar(),++mn;for(var e=Fi,t;e;)(t=Ye-e._time)>=0&&e._call.call(null,t),e=e._next;--mn}function Po(){Ye=(Bi=Zn.now())+lr,mn=On=0;try{bd()}finally{mn=0,wd(),Ye=0}}function xd(){var e=Zn.now(),t=e-Bi;t>Ca&&(lr-=t,Bi=e)}function wd(){for(var e,t=Fi,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Fi=n);Dn=e,ts(i)}function ts(e){if(!mn){On&&(On=clearTimeout(On));var t=e-Ye;t>24?(e<1/0&&(On=setTimeout(Po,e-Zn.now()-lr)),An&&(An=clearInterval(An))):(An||(Bi=Zn.now(),An=setInterval(xd,Ca)),mn=1,Ma(Po))}}function Lo(e,t,n){var i=new zi;return t=t==null?0:+t,i.restart(function(r){i.stop(),e(r+t)},t,n),i}var Ed=sr("start","end","cancel","interrupt"),kd=[],Ia=0,Oo=1,es=2,Mi=3,Do=4,ns=5,Ni=6;function ur(e,t,n,i,r,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Ad(e,n,{name:t,index:i,group:r,on:Ed,tween:kd,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ia})}function Ps(e,t){var n=ne(e,t);if(n.state>Ia)throw new Error("too late; already scheduled");return n}function xe(e,t){var n=ne(e,t);if(n.state>Mi)throw new Error("too late; already running");return n}function ne(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ad(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Na(s,0,n.time);function s(u){n.state=Oo,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var h,c,f,d;if(n.state!==Oo)return a();for(h in i)if(d=i[h],d.name===n.name){if(d.state===Mi)return Lo(o);d.state===Do?(d.state=Ni,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[h]):+h<t&&(d.state=Ni,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[h])}if(Lo(function(){n.state===Mi&&(n.state=Do,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=es,n.on.call("start",e,e.__data__,n.index,n.group),n.state===es){for(n.state=Mi,r=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(d=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function l(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=ns,1),c=-1,f=r.length;++c<f;)r[c].call(e,h);n.state===ns&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ni,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function Ii(e,t){var n=e.__transition,i,r,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){s=!1;continue}r=i.state>es&&i.state<ns,i.state=Ni,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}s&&delete e.__transition}}function Cd(e){return this.each(function(){Ii(this,e)})}function Md(e,t){var n,i;return function(){var r=xe(this,e),s=r.tween;if(s!==n){i=n=s;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function Nd(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=xe(this,e),o=s.tween;if(o!==i){r=(i=o).slice();for(var l={name:t,value:n},a=0,u=r.length;a<u;++a)if(r[a].name===t){r[a]=l;break}a===u&&r.push(l)}s.tween=r}}function Id(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=ne(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?Md:Nd)(n,e,t))}function Ls(e,t,n){var i=e._id;return e.each(function(){var r=xe(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return ne(r,i).value[t]}}function Sa(e,t){var n;return(typeof t=="number"?ke:t instanceof Jn?Mo:(n=Jn(t))?(t=n,Mo):cd)(e,t)}function Sd(e){return function(){this.removeAttribute(e)}}function Td(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pd(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttribute(e);return o===r?null:o===i?s:s=t(i=o,n)}}function Ld(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?s:s=t(i=o,n)}}function Od(e,t,n){var i,r,s;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),a=l+"",o===a?null:o===i&&a===r?s:(r=a,s=t(i=o,l)))}}function Dd(e,t,n){var i,r,s;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),a=l+"",o===a?null:o===i&&a===r?s:(r=a,s=t(i=o,l)))}}function Rd(e,t){var n=or(e),i=n==="transform"?pd:Sa;return this.attrTween(e,typeof t=="function"?(n.local?Dd:Od)(n,i,Ls(this,"attr."+e,t)):t==null?(n.local?Td:Sd)(n):(n.local?Ld:Pd)(n,i,t))}function Fd(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Bd(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function zd(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Bd(e,s)),n}return r._value=t,r}function Hd(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Fd(e,s)),n}return r._value=t,r}function $d(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=or(e);return this.tween(n,(i.local?zd:Hd)(i,t))}function Ud(e,t){return function(){Ps(this,e).delay=+t.apply(this,arguments)}}function Xd(e,t){return t=+t,function(){Ps(this,e).delay=t}}function qd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ud:Xd)(t,e)):ne(this.node(),t).delay}function Yd(e,t){return function(){xe(this,e).duration=+t.apply(this,arguments)}}function Vd(e,t){return t=+t,function(){xe(this,e).duration=t}}function Kd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Yd:Vd)(t,e)):ne(this.node(),t).duration}function Gd(e,t){if(typeof t!="function")throw new Error;return function(){xe(this,e).ease=t}}function Wd(e){var t=this._id;return arguments.length?this.each(Gd(t,e)):ne(this.node(),t).ease}function Jd(e){typeof e!="function"&&(e=sa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,l=i[r]=[],a,u=0;u<o;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&l.push(a);return new ye(i,this._parents,this._name,this._id)}function Zd(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),o=new Array(i),l=0;l<s;++l)for(var a=t[l],u=n[l],h=a.length,c=o[l]=new Array(h),f,d=0;d<h;++d)(f=a[d]||u[d])&&(c[d]=f);for(;l<i;++l)o[l]=t[l];return new ye(o,this._parents,this._name,this._id)}function Qd(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function jd(e,t,n){var i,r,s=Qd(t)?Ps:xe;return function(){var o=s(this,e),l=o.on;l!==i&&(r=(i=l).copy()).on(t,n),o.on=r}}function tp(e,t){var n=this._id;return arguments.length<2?ne(this.node(),n).on.on(e):this.each(jd(n,e,t))}function ep(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function np(){return this.on("end.remove",ep(this._id))}function ip(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Is(e));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var l=i[o],a=l.length,u=s[o]=new Array(a),h,c,f=0;f<a;++f)(h=l[f])&&(c=e.call(h,h.__data__,f,l))&&("__data__"in h&&(c.__data__=h.__data__),u[f]=c,ur(u[f],t,n,f,u,ne(h,n)));return new ye(s,this._parents,t,n)}function rp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ra(e));for(var i=this._groups,r=i.length,s=[],o=[],l=0;l<r;++l)for(var a=i[l],u=a.length,h,c=0;c<u;++c)if(h=a[c]){for(var f=e.call(h,h.__data__,c,a),d,g=ne(h,n),p=0,y=f.length;p<y;++p)(d=f[p])&&ur(d,t,n,p,f,g);s.push(f),o.push(h)}return new ye(s,o,t,n)}var sp=ei.prototype.constructor;function op(){return new sp(this._groups,this._parents)}function lp(e,t){var n,i,r;return function(){var s=gn(this,e),o=(this.style.removeProperty(e),gn(this,e));return s===o?null:s===n&&o===i?r:r=t(n=s,i=o)}}function Ta(e){return function(){this.style.removeProperty(e)}}function ap(e,t,n){var i,r=n+"",s;return function(){var o=gn(this,e);return o===r?null:o===i?s:s=t(i=o,n)}}function up(e,t,n){var i,r,s;return function(){var o=gn(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),gn(this,e))),o===a?null:o===i&&a===r?s:(r=a,s=t(i=o,l))}}function cp(e,t){var n,i,r,s="style."+t,o="end."+s,l;return function(){var a=xe(this,e),u=a.on,h=a.value[s]==null?l||(l=Ta(t)):void 0;(u!==n||r!==h)&&(i=(n=u).copy()).on(o,r=h),a.on=i}}function hp(e,t,n){var i=(e+="")=="transform"?dd:Sa;return t==null?this.styleTween(e,lp(e,i)).on("end.style."+e,Ta(e)):typeof t=="function"?this.styleTween(e,up(e,i,Ls(this,"style."+e,t))).each(cp(this._id,e)):this.styleTween(e,ap(e,i,t),n).on("end.style."+e,null)}function fp(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function dp(e,t,n){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&fp(e,o,n)),i}return s._value=t,s}function pp(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,dp(e,t,n??""))}function gp(e){return function(){this.textContent=e}}function mp(e){return function(){var t=e(this);this.textContent=t??""}}function vp(e){return this.tween("text",typeof e=="function"?mp(Ls(this,"text",e)):gp(e==null?"":e+""))}function _p(e){return function(t){this.textContent=e.call(this,t)}}function yp(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&_p(r)),t}return i._value=e,i}function bp(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yp(e))}function xp(){for(var e=this._name,t=this._id,n=Pa(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,a,u=0;u<l;++u)if(a=o[u]){var h=ne(a,t);ur(a,e,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ye(i,this._parents,e,n)}function wp(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var l={value:o},a={value:function(){--r===0&&s()}};n.each(function(){var u=xe(this,i),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t})})}var Ep=0;function ye(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Pa(){return++Ep}var We=ei.prototype;ye.prototype={constructor:ye,select:ip,selectAll:rp,filter:Jd,merge:Zd,selection:op,transition:xp,call:We.call,nodes:We.nodes,node:We.node,size:We.size,empty:We.empty,each:We.each,on:tp,attr:Rd,attrTween:$d,style:hp,styleTween:pp,text:vp,textTween:bp,remove:np,tween:Id,delay:qd,duration:Kd,ease:Wd,end:wp};function kp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var is={time:null,delay:0,duration:250,ease:kp};function Ap(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return is.time=ar(),is;return n}function Cp(e){var t,n;e instanceof ye?(t=e._id,e=e._name):(t=Pa(),(n=is).time=ar(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,a,u=0;u<l;++u)(a=o[u])&&ur(a,e,t,u,o,n||Ap(a,t));return new ye(i,this._parents,e,t)}ei.prototype.interrupt=Cd;ei.prototype.transition=Cp;var Yt="$";function Hi(){}Hi.prototype=$i.prototype={constructor:Hi,has:function(e){return Yt+e in this},get:function(e){return this[Yt+e]},set:function(e,t){return this[Yt+e]=t,this},remove:function(e){var t=Yt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Yt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Yt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Yt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Yt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Yt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Yt)return!1;return!0},each:function(e){for(var t in this)t[0]===Yt&&e(this[t],t.slice(1),this)}};function $i(e,t){var n=new Hi;if(e instanceof Hi)e.each(function(l,a){n.set(a,l)});else if(Array.isArray(e)){var i=-1,r=e.length,s;if(t==null)for(;++i<r;)n.set(i,e[i]);else for(;++i<r;)n.set(t(s=e[i],i,e),s)}else if(e)for(var o in e)n.set(o,e[o]);return n}function Ro(){}var De=$i.prototype;Ro.prototype={constructor:Ro,has:De.has,add:function(e){return e+="",this[Yt+e]=e,this},remove:De.remove,clear:De.clear,values:De.keys,size:De.size,empty:De.empty,each:De.each};function xn(){return Math.random()}(function e(t){function n(i,r){return i=i==null?0:+i,r=r==null?1:+r,arguments.length===1?(r=i,i=0):r-=i,function(){return t()*r+i}}return n.source=e,n})(xn);const Mp=function e(t){function n(i,r){var s,o;return i=i==null?0:+i,r=r==null?1:+r,function(){var l;if(s!=null)l=s,s=null;else do s=t()*2-1,l=t()*2-1,o=s*s+l*l;while(!o||o>1);return i+r*l*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(xn);(function e(t){function n(){var i=Mp.source(t).apply(this,arguments);return function(){return Math.exp(i())}}return n.source=e,n})(xn);const Np=function e(t){function n(i){return function(){for(var r=0,s=0;s<i;++s)r+=t();return r}}return n.source=e,n}(xn);(function e(t){function n(i){var r=Np.source(t)(i);return function(){return r()/i}}return n.source=e,n})(xn);(function e(t){function n(i){return function(){return-Math.log(1-t())/i}}return n.source=e,n})(xn);function Ip(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Sp=Array.prototype,Tp=Sp.slice,Fo={name:"implicit"};function La(){var e=$i(),t=[],n=[],i=Fo;function r(s){var o=s+"",l=e.get(o);if(!l){if(i!==Fo)return i;e.set(o,l=t.push(s))}return n[(l-1)%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=$i();for(var o=-1,l=s.length,a,u;++o<l;)e.has(u=(a=s[o])+"")||e.set(u,t.push(a));return r},r.range=function(s){return arguments.length?(n=Tp.call(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return La(t,n).unknown(i)},Ip.apply(r,arguments),r}function Pp(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}const Lp=Pp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Ui(){this._=null}function cr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}Ui.prototype={constructor:Ui,insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Bo(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Cn(this,n),e=n,n=e.U),n.C=!1,i.C=!0,Mn(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Mn(this,n),e=n,n=e.U),n.C=!1,i.C=!0,Cn(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,i=e.L,r=e.R,s,o;if(i?r?s=Bo(r):s=i:s=r,t?t.L===e?t.L=s:t.R=s:this._=s,i&&r?(o=s.C,s.C=e.C,s.L=i,i.U=s,s!==r?(t=s.U,s.U=e.U,e=s.R,t.L=e,s.R=r,r.U=s):(s.U=t,t=s,e=s.R)):(o=e.C,e=s),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,Cn(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Mn(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,Cn(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,Mn(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Cn(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Mn(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function Cn(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Mn(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Bo(e){for(;e.L;)e=e.L;return e}function Rn(e,t,n,i){var r=[null,null],s=At.push(r)-1;return r.left=e,r.right=t,n&&Xi(r,e,t,n),i&&Xi(r,t,e,i),Ft[e.index].halfedges.push(s),Ft[t.index].halfedges.push(s),r}function Nn(e,t,n){var i=[t,n];return i.left=e,i}function Xi(e,t,n,i){!e[0]&&!e[1]?(e[0]=i,e.left=t,e.right=n):e.left===n?e[1]=i:e[0]=i}function Op(e,t,n,i,r){var s=e[0],o=e[1],l=s[0],a=s[1],u=o[0],h=o[1],c=0,f=1,d=u-l,g=h-a,p;if(p=t-l,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-l,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=n-a,!(!g&&p>0)){if(p/=g,g<0){if(p<c)return;p<f&&(f=p)}else if(g>0){if(p>f)return;p>c&&(c=p)}if(p=r-a,!(!g&&p<0)){if(p/=g,g<0){if(p>f)return;p>c&&(c=p)}else if(g>0){if(p<c)return;p<f&&(f=p)}return!(c>0)&&!(f<1)||(c>0&&(e[0]=[l+c*d,a+c*g]),f<1&&(e[1]=[l+f*d,a+f*g])),!0}}}}}function Dp(e,t,n,i,r){var s=e[1];if(s)return!0;var o=e[0],l=e.left,a=e.right,u=l[0],h=l[1],c=a[0],f=a[1],d=(u+c)/2,g=(h+f)/2,p,y;if(f===h){if(d<t||d>=i)return;if(u>c){if(!o)o=[d,n];else if(o[1]>=r)return;s=[d,r]}else{if(!o)o=[d,r];else if(o[1]<n)return;s=[d,n]}}else if(p=(u-c)/(f-h),y=g-p*d,p<-1||p>1)if(u>c){if(!o)o=[(n-y)/p,n];else if(o[1]>=r)return;s=[(r-y)/p,r]}else{if(!o)o=[(r-y)/p,r];else if(o[1]<n)return;s=[(n-y)/p,n]}else if(h<f){if(!o)o=[t,p*t+y];else if(o[0]>=i)return;s=[i,p*i+y]}else{if(!o)o=[i,p*i+y];else if(o[0]<t)return;s=[t,p*t+y]}return e[0]=o,e[1]=s,!0}function Rp(e,t,n,i){for(var r=At.length,s;r--;)(!Dp(s=At[r],e,t,n,i)||!Op(s,e,t,n,i)||!(Math.abs(s[0][0]-s[1][0])>gt||Math.abs(s[0][1]-s[1][1])>gt))&&delete At[r]}function Fp(e){return Ft[e.index]={site:e,halfedges:[]}}function Bp(e,t){var n=e.site,i=t.left,r=t.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=t[1],r=t[0]):(i=t[0],r=t[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Oa(e,t){return t[+(t.left!==e.site)]}function zp(e,t){return t[+(t.left===e.site)]}function Hp(){for(var e=0,t=Ft.length,n,i,r,s;e<t;++e)if((n=Ft[e])&&(s=(i=n.halfedges).length)){var o=new Array(s),l=new Array(s);for(r=0;r<s;++r)o[r]=r,l[r]=Bp(n,At[i[r]]);for(o.sort(function(a,u){return l[u]-l[a]}),r=0;r<s;++r)l[r]=i[o[r]];for(r=0;r<s;++r)i[r]=l[r]}}function $p(e,t,n,i){var r=Ft.length,s,o,l,a,u,h,c,f,d,g,p,y,x=!0;for(s=0;s<r;++s)if(o=Ft[s]){for(l=o.site,u=o.halfedges,a=u.length;a--;)At[u[a]]||u.splice(a,1);for(a=0,h=u.length;a<h;)g=zp(o,At[u[a]]),p=g[0],y=g[1],c=Oa(o,At[u[++a%h]]),f=c[0],d=c[1],(Math.abs(p-f)>gt||Math.abs(y-d)>gt)&&(u.splice(a,0,At.push(Nn(l,g,Math.abs(p-e)<gt&&i-y>gt?[e,Math.abs(f-e)<gt?d:i]:Math.abs(y-i)<gt&&n-p>gt?[Math.abs(d-i)<gt?f:n,i]:Math.abs(p-n)<gt&&y-t>gt?[n,Math.abs(f-n)<gt?d:t]:Math.abs(y-t)<gt&&p-e>gt?[Math.abs(d-t)<gt?f:e,t]:null))-1),++h);h&&(x=!1)}if(x){var E,_,w,C=1/0;for(s=0,x=null;s<r;++s)(o=Ft[s])&&(l=o.site,E=l[0]-e,_=l[1]-t,w=E*E+_*_,w<C&&(C=w,x=o));if(x){var T=[e,t],S=[e,i],k=[n,i],O=[n,t];x.halfedges.push(At.push(Nn(l=x.site,T,S))-1,At.push(Nn(l,S,k))-1,At.push(Nn(l,k,O))-1,At.push(Nn(l,O,T))-1)}}for(s=0;s<r;++s)(o=Ft[s])&&(o.halfedges.length||delete Ft[s])}var Da=[],Os;function Up(){cr(this),this.x=this.y=this.arc=this.site=this.cy=null}function je(e){var t=e.P,n=e.N;if(!(!t||!n)){var i=t.site,r=e.site,s=n.site;if(i!==s){var o=r[0],l=r[1],a=i[0]-o,u=i[1]-l,h=s[0]-o,c=s[1]-l,f=2*(a*c-u*h);if(!(f>=-Kp)){var d=a*a+u*u,g=h*h+c*c,p=(c*d-u*g)/f,y=(a*g-h*d)/f,x=Da.pop()||new Up;x.arc=e,x.site=r,x.x=p+o,x.y=(x.cy=y+l)+Math.sqrt(p*p+y*y),e.circle=x;for(var E=null,_=Qn._;_;)if(x.y<_.y||x.y===_.y&&x.x<=_.x)if(_.L)_=_.L;else{E=_.P;break}else if(_.R)_=_.R;else{E=_;break}Qn.insert(E,x),E||(Os=x)}}}}function un(e){var t=e.circle;t&&(t.P||(Os=t.N),Qn.remove(t),Da.push(t),cr(t),e.circle=null)}var Ra=[];function Xp(){cr(this),this.edge=this.site=this.circle=null}function zo(e){var t=Ra.pop()||new Xp;return t.site=e,t}function Cr(e){un(e),cn.remove(e),Ra.push(e),cr(e)}function qp(e){var t=e.circle,n=t.x,i=t.cy,r=[n,i],s=e.P,o=e.N,l=[e];Cr(e);for(var a=s;a.circle&&Math.abs(n-a.circle.x)<gt&&Math.abs(i-a.circle.cy)<gt;)s=a.P,l.unshift(a),Cr(a),a=s;l.unshift(a),un(a);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<gt&&Math.abs(i-u.circle.cy)<gt;)o=u.N,l.push(u),Cr(u),u=o;l.push(u),un(u);var h=l.length,c;for(c=1;c<h;++c)u=l[c],a=l[c-1],Xi(u.edge,a.site,u.site,r);a=l[0],u=l[h-1],u.edge=Rn(a.site,u.site,null,r),je(a),je(u)}function Yp(e){for(var t=e[0],n=e[1],i,r,s,o,l=cn._;l;)if(s=Fa(l,n)-t,s>gt)l=l.L;else if(o=t-Vp(l,n),o>gt){if(!l.R){i=l;break}l=l.R}else{s>-gt?(i=l.P,r=l):o>-gt?(i=l,r=l.N):i=r=l;break}Fp(e);var a=zo(e);if(cn.insert(i,a),!(!i&&!r)){if(i===r){un(i),r=zo(i.site),cn.insert(a,r),a.edge=r.edge=Rn(i.site,a.site),je(i),je(r);return}if(!r){a.edge=Rn(i.site,a.site);return}un(i),un(r);var u=i.site,h=u[0],c=u[1],f=e[0]-h,d=e[1]-c,g=r.site,p=g[0]-h,y=g[1]-c,x=2*(f*y-d*p),E=f*f+d*d,_=p*p+y*y,w=[(y*E-d*_)/x+h,(f*_-p*E)/x+c];Xi(r.edge,u,g,w),a.edge=Rn(u,e,null,w),r.edge=Rn(e,g,null,w),je(i),je(r)}}function Fa(e,t){var n=e.site,i=n[0],r=n[1],s=r-t;if(!s)return i;var o=e.P;if(!o)return-1/0;n=o.site;var l=n[0],a=n[1],u=a-t;if(!u)return l;var h=l-i,c=1/s-1/u,f=h/u;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*u)-a+u/2+r-s/2)))/c+i:(i+l)/2}function Vp(e,t){var n=e.N;if(n)return Fa(n,t);var i=e.site;return i[1]===t?i[0]:1/0}var gt=1e-6,Kp=1e-12,cn,Ft,Qn,At;function Gp(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Wp(e,t){return t[1]-e[1]||t[0]-e[0]}function Ho(e,t){var n=e.sort(Wp).pop(),i,r,s;for(At=[],Ft=new Array(e.length),cn=new Ui,Qn=new Ui;;)if(s=Os,n&&(!s||n[1]<s.y||n[1]===s.y&&n[0]<s.x))(n[0]!==i||n[1]!==r)&&(Yp(n),i=n[0],r=n[1]),n=e.pop();else if(s)qp(s.arc);else break;if(Hp(),t){var o=+t[0][0],l=+t[0][1],a=+t[1][0],u=+t[1][1];Rp(o,l,a,u),$p(o,l,a,u)}this.edges=At,this.cells=Ft,cn=Qn=At=Ft=null}Ho.prototype={constructor:Ho,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(i){return Oa(t,e[i])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,i){if(l=(s=n.halfedges).length)for(var r=n.site,s,o=-1,l,a,u=t[s[l-1]],h=u.left===r?u.right:u.left;++o<l;)a=h,u=t[s[o]],h=u.left===r?u.right:u.left,a&&h&&i<a.index&&i<h.index&&Gp(r,a,h)<0&&e.push([r.data,a.data,h.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i=this,r,s=i._found||0,o=i.cells.length,l;!(l=i.cells[s]);)if(++s>=o)return null;var a=e-l.site[0],u=t-l.site[1],h=a*a+u*u;do l=i.cells[r=s],s=null,l.halfedges.forEach(function(c){var f=i.edges[c],d=f.left;if(!((d===l.site||!d)&&!(d=f.right))){var g=e-d[0],p=t-d[1],y=g*g+p*p;y<h&&(h=y,s=d.index)}});while(s!==null);return i._found=r,n==null||h<=n*n?l.site:null}};function pi(e){return function(){return e}}function Jp(e,t,n){this.target=e,this.type=t,this.transform=n}function me(e,t,n){this.k=e,this.x=t,this.y=n}me.prototype={constructor:me,scale:function(e){return e===1?this:new me(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new me(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hr=new me(1,0,0);Ba.prototype=me.prototype;function Ba(e){for(;!e.__zoom;)if(!(e=e.parentNode))return hr;return e.__zoom}function Mr(){Q.stopImmediatePropagation()}function In(){Q.preventDefault(),Q.stopImmediatePropagation()}function Zp(){return!Q.ctrlKey&&!Q.button}function Qp(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $o(){return this.__zoom||hr}function jp(){return-Q.deltaY*(Q.deltaMode===1?.05:Q.deltaMode?1:.002)}function tg(){return navigator.maxTouchPoints||"ontouchstart"in this}function eg(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function ng(){var e=Zp,t=Qp,n=eg,i=jp,r=tg,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,a=_d,u=sr("start","zoom","end"),h,c,f=500,d=150,g=0;function p(m){m.property("__zoom",$o).on("wheel.zoom",T).on("mousedown.zoom",S).on("dblclick.zoom",k).filter(r).on("touchstart.zoom",O).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(m,N,D){var z=m.selection?m.selection():m;z.property("__zoom",$o),m!==z?_(m,N,D):z.interrupt().each(function(){w(this,arguments).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},p.scaleBy=function(m,N,D){p.scaleTo(m,function(){var z=this.__zoom.k,B=typeof N=="function"?N.apply(this,arguments):N;return z*B},D)},p.scaleTo=function(m,N,D){p.transform(m,function(){var z=t.apply(this,arguments),B=this.__zoom,F=D==null?E(z):typeof D=="function"?D.apply(this,arguments):D,q=B.invert(F),rt=typeof N=="function"?N.apply(this,arguments):N;return n(x(y(B,rt),F,q),z,o)},D)},p.translateBy=function(m,N,D){p.transform(m,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),o)})},p.translateTo=function(m,N,D,z){p.transform(m,function(){var B=t.apply(this,arguments),F=this.__zoom,q=z==null?E(B):typeof z=="function"?z.apply(this,arguments):z;return n(hr.translate(q[0],q[1]).scale(F.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof D=="function"?-D.apply(this,arguments):-D),B,o)},z)};function y(m,N){return N=Math.max(s[0],Math.min(s[1],N)),N===m.k?m:new me(N,m.x,m.y)}function x(m,N,D){var z=N[0]-D[0]*m.k,B=N[1]-D[1]*m.k;return z===m.x&&B===m.y?m:new me(m.k,z,B)}function E(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function _(m,N,D){m.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var z=this,B=arguments,F=w(z,B),q=t.apply(z,B),rt=D==null?E(q):typeof D=="function"?D.apply(z,B):D,it=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),at=z.__zoom,ut=typeof N=="function"?N.apply(z,B):N,wt=a(at.invert(rt).concat(it/at.k),ut.invert(rt).concat(it/ut.k));return function(It){if(It===1)It=ut;else{var K=wt(It),W=it/K[2];It=new me(W,rt[0]-K[0]*W,rt[1]-K[1]*W)}F.zoom(null,It)}})}function w(m,N,D){return!D&&m.__zooming||new C(m,N)}function C(m,N){this.that=m,this.args=N,this.active=0,this.extent=t.apply(m,N),this.taps=0}C.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,N){return this.mouse&&m!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){Gr(new Jp(p,m,this.that.__zoom),u.apply,u,[m,this.that,this.args])}};function T(){if(!e.apply(this,arguments))return;var m=w(this,arguments),N=this.__zoom,D=Math.max(s[0],Math.min(s[1],N.k*Math.pow(2,i.apply(this,arguments)))),z=Ln(this);if(m.wheel)(m.mouse[0][0]!==z[0]||m.mouse[0][1]!==z[1])&&(m.mouse[1]=N.invert(m.mouse[0]=z)),clearTimeout(m.wheel);else{if(N.k===D)return;m.mouse=[z,N.invert(z)],Ii(this),m.start()}In(),m.wheel=setTimeout(B,d),m.zoom("mouse",n(x(y(N,D),m.mouse[0],m.mouse[1]),m.extent,o));function B(){m.wheel=null,m.end()}}function S(){if(c||!e.apply(this,arguments))return;var m=w(this,arguments,!0),N=jt(Q.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",q,!0),D=Ln(this),z=Q.clientX,B=Q.clientY;_a(Q.view),Mr(),m.mouse=[D,this.__zoom.invert(D)],Ii(this),m.start();function F(){if(In(),!m.moved){var rt=Q.clientX-z,it=Q.clientY-B;m.moved=rt*rt+it*it>g}m.zoom("mouse",n(x(m.that.__zoom,m.mouse[0]=Ln(m.that),m.mouse[1]),m.extent,o))}function q(){N.on("mousemove.zoom mouseup.zoom",null),ya(Q.view,m.moved),In(),m.end()}}function k(){if(e.apply(this,arguments)){var m=this.__zoom,N=Ln(this),D=m.invert(N),z=m.k*(Q.shiftKey?.5:2),B=n(x(y(m,z),N,D),t.apply(this,arguments),o);In(),l>0?jt(this).transition().duration(l).call(_,B,N):jt(this).call(p.transform,B)}}function O(){if(e.apply(this,arguments)){var m=Q.touches,N=m.length,D=w(this,arguments,Q.changedTouches.length===N),z,B,F,q;for(Mr(),B=0;B<N;++B)F=m[B],q=Wr(this,m,F.identifier),q=[q,this.__zoom.invert(q),F.identifier],D.touch0?!D.touch1&&D.touch0[2]!==q[2]&&(D.touch1=q,D.taps=0):(D.touch0=q,z=!0,D.taps=1+!!h);h&&(h=clearTimeout(h)),z&&(D.taps<2&&(h=setTimeout(function(){h=null},f)),Ii(this),D.start())}}function M(){if(this.__zooming){var m=w(this,arguments),N=Q.changedTouches,D=N.length,z,B,F,q;for(In(),h&&(h=clearTimeout(h)),m.taps=0,z=0;z<D;++z)B=N[z],F=Wr(this,N,B.identifier),m.touch0&&m.touch0[2]===B.identifier?m.touch0[0]=F:m.touch1&&m.touch1[2]===B.identifier&&(m.touch1[0]=F);if(B=m.that.__zoom,m.touch1){var rt=m.touch0[0],it=m.touch0[1],at=m.touch1[0],ut=m.touch1[1],wt=(wt=at[0]-rt[0])*wt+(wt=at[1]-rt[1])*wt,It=(It=ut[0]-it[0])*It+(It=ut[1]-it[1])*It;B=y(B,Math.sqrt(wt/It)),F=[(rt[0]+at[0])/2,(rt[1]+at[1])/2],q=[(it[0]+ut[0])/2,(it[1]+ut[1])/2]}else if(m.touch0)F=m.touch0[0],q=m.touch0[1];else return;m.zoom("touch",n(x(B,F,q),m.extent,o))}}function L(){if(this.__zooming){var m=w(this,arguments),N=Q.changedTouches,D=N.length,z,B;for(Mr(),c&&clearTimeout(c),c=setTimeout(function(){c=null},f),z=0;z<D;++z)B=N[z],m.touch0&&m.touch0[2]===B.identifier?delete m.touch0:m.touch1&&m.touch1[2]===B.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2){var F=jt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return p.wheelDelta=function(m){return arguments.length?(i=typeof m=="function"?m:pi(+m),p):i},p.filter=function(m){return arguments.length?(e=typeof m=="function"?m:pi(!!m),p):e},p.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:pi(!!m),p):r},p.extent=function(m){return arguments.length?(t=typeof m=="function"?m:pi([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),p):t},p.scaleExtent=function(m){return arguments.length?(s[0]=+m[0],s[1]=+m[1],p):[s[0],s[1]]},p.translateExtent=function(m){return arguments.length?(o[0][0]=+m[0][0],o[1][0]=+m[1][0],o[0][1]=+m[0][1],o[1][1]=+m[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(m){return arguments.length?(n=m,p):n},p.duration=function(m){return arguments.length?(l=+m,p):l},p.interpolate=function(m){return arguments.length?(a=m,p):a},p.on=function(){var m=u.on.apply(u,arguments);return m===u?p:m},p.clickDistance=function(m){return arguments.length?(g=(m=+m)*m,p):Math.sqrt(g)},p}class za{constructor(t,n,i){this.source=t,this.target=n,this.type=i}}class qi{constructor(t,n,i,r){if(this.linkAccessor=i,this.modules=new Array(t),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new qe);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new gi(s))}this.R=n.length,n.forEach(o=>{var l=this.modules[i.getSourceIndex(o)],a=this.modules[i.getTargetIndex(o)],u=i.getType(o);l.outgoing.add(u,a),a.incoming.add(u,l)})}initModulesFromGroup(t){var n=new qe;this.roots.push(n);for(var i=0;i<t.leaves.length;++i){var r=t.leaves[i],s=new gi(r.id);this.modules[r.id]=s,n.add(s)}if(t.groups)for(var o=0;o<t.groups.length;++o){var l=t.groups[o],a={};for(var u in l)u!=="leaves"&&u!=="groups"&&l.hasOwnProperty(u)&&(a[u]=l[u]);n.add(new gi(-1-o,new vn,new vn,this.initModulesFromGroup(l),a))}return n}merge(t,n,i=0){var r=t.incoming.intersection(n.incoming),s=t.outgoing.intersection(n.outgoing),o=new qe;o.add(t),o.add(n);var l=new gi(this.modules.length,s,r,o);this.modules.push(l);var a=(u,h,c)=>{u.forAll((f,d)=>{f.forAll(g=>{var p=g[h];p.add(d,l),p.remove(d,t),p.remove(d,n),t[c].remove(d,g),n[c].remove(d,g)})})};return a(s,"incoming","outgoing"),a(r,"outgoing","incoming"),this.R-=r.count()+s.count(),this.roots[i].remove(t),this.roots[i].remove(n),this.roots[i].add(l),l}rootMerges(t=0){for(var n=this.roots[t].modules(),i=n.length,r=new Array(i*(i-1)),s=0,o=0,l=i-1;o<l;++o)for(var a=o+1;a<i;++a){var u=n[o],h=n[a];r[s]={id:s,nEdges:this.nEdges(u,h),a:u,b:h},s++}return r}greedyMerge(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var n=this.rootMerges(t).sort((r,s)=>r.nEdges==s.nEdges?r.id-s.id:r.nEdges-s.nEdges),i=n[0];if(!(i.nEdges>=this.R))return this.merge(i.a,i.b,t),!0}}nEdges(t,n){var i=t.incoming.intersection(n.incoming),r=t.outgoing.intersection(n.outgoing);return this.R-i.count()-r.count()}getGroupHierarchy(t){var n=[],i={};Ha(this.roots[0],i,n);var r=this.allEdges();return r.forEach(s=>{var o=this.modules[s.source],l=this.modules[s.target];t.push(new za(typeof o.gid>"u"?s.source:n[o.gid],typeof l.gid>"u"?s.target:n[l.gid],s.type))}),n}allEdges(){var t=[];return qi.getEdges(this.roots[0],t),t}static getEdges(t,n){t.forAll(i=>{i.getEdges(n),qi.getEdges(i.children,n)})}}function Ha(e,t,n){e.forAll(i=>{if(i.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(i.id);else{var r=t;if(i.gid=n.length,!i.isIsland()||i.isPredefined()){if(r={id:i.gid},i.isPredefined())for(var s in i.definition)r[s]=i.definition[s];t.groups||(t.groups=[]),t.groups.push(i.gid),n.push(r)}Ha(i.children,r,n)}})}class gi{constructor(t,n=new vn,i=new vn,r=new qe,s){this.id=t,this.outgoing=n,this.incoming=i,this.children=r,this.definition=s}getEdges(t){this.outgoing.forAll((n,i)=>{n.forAll(r=>{t.push(new za(this.id,r.id,i))})})}isLeaf(){return this.children.count()===0}isIsland(){return this.outgoing.count()===0&&this.incoming.count()===0}isPredefined(){return typeof this.definition<"u"}}function ig(e,t){var n={};for(var i in e)i in t&&(n[i]=e[i]);return n}class qe{constructor(){this.table={}}count(){return Object.keys(this.table).length}intersection(t){var n=new qe;return n.table=ig(this.table,t.table),n}intersectionCount(t){return this.intersection(t).count()}contains(t){return t in this.table}add(t){this.table[t.id]=t}remove(t){delete this.table[t.id]}forAll(t){for(var n in this.table)t(this.table[n])}modules(){var t=[];return this.forAll(n=>{n.isPredefined()||t.push(n)}),t}}class vn{constructor(){this.sets={},this.n=0}count(){return this.n}contains(t){var n=!1;return this.forAllModules(i=>{!n&&i.id==t&&(n=!0)}),n}add(t,n){var i=t in this.sets?this.sets[t]:this.sets[t]=new qe;i.add(n),++this.n}remove(t,n){var i=this.sets[t];i.remove(n),i.count()===0&&delete this.sets[t],--this.n}forAll(t){for(var n in this.sets)t(this.sets[n],Number(n))}forAllModules(t){this.forAll((n,i)=>n.forAll(t))}intersection(t){var n=new vn;return this.forAll((i,r)=>{if(r in t.sets){var s=i.intersection(t.sets[r]),o=s.count();o>0&&(n.sets[r]=s,n.n+=o)}}),n}}function rg(e,t,n,i){for(var r=e.length,s=new qi(r,t,n,i);s.greedyMerge(););var o=[],l=s.getGroupHierarchy(o);return o.forEach(function(a){var u=h=>{var c=a[h];typeof c=="number"&&(a[h]=e[c])};u("source"),u("target")}),{groups:l,powerEdges:o}}function $a(e,t){var n={};for(var i in e)n[i]={};for(var i in t)n[i]={};return Object.keys(n).length}function Ua(e,t){var n=0;for(var i in e)typeof t[i]<"u"&&++n;return n}function sg(e,t){var n={},i=(r,s)=>{typeof n[r]>"u"&&(n[r]={}),n[r][s]={}};return e.forEach(r=>{var s=t.getSourceIndex(r),o=t.getTargetIndex(r);i(s,o),i(o,s)}),n}function Xa(e,t,n,i){var r=sg(e,i);e.forEach(s=>{var o=r[i.getSourceIndex(s)],l=r[i.getTargetIndex(s)];i.setLength(s,1+t*n(o,l))})}function og(e,t,n=1){Xa(e,n,(i,r)=>Math.sqrt($a(i,r)-Ua(i,r)),t)}function lg(e,t,n=1){Xa(e,n,(i,r)=>Math.min(Object.keys(i).length,Object.keys(r).length)<1.1?0:Ua(i,r)/$a(i,r),t)}function ag(e,t,n,i){var r=ug(e,t,i),s={};r.forEach((l,a)=>l.forEach(u=>s[u]=a));var o=[];return t.forEach(l=>{var a=i.getSourceIndex(l),u=i.getTargetIndex(l),h=s[a],c=s[u];h!==c&&o.push({axis:n,left:a,right:u,gap:i.getMinSeparation(l)})}),o}function ug(e,t,n){var i=[],r=0,s=[],o=[];function l(c){c.index=c.lowlink=r++,s.push(c),c.onStack=!0;for(var f of c.out)typeof f.index>"u"?(l(f),c.lowlink=Math.min(c.lowlink,f.lowlink)):f.onStack&&(c.lowlink=Math.min(c.lowlink,f.index));if(c.lowlink===c.index){for(var d=[];s.length&&(f=s.pop(),f.onStack=!1,d.push(f),f!==c););o.push(d.map(g=>g.id))}}for(var a=0;a<e;a++)i.push({id:a,out:[]});for(var u of t){let c=i[n.getSourceIndex(u)],f=i[n.getTargetIndex(u)];c.out.push(f)}for(var h of i)typeof h.index>"u"&&l(h);return o}class cg{constructor(){this.locks={}}add(t,n){this.locks[t]=n}clear(){this.locks={}}isEmpty(){for(var t in this.locks)return!1;return!0}apply(t){for(var n in this.locks)t(Number(n),this.locks[n])}}const ae=class{constructor(e,t,n=null){this.D=t,this.G=n,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new hg,this.project=null,this.x=e,this.k=e.length;var i=this.n=e[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new cg,this.minD=Number.MAX_VALUE;for(var r=i,s;r--;)for(s=i;--s>r;){var o=t[r][s];o>0&&o<this.minD&&(this.minD=o)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),r=this.k;r--;){for(this.g[r]=new Array(i),this.H[r]=new Array(i),s=i;s--;)this.H[r][s]=new Array(i);this.Hd[r]=new Array(i),this.a[r]=new Array(i),this.b[r]=new Array(i),this.c[r]=new Array(i),this.d[r]=new Array(i),this.e[r]=new Array(i),this.ia[r]=new Array(i),this.ib[r]=new Array(i),this.xtmp[r]=new Array(i)}}static createSquareMatrix(e,t){for(var n=new Array(e),i=0;i<e;++i){n[i]=new Array(e);for(var r=0;r<e;++r)n[i][r]=t(i,r)}return n}offsetDir(){for(var e=new Array(this.k),t=0,n=0;n<this.k;++n){var i=e[n]=this.random.getNextBetween(.01,1)-.5;t+=i*i}return t=Math.sqrt(t),e.map(r=>r*=this.minD/t)}computeDerivatives(e){const t=this.n;if(t<1)return;let n,i=new Array(this.k),r=new Array(this.k),s=new Array(this.k),o=0;for(let _=0;_<t;++_){for(n=0;n<this.k;++n)s[n]=this.g[n][_]=0;for(let w=0;w<t;++w){if(_===w)continue;let C=t,T=0;for(;C--;){for(T=0,n=0;n<this.k;++n){const z=i[n]=e[n][_]-e[n][w];T+=r[n]=z*z}if(T>1e-9)break;const D=this.offsetDir();for(n=0;n<this.k;++n)e[n][w]+=D[n]}const S=Math.sqrt(T),k=this.D[_][w];let O=this.G!=null?this.G[_][w]:1;if(O>1&&S>k||!isFinite(k)){for(n=0;n<this.k;++n)this.H[n][_][w]=0;continue}O>1&&(O=1);const M=k*k,L=2*O*(S-k)/(M*S),m=T*S,N=2*-O/(M*m);for(isFinite(L)||console.log(L),n=0;n<this.k;++n)this.g[n][_]+=i[n]*L,s[n]-=this.H[n][_][w]=N*(2*m+k*(r[n]-T))}for(n=0;n<this.k;++n)o=Math.max(o,this.H[n][_][_]=s[n])}for(var l=this.snapGridSize/2,a=this.snapGridSize,u=this.snapStrength,h=u/(l*l),c=this.numGridSnapNodes,f=0;f<c;++f)for(n=0;n<this.k;++n){var d=this.x[n][f],g=d/a,p=g%1,y=g-p,x=Math.abs(p),E=x<=.5?d-y*a:d>0?d-(y+1)*a:d-(y-1)*a;-l<E&&E<=l&&(this.scaleSnapByMaxH?(this.g[n][f]+=o*h*E,this.H[n][f][f]+=o*h):(this.g[n][f]+=h*E,this.H[n][f][f]+=h))}this.locks.isEmpty()||this.locks.apply((_,w)=>{for(n=0;n<this.k;++n)this.H[n][_][_]+=o,this.g[n][_]-=o*(w[n]-e[n][_])})}static dotProd(e,t){for(var n=0,i=e.length;i--;)n+=e[i]*t[i];return n}static rightMultiply(e,t,n){for(var i=e.length;i--;)n[i]=ae.dotProd(e[i],t)}computeStepSize(e){for(var t=0,n=0,i=0;i<this.k;++i)t+=ae.dotProd(this.g[i],e[i]),ae.rightMultiply(this.H[i],e[i],this.Hd[i]),n+=ae.dotProd(e[i],this.Hd[i]);return n===0||!isFinite(n)?0:1*t/n}reduceStress(){this.computeDerivatives(this.x);for(var e=this.computeStepSize(this.g),t=0;t<this.k;++t)this.takeDescentStep(this.x[t],this.g[t],e);return this.computeStress()}static copy(e,t){for(var n=e.length,i=t[0].length,r=0;r<n;++r)for(var s=0;s<i;++s)t[r][s]=e[r][s]}stepAndProject(e,t,n,i){ae.copy(e,t),this.takeDescentStep(t[0],n[0],i),this.project&&this.project[0](e[0],e[1],t[0]),this.takeDescentStep(t[1],n[1],i),this.project&&this.project[1](t[0],e[1],t[1]);for(var r=2;r<this.k;r++)this.takeDescentStep(t[r],n[r],i)}static mApply(e,t,n){for(var i=e;i-- >0;)for(var r=t;r-- >0;)n(i,r)}matrixApply(e){ae.mApply(this.k,this.n,e)}computeNextPosition(e,t){this.computeDerivatives(e);var n=this.computeStepSize(this.g);if(this.stepAndProject(e,t,this.g,n),this.project){this.matrixApply((r,s)=>this.e[r][s]=e[r][s]-t[r][s]);var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(e,t,this.e,i)}}run(e){for(var t=Number.MAX_VALUE,n=!1;!n&&e-- >0;){var i=this.rungeKutta();n=Math.abs(t/i-1)<this.threshold,t=i}return t}rungeKutta(){this.computeNextPosition(this.x,this.a),ae.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),ae.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var e=0;return this.matrixApply((t,n)=>{var i=(this.a[t][n]+2*this.b[t][n]+2*this.c[t][n]+this.d[t][n])/6,r=this.x[t][n]-i;e+=r*r,this.x[t][n]=i}),e}static mid(e,t,n){ae.mApply(e.length,e[0].length,(i,r)=>n[i][r]=e[i][r]+(t[i][r]-e[i][r])/2)}takeDescentStep(e,t,n){for(var i=0;i<this.n;++i)e[i]=e[i]-n*t[i]}computeStress(){for(var e=0,t=0,n=this.n-1;t<n;++t)for(var i=t+1,r=this.n;i<r;++i){for(var s=0,o=0;o<this.k;++o){var l=this.x[o][t]-this.x[o][i];s+=l*l}s=Math.sqrt(s);var a=this.D[t][i];if(isFinite(a)){var u=a-s,h=a*a;e+=u*u/h}}return e}};let Fn=ae;Fn.zeroDistance=1e-10;class hg{constructor(t=1){this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}getNext(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range}getNextBetween(t,n){return t+this.getNext()*(n-t)}}class fg{constructor(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}addVariable(t){var n=this.scale/t.scale,i=t.offset/t.scale,r=t.weight;this.AB+=r*n*i,this.AD+=r*n*t.desiredPosition,this.A2+=r*n*n}getPosn(){return(this.AD-this.AB)/this.A2}}class Yi{constructor(t,n,i,r=!1){this.left=t,this.right=n,this.gap=i,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=n,this.gap=i,this.equality=r}slack(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()}}class qa{constructor(t,n=1,i=1){this.desiredPosition=t,this.weight=n,this.scale=i,this.offset=0}dfdv(){return 2*this.weight*(this.position()-this.desiredPosition)}position(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale}visitNeighbours(t,n){var i=(r,s)=>r.active&&t!==s&&n(r,s);this.cOut.forEach(r=>i(r,r.right)),this.cIn.forEach(r=>i(r,r.left))}}class He{constructor(t){this.vars=[],t.offset=0,this.ps=new fg(t.scale),this.addVariable(t)}addVariable(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()}updateWeightedPosition(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,n=this.vars.length;t<n;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()}compute_lm(t,n,i){var r=t.dfdv();return t.visitNeighbours(n,(s,o)=>{var l=this.compute_lm(o,t,i);o===s.right?(r+=l*s.left.scale,s.lm=l):(r+=l*s.right.scale,s.lm=-l),i(s)}),r/t.scale}populateSplitBlock(t,n){t.visitNeighbours(n,(i,r)=>{r.offset=t.offset+(r===i.right?i.gap:-i.gap),this.addVariable(r),this.populateSplitBlock(r,t)})}traverse(t,n,i=this.vars[0],r=null){i.visitNeighbours(r,(s,o)=>{n.push(t(s)),this.traverse(t,n,o,i)})}findMinLM(){var t=null;return this.compute_lm(this.vars[0],null,n=>{!n.equality&&(t===null||n.lm<t.lm)&&(t=n)}),t}findMinLMBetween(t,n){this.compute_lm(t,null,()=>{});var i=null;return this.findPath(t,null,n,(r,s)=>{!r.equality&&r.right===s&&(i===null||r.lm<i.lm)&&(i=r)}),i}findPath(t,n,i,r){var s=!1;return t.visitNeighbours(n,(o,l)=>{!s&&(l===i||this.findPath(l,t,i,r))&&(s=!0,r(o,l))}),s}isActiveDirectedPathBetween(t,n){if(t===n)return!0;for(var i=t.cOut.length;i--;){var r=t.cOut[i];if(r.active&&this.isActiveDirectedPathBetween(r.right,n))return!0}return!1}static split(t){return t.active=!1,[He.createSplitBlock(t.left),He.createSplitBlock(t.right)]}static createSplitBlock(t){var n=new He(t);return n.populateSplitBlock(t,null),n}splitBetween(t,n){var i=this.findMinLMBetween(t,n);if(i!==null){var r=He.split(i);return{constraint:i,lb:r[0],rb:r[1]}}return null}mergeAcross(t,n,i){n.active=!0;for(var r=0,s=t.vars.length;r<s;++r){var o=t.vars[r];o.offset+=i,this.addVariable(o)}this.posn=this.ps.getPosn()}cost(){for(var t=0,n=this.vars.length;n--;){var i=this.vars[n],r=i.position()-i.desiredPosition;t+=r*r*i.weight}return t}}class Uo{constructor(t){this.vs=t;var n=t.length;for(this.list=new Array(n);n--;){var i=new He(t[n]);this.list[n]=i,i.blockInd=n}}cost(){for(var t=0,n=this.list.length;n--;)t+=this.list[n].cost();return t}insert(t){t.blockInd=this.list.length,this.list.push(t)}remove(t){var n=this.list.length-1,i=this.list[n];this.list.length=n,t!==i&&(this.list[t.blockInd]=i,i.blockInd=t.blockInd)}merge(t){var n=t.left.block,i=t.right.block,r=t.right.offset-t.left.offset-t.gap;n.vars.length<i.vars.length?(i.mergeAcross(n,t,r),this.remove(n)):(n.mergeAcross(i,t,-r),this.remove(i))}forEach(t){this.list.forEach(t)}updateBlockPositions(){this.list.forEach(t=>t.updateWeightedPosition())}split(t){this.updateBlockPositions(),this.list.forEach(n=>{var i=n.findMinLM();i!==null&&i.lm<ii.LAGRANGIAN_TOLERANCE&&(n=i.left.block,He.split(i).forEach(r=>this.insert(r)),this.remove(n),t.push(i))})}}const rs=class{constructor(e,t){this.vs=e,this.cs=t,this.vs=e,e.forEach(n=>{n.cIn=[],n.cOut=[]}),this.cs=t,t.forEach(n=>{n.left.cOut.push(n),n.right.cIn.push(n)}),this.inactive=t.map(n=>(n.active=!1,n)),this.bs=null}cost(){return this.bs.cost()}setStartingPositions(e){this.inactive=this.cs.map(t=>(t.active=!1,t)),this.bs=new Uo(this.vs),this.bs.forEach((t,n)=>t.posn=e[n])}setDesiredPositions(e){this.vs.forEach((t,n)=>t.desiredPosition=e[n])}mostViolated(){for(var e=Number.MAX_VALUE,t=null,n=this.inactive,i=n.length,r=i,s=0;s<i;++s){var o=n[s];if(!o.unsatisfiable){var l=o.slack();if((o.equality||l<e)&&(e=l,t=o,r=s,o.equality))break}}return r!==i&&(e<rs.ZERO_UPPERBOUND&&!t.active||t.equality)&&(n[r]=n[i-1],n.length=i-1),t}satisfy(){this.bs==null&&(this.bs=new Uo(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<rs.ZERO_UPPERBOUND&&!e.active);){var t=e.left.block,n=e.right.block;if(t!==n)this.bs.merge(e);else{if(t.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var i=t.splitBetween(e.left,e.right);if(i!==null)this.bs.insert(i.lb),this.bs.insert(i.rb),this.bs.remove(t),this.inactive.push(i.constraint);else{e.unsatisfiable=!0;continue}e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}}solve(){this.satisfy();for(var e=Number.MAX_VALUE,t=this.bs.cost();Math.abs(e-t)>1e-4;)this.satisfy(),e=t,t=this.bs.cost();return t}};let ii=rs;ii.LAGRANGIAN_TOLERANCE=-1e-4;ii.ZERO_UPPERBOUND=-1e-10;class dg{constructor(){this.findIter=function(t){for(var n=this._root,i=this.iterator();n!==null;){var r=this._comparator(t,n.data);if(r===0)return i._cursor=n,i;i._ancestors.push(n),n=n.get_child(r>0)}return null}}clear(){this._root=null,this.size=0}find(t){for(var n=this._root;n!==null;){var i=this._comparator(t,n.data);if(i===0)return n.data;n=n.get_child(i>0)}return null}lowerBound(t){return this._bound(t,this._comparator)}upperBound(t){var n=this._comparator;function i(r,s){return n(s,r)}return this._bound(t,i)}min(){var t=this._root;if(t===null)return null;for(;t.left!==null;)t=t.left;return t.data}max(){var t=this._root;if(t===null)return null;for(;t.right!==null;)t=t.right;return t.data}iterator(){return new pg(this)}each(t){for(var n=this.iterator(),i;(i=n.next())!==null;)t(i)}reach(t){for(var n=this.iterator(),i;(i=n.prev())!==null;)t(i)}_bound(t,n){for(var i=this._root,r=this.iterator();i!==null;){var s=this._comparator(t,i.data);if(s===0)return r._cursor=i,r;r._ancestors.push(i),i=i.get_child(s>0)}for(var o=r._ancestors.length-1;o>=0;--o)if(i=r._ancestors[o],n(t,i.data)>0)return r._cursor=i,r._ancestors.length=o,r;return r._ancestors.length=0,r}}class pg{constructor(t){this._tree=t,this._ancestors=[],this._cursor=null}data(){return this._cursor!==null?this._cursor.data:null}next(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._minNode(t)}else if(this._cursor.right===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===n)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null}prev(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._maxNode(t)}else if(this._cursor.left===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===n)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null}_minNode(t){for(;t.left!==null;)this._ancestors.push(t),t=t.left;this._cursor=t}_maxNode(t){for(;t.right!==null;)this._ancestors.push(t),t=t.right;this._cursor=t}}let mi=class{constructor(t){this.data=t,this.left=null,this.right=null,this.red=!0}get_child(t){return t?this.right:this.left}set_child(t,n){t?this.right=n:this.left=n}};class _t extends dg{constructor(t){super(),this._root=null,this._comparator=t,this.size=0}insert(t){var n=!1;if(this._root===null)this._root=new mi(t),n=!0,this.size++;else{var i=new mi(void 0),r=!1,s=!1,o=null,l=i,a=null,u=this._root;for(l.right=this._root;;){if(u===null?(u=new mi(t),a.set_child(r,u),n=!0,this.size++):_t.is_red(u.left)&&_t.is_red(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1),_t.is_red(u)&&_t.is_red(a)){var h=l.right===o;u===a.get_child(s)?l.set_child(h,_t.single_rotate(o,!s)):l.set_child(h,_t.double_rotate(o,!s))}var c=this._comparator(u.data,t);if(c===0)break;s=r,r=c<0,o!==null&&(l=o),o=a,a=u,u=u.get_child(r)}this._root=i.right}return this._root.red=!1,n}remove(t){if(this._root===null)return!1;var n=new mi(void 0),i=n;i.right=this._root;for(var r=null,s=null,o=null,l=!0;i.get_child(l)!==null;){var a=l;s=r,r=i,i=i.get_child(l);var u=this._comparator(t,i.data);if(l=u>0,u===0&&(o=i),!_t.is_red(i)&&!_t.is_red(i.get_child(l))){if(_t.is_red(i.get_child(!l))){var h=_t.single_rotate(i,l);r.set_child(a,h),r=h}else if(!_t.is_red(i.get_child(!l))){var c=r.get_child(!a);if(c!==null)if(!_t.is_red(c.get_child(!a))&&!_t.is_red(c.get_child(a)))r.red=!1,c.red=!0,i.red=!0;else{var f=s.right===r;_t.is_red(c.get_child(a))?s.set_child(f,_t.double_rotate(r,a)):_t.is_red(c.get_child(!a))&&s.set_child(f,_t.single_rotate(r,a));var d=s.get_child(f);d.red=!0,i.red=!0,d.left.red=!1,d.right.red=!1}}}}return o!==null&&(o.data=i.data,r.set_child(r.right===i,i.get_child(i.left===null)),this.size--),this._root=n.right,this._root!==null&&(this._root.red=!1),o!==null}static is_red(t){return t!==null&&t.red}static single_rotate(t,n){var i=t.get_child(!n);return t.set_child(!n,i.get_child(n)),i.set_child(n,t),t.red=!0,i.red=!1,i}static double_rotate(t,n){return t.set_child(!n,_t.single_rotate(t.get_child(!n),!n)),_t.single_rotate(t,n)}}function Si(e){return e.bounds=typeof e.leaves<"u"?e.leaves.reduce((t,n)=>n.bounds.union(t),Ot.empty()):Ot.empty(),typeof e.groups<"u"&&(e.bounds=e.groups.reduce((t,n)=>Si(n).union(t),e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}class Ot{constructor(t,n,i,r){this.x=t,this.X=n,this.y=i,this.Y=r}static empty(){return new Ot(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}cx(){return(this.x+this.X)/2}cy(){return(this.y+this.Y)/2}overlapX(t){var n=this.cx(),i=t.cx();return n<=i&&t.x<this.X?this.X-t.x:i<=n&&this.x<t.X?t.X-this.x:0}overlapY(t){var n=this.cy(),i=t.cy();return n<=i&&t.y<this.Y?this.Y-t.y:i<=n&&this.y<t.Y?t.Y-this.y:0}setXCentre(t){var n=t-this.cx();this.x+=n,this.X+=n}setYCentre(t){var n=t-this.cy();this.y+=n,this.Y+=n}width(){return this.X-this.x}height(){return this.Y-this.y}union(t){return new Ot(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))}lineIntersections(t,n,i,r){for(var s=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],o=[],l=0;l<4;++l){var a=Ot.lineIntersection(t,n,i,r,s[l][0],s[l][1],s[l][2],s[l][3]);a!==null&&o.push({x:a.x,y:a.y})}return o}rayIntersection(t,n){var i=this.lineIntersections(this.cx(),this.cy(),t,n);return i.length>0?i[0]:null}vertices(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]}static lineIntersection(t,n,i,r,s,o,l,a){var u=i-t,h=l-s,c=r-n,f=a-o,d=f*u-h*c;if(d==0)return null;var g=t-s,p=n-o,y=h*p-f*g,x=y/d,E=u*p-c*g,_=E/d;return x>=0&&x<=1&&_>=0&&_<=1?{x:t+x*u,y:n+x*c}:null}inflate(t){return new Ot(this.x-t,this.X+t,this.y-t,this.Y+t)}}function gg(e,t,n){const i=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},r=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},s=r.x-i.x,o=r.y-i.y,l=Math.sqrt(s*s+o*o),a=l-n;return{sourceIntersection:i,targetIntersection:r,arrowStart:{x:i.x+a*s/l,y:i.y+a*o/l}}}function mg(e,t,n){var i=t.rayIntersection(e.x,e.y);i||(i={x:t.cx(),y:t.cy()});var r=i.x-e.x,s=i.y-e.y,o=Math.sqrt(r*r+s*s);return{x:i.x-n*r/o,y:i.y-n*s/o}}let vg=class{constructor(t,n,i){this.v=t,this.r=n,this.pos=i,this.prev=ss(),this.next=ss()}},Xo=class{constructor(t,n,i){this.isOpen=t,this.v=n,this.pos=i}};function _g(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function ss(){return new _t((e,t)=>e.pos-t.pos)}var yg={getCentre:e=>e.cx(),getOpen:e=>e.y,getClose:e=>e.Y,getSize:e=>e.width(),makeRect:(e,t,n,i)=>new Ot(n-i/2,n+i/2,e,t),findNeighbours:wg},bg={getCentre:e=>e.cy(),getOpen:e=>e.x,getClose:e=>e.X,getSize:e=>e.height(),makeRect:(e,t,n,i)=>new Ot(e,t,n-i/2,n+i/2),findNeighbours:Eg};function Ds(e,t,n,i=!1){var r=e.padding,s=typeof e.groups<"u"?e.groups.length:0,o=typeof e.leaves<"u"?e.leaves.length:0,l=s?e.groups.reduce((C,T)=>C.concat(Ds(T,t,n,!0)),[]):[],a=(i?2:0)+o+s,u=new Array(a),h=new Array(a),c=0,f=(C,T)=>{h[c]=C,u[c++]=T};if(i){var d=e.bounds,g=t.getCentre(d),p=t.getSize(d)/2,y=t.getOpen(d),x=t.getClose(d),E=g-p+r/2,_=g+p-r/2;e.minVar.desiredPosition=E,f(t.makeRect(y,x,E,r),e.minVar),e.maxVar.desiredPosition=_,f(t.makeRect(y,x,_,r),e.maxVar)}o&&e.leaves.forEach(C=>f(C.bounds,C.variable)),s&&e.groups.forEach(C=>{var T=C.bounds;f(t.makeRect(t.getOpen(T),t.getClose(T),t.getCentre(T),t.getSize(T)),C.minVar)});var w=xg(h,u,t,n);return s&&(u.forEach(C=>{C.cOut=[],C.cIn=[]}),w.forEach(C=>{C.left.cOut.push(C),C.right.cIn.push(C)}),e.groups.forEach(C=>{var T=(C.padding-t.getSize(C.bounds))/2;C.minVar.cIn.forEach(S=>S.gap+=T),C.minVar.cOut.forEach(S=>{S.left=C.maxVar,S.gap+=T})})),l.concat(w)}function xg(e,t,n,i){var r,s=e.length,o=2*s;console.assert(t.length>=s);var l=new Array(o);for(r=0;r<s;++r){var a=e[r],u=new vg(t[r],a,n.getCentre(a));l[r]=new Xo(!0,u,n.getOpen(a)),l[r+s]=new Xo(!1,u,n.getClose(a))}l.sort(_g);var h=new Array,c=ss();for(r=0;r<o;++r){var f=l[r],u=f.v;if(f.isOpen)c.insert(u),n.findNeighbours(u,c);else{c.remove(u);var d=(y,x)=>{var E=(n.getSize(y.r)+n.getSize(x.r))/2+i;h.push(new Yi(y.v,x.v,E))},g=(y,x,E)=>{for(var _,w=u[y].iterator();(_=w[y]())!==null;)E(_,u),_[x].remove(u)};g("prev","next",(y,x)=>d(y,x)),g("next","prev",(y,x)=>d(x,y))}}return console.assert(c.size===0),h}function wg(e,t){var n=(i,r)=>{for(var s=t.findIter(e),o;(o=s[i]())!==null;){var l=o.r.overlapX(e.r);if((l<=0||l<=o.r.overlapY(e.r))&&(e[i].insert(o),o[r].insert(e)),l<=0)break}};n("next","prev"),n("prev","next")}function Eg(e,t){var n=(i,r)=>{var s=t.findIter(e)[i]();s!==null&&s.r.overlapX(e.r)>0&&(e[i].insert(s),s[r].insert(e))};n("next","prev"),n("prev","next")}function kg(e){return Ds(e,yg,1e-6)}function Ag(e){return Ds(e,bg,1e-6)}class Nr extends qa{constructor(t,n){super(0,n),this.index=t}}class qo{constructor(t,n,i=null,r=null,s=!1){if(this.nodes=t,this.groups=n,this.rootGroup=i,this.avoidOverlaps=s,this.variables=t.map((l,a)=>l.variable=new Nr(a,1)),r&&this.createConstraints(r),s&&i&&typeof i.groups<"u"){t.forEach(l=>{if(!l.width||!l.height){l.bounds=new Ot(l.x,l.x,l.y,l.y);return}var a=l.width/2,u=l.height/2;l.bounds=new Ot(l.x-a,l.x+a,l.y-u,l.y+u)}),Si(i);var o=t.length;n.forEach(l=>{this.variables[o]=l.minVar=new Nr(o++,typeof l.stiffness<"u"?l.stiffness:.01),this.variables[o]=l.maxVar=new Nr(o++,typeof l.stiffness<"u"?l.stiffness:.01)})}}createSeparation(t){return new Yi(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,typeof t.equality<"u"?t.equality:!1)}makeFeasible(t){if(this.avoidOverlaps){var n="x",i="width";t.axis==="x"&&(n="y",i="height");var r=t.offsets.map(o=>this.nodes[o.node]).sort((o,l)=>o[n]-l[n]),s=null;r.forEach(o=>{if(s){let l=s[n]+s[i];l>o[n]&&(o[n]=l)}s=o})}}createAlignment(t){var n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var i=t.axis==="x"?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(r=>{var s=this.nodes[r.node].variable;i.push(new Yi(n,s,r.offset,!0))})}createConstraints(t){var n=i=>typeof i.type>"u"||i.type==="separation";this.xConstraints=t.filter(i=>i.axis==="x"&&n(i)).map(i=>this.createSeparation(i)),this.yConstraints=t.filter(i=>i.axis==="y"&&n(i)).map(i=>this.createSeparation(i)),t.filter(i=>i.type==="alignment").forEach(i=>this.createAlignment(i))}setupVariablesAndBounds(t,n,i,r){this.nodes.forEach((s,o)=>{s.fixed?(s.variable.weight=s.fixedWeight?s.fixedWeight:1e3,i[o]=r(s)):s.variable.weight=1;var l=(s.width||0)/2,a=(s.height||0)/2,u=t[o],h=n[o];s.bounds=new Ot(u-l,u+l,h-a,h+a)})}xProject(t,n,i){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(t,n,t,i,r=>r.px,this.xConstraints,kg,r=>r.bounds.setXCentre(i[r.variable.index]=r.variable.position()),r=>{var s=i[r.minVar.index]=r.minVar.position(),o=i[r.maxVar.index]=r.maxVar.position(),l=r.padding/2;r.bounds.x=s-l,r.bounds.X=o+l})}yProject(t,n,i){!this.rootGroup&&!this.yConstraints||this.project(t,n,n,i,r=>r.py,this.yConstraints,Ag,r=>r.bounds.setYCentre(i[r.variable.index]=r.variable.position()),r=>{var s=i[r.minVar.index]=r.minVar.position(),o=i[r.maxVar.index]=r.maxVar.position(),l=r.padding/2;r.bounds.y=s-l,r.bounds.Y=o+l})}projectFunctions(){return[(t,n,i)=>this.xProject(t,n,i),(t,n,i)=>this.yProject(t,n,i)]}project(t,n,i,r,s,o,l,a,u){this.setupVariablesAndBounds(t,n,r,s),this.rootGroup&&this.avoidOverlaps&&(Si(this.rootGroup),o=o.concat(l(this.rootGroup))),this.solve(this.variables,o,i,r),this.nodes.forEach(a),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(u),Si(this.rootGroup))}solve(t,n,i,r){var s=new ii(t,n);s.setStartingPositions(i),s.setDesiredPositions(r),s.solve()}}class Hn{constructor(t){this.elem=t,this.subheaps=[]}toString(t){for(var n="",i=!1,r=0;r<this.subheaps.length;++r){var s=this.subheaps[r];if(!s.elem){i=!1;continue}i&&(n=n+","),n=n+s.toString(t),i=!0}return n!==""&&(n="("+n+")"),(this.elem?t(this.elem):"")+n}forEach(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(n=>n.forEach(t)))}count(){return this.empty()?0:1+this.subheaps.reduce((t,n)=>t+n.count(),0)}min(){return this.elem}empty(){return this.elem==null}contains(t){if(this===t)return!0;for(var n=0;n<this.subheaps.length;n++)if(this.subheaps[n].contains(t))return!0;return!1}isHeap(t){return this.subheaps.every(n=>t(this.elem,n.elem)&&n.isHeap(t))}insert(t,n){return this.merge(new Hn(t),n)}merge(t,n){return this.empty()?t:t.empty()?this:n(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)}removeMin(t){return this.empty()?null:this.mergePairs(t)}mergePairs(t){if(this.subheaps.length==0)return new Hn(null);if(this.subheaps.length==1)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),t),i=this.mergePairs(t);return n.merge(i,t)}decreaseKey(t,n,i,r){var s=t.removeMin(r);t.elem=s.elem,t.subheaps=s.subheaps,i!==null&&s.elem!==null&&i(t.elem,t);var o=new Hn(n);return i!==null&&i(n,o),this.merge(o,r)}}class Yo{constructor(t){this.lessThan=t}top(){return this.empty()?null:this.root.elem}push(...t){for(var n,i=0,r;r=t[i];++i)n=new Hn(r),this.root=this.empty()?n:this.root.merge(n,this.lessThan);return n}empty(){return!this.root||!this.root.elem}isHeap(){return this.root.isHeap(this.lessThan)}forEach(t){this.root.forEach(t)}pop(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t}reduceKey(t,n,i=null){this.root=this.root.decreaseKey(t,n,i,this.lessThan)}toString(t){return this.root.toString(t)}count(){return this.root.count()}}class Vo{constructor(t,n){this.id=t,this.distance=n}}class Cg{constructor(t){this.id=t,this.neighbours=[]}}class Ko{constructor(t,n,i){this.node=t,this.prev=n,this.d=i}}class os{constructor(t,n,i,r,s){this.n=t,this.es=n,this.neighbours=new Array(this.n);for(var o=this.n;o--;)this.neighbours[o]=new Cg(o);for(o=this.es.length;o--;){var l=this.es[o],a=i(l),u=r(l),h=s(l);this.neighbours[a].neighbours.push(new Vo(u,h)),this.neighbours[u].neighbours.push(new Vo(a,h))}}DistanceMatrix(){for(var t=new Array(this.n),n=0;n<this.n;++n)t[n]=this.dijkstraNeighbours(n);return t}DistancesFromNode(t){return this.dijkstraNeighbours(t)}PathFromNodeToNode(t,n){return this.dijkstraNeighbours(t,n)}PathFromNodeToNodeWithPrevCost(t,n,i){var r=new Yo((p,y)=>p.d<=y.d),s=this.neighbours[t],o=new Ko(s,null,0),l={};for(r.push(o);!r.empty()&&(o=r.pop(),s=o.node,s.id!==n);)for(var a=s.neighbours.length;a--;){var u=s.neighbours[a],h=this.neighbours[u.id];if(!(o.prev&&h.id===o.prev.node.id)){var c=h.id+","+s.id;if(!(c in l&&l[c]<=o.d)){var f=o.prev?i(o.prev.node.id,s.id,h.id):0,d=o.d+u.distance+f;l[c]=d,r.push(new Ko(h,o,d))}}}for(var g=[];o.prev;)o=o.prev,g.push(o.node.id);return g}dijkstraNeighbours(t,n=-1){for(var i=new Yo((f,d)=>f.d<=d.d),r=this.neighbours.length,s=new Array(r);r--;){var o=this.neighbours[r];o.d=r===t?0:Number.POSITIVE_INFINITY,o.q=i.push(o)}for(;!i.empty();){var l=i.pop();if(s[l.id]=l.d,l.id===n){for(var a=[],u=l;typeof u.prev<"u";)a.push(u.prev.id),u=u.prev;return a}for(r=l.neighbours.length;r--;){var h=l.neighbours[r],u=this.neighbours[h.id],c=l.d+h.distance;l.d!==Number.MAX_VALUE&&u.d>c&&(u.d=c,u.prev=l,i.reduceKey(u.q,u,(d,g)=>d.q=g))}}return s}}class Mg{constructor(t,n,i,r){this.x1=t,this.y1=n,this.x2=i,this.y2=r}}function Ae(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function Ce(e,t,n){return Ae(e,t,n)>0}function Me(e,t,n){return Ae(e,t,n)<0}function Ng(e,t){let n=t.slice(0);return n.push(t[0]),{rtan:Ig(e,n),ltan:Sg(e,n)}}function Ig(e,t){var n=t.length-1,i,r,s,o,l;if(Me(e,t[1],t[0])&&!Ce(e,t[n-1],t[0]))return 0;for(i=0,r=n;;){if(r-i===1)return Ce(e,t[i],t[r])?i:r;if(s=Math.floor((i+r)/2),l=Me(e,t[s+1],t[s]),l&&!Ce(e,t[s-1],t[s]))return s;o=Ce(e,t[i+1],t[i]),o?l||Ce(e,t[i],t[s])?r=s:i=s:l&&Me(e,t[i],t[s])?r=s:i=s}}function Sg(e,t){var n=t.length-1,i,r,s,o,l;if(Ce(e,t[n-1],t[0])&&!Me(e,t[1],t[0]))return 0;for(i=0,r=n;;){if(r-i===1)return Me(e,t[i],t[r])?i:r;if(s=Math.floor((i+r)/2),l=Me(e,t[s+1],t[s]),Ce(e,t[s-1],t[s])&&!l)return s;o=Me(e,t[i+1],t[i]),o?l?Me(e,t[i],t[s])?r=s:i=s:r=s:l?i=s:Ce(e,t[i],t[s])?r=s:i=s}}class vi{constructor(t,n){this.t1=t,this.t2=n}}class Tg{}class Go{constructor(t,n,i,r){this.id=t,this.polyid=n,this.polyvertid=i,this.p=r,r.vv=this}}class Ir{constructor(t,n){this.source=t,this.target=n}length(){var t=this.source.p.x-this.target.p.x,n=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+n*n)}}class Wo{constructor(t,n){if(this.P=t,this.V=[],this.E=[],n)this.V=n.V.slice(0),this.E=n.E.slice(0);else{for(var i=t.length,r=0;r<i;r++){for(var s=t[r],o=0;o<s.length;++o){var l=s[o],a=new Go(this.V.length,r,o,l);this.V.push(a),o>0&&this.E.push(new Ir(s[o-1].vv,a))}s.length>1&&this.E.push(new Ir(s[0].vv,s[s.length-1].vv))}for(var r=0;r<i-1;r++)for(var u=t[r],o=r+1;o<i;o++){var h=t[o],c=Lg(u,h);for(var f in c){var d=c[f],g=u[d.t1],p=h[d.t2];this.addEdgeIfVisible(g,p,r,o)}}}}addEdgeIfVisible(t,n,i,r){this.intersectsPolys(new Mg(t.x,t.y,n.x,n.y),i,r)||this.E.push(new Ir(t.vv,n.vv))}addPoint(t,n){var i=this.P.length;this.V.push(new Go(this.V.length,i,0,t));for(var r=0;r<i;++r)if(r!==n){var s=this.P[r],o=Ng(t,s);this.addEdgeIfVisible(t,s[o.ltan],n,r),this.addEdgeIfVisible(t,s[o.rtan],n,r)}return t.vv}intersectsPolys(t,n,i){for(var r=0,s=this.P.length;r<s;++r)if(r!=n&&r!=i&&Pg(t,this.P[r]).length>0)return!0;return!1}}function Pg(e,t){for(var n=[],i=1,r=t.length;i<r;++i){var s=Ot.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[i-1].x,t[i-1].y,t[i].x,t[i].y);s&&n.push(s)}return n}function Lg(e,t){for(var n=e.length-1,i=t.length-1,r=new Tg,s=0;s<=n;++s)for(var o=0;o<=i;++o){var l=e[s==0?n:s-1],a=e[s],u=e[s==n?0:s+1],h=t[o==0?i:o-1],c=t[o],f=t[o==i?0:o+1],d=Ae(l,a,c),g=Ae(a,h,c),p=Ae(a,c,f),y=Ae(h,c,a),x=Ae(c,l,a),E=Ae(c,a,u);d>=0&&g>=0&&p<0&&y>=0&&x>=0&&E<0?r.ll=new vi(s,o):d<=0&&g<=0&&p>0&&y<=0&&x<=0&&E>0?r.rr=new vi(s,o):d<=0&&g>0&&p<=0&&y>=0&&x<0&&E>=0?r.rl=new vi(s,o):d>=0&&g<0&&p>=0&&y<=0&&x>0&&E<=0&&(r.lr=new vi(s,o))}return r}var qt={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function Og(e,t,n,c,h=1,s=!0){var o=0,l=0,a=t,u=n,h=typeof h<"u"?h:1,c=typeof c<"u"?c:0,f=0,d=0,g=0,p=0,y=[];if(e.length==0)return;x(e),_(e),s&&E(e);function x(k){k.forEach(function(M){O(M)});function O(M){var L=Number.MAX_VALUE,m=Number.MAX_VALUE,N=0,D=0;M.array.forEach(function(z){var B=typeof z.width<"u"?z.width:c,F=typeof z.height<"u"?z.height:c;B/=2,F/=2,N=Math.max(z.x+B,N),L=Math.min(z.x-B,L),D=Math.max(z.y+F,D),m=Math.min(z.y-F,m)}),M.width=N-L,M.height=D-m}}function E(k){k.forEach(function(O){var M={x:0,y:0};O.array.forEach(function(N){M.x+=N.x,M.y+=N.y}),M.x/=O.array.length,M.y/=O.array.length;var L={x:M.x-O.width/2,y:M.y-O.height/2},m={x:O.x-L.x+a/2-f/2,y:O.y-L.y+u/2-d/2};O.array.forEach(function(N){N.x+=m.x,N.y+=m.y})})}function _(k,O){var M=Number.POSITIVE_INFINITY,L=0;k.sort(function(ut,wt){return wt.height-ut.height}),g=k.reduce(function(ut,wt){return ut.width<wt.width?ut.width:wt.width});for(var m=it=g,N=at=T(k),D=0,z=Number.MAX_VALUE,B=Number.MAX_VALUE,F=-1,q=Number.MAX_VALUE,rt=Number.MAX_VALUE;q>g||rt>qt.FLOAT_EPSILON;){if(F!=1)var it=N-(N-m)/qt.GOLDEN_SECTION,z=w(k,it);if(F!=0)var at=m+(N-m)/qt.GOLDEN_SECTION,B=w(k,at);if(q=Math.abs(it-at),rt=Math.abs(z-B),z<M&&(M=z,L=it),B<M&&(M=B,L=at),z>B?(m=it,it=at,z=B,F=1):(N=at,at=it,B=z,F=0),D++>100)break}w(k,L)}function w(k,O){y=[],f=0,d=0,p=l;for(var M=0;M<k.length;M++){var L=k[M];C(L,O)}return Math.abs(S()-h)}function C(k,O){for(var M=void 0,L=0;L<y.length;L++)if(y[L].space_left>=k.height&&y[L].x+y[L].width+k.width+qt.PADDING-O<=qt.FLOAT_EPSILON){M=y[L];break}y.push(k),M!==void 0?(k.x=M.x+M.width+qt.PADDING,k.y=M.bottom,k.space_left=k.height,k.bottom=k.y,M.space_left-=k.height+qt.PADDING,M.bottom+=k.height+qt.PADDING):(k.y=p,p+=k.height+qt.PADDING,k.x=o,k.bottom=k.y,k.space_left=k.height),k.y+k.height-d>-qt.FLOAT_EPSILON&&(d=k.y+k.height-l),k.x+k.width-f>-qt.FLOAT_EPSILON&&(f=k.x+k.width-o)}function T(k){var O=0;return k.forEach(function(M){return O+=M.width+qt.PADDING}),O}function S(){return f/d}}function Dg(e,t){for(var n={},i={},r=[],s=0,o=0;o<t.length;o++){var l=t[o],a=l.source,u=l.target;i[a.index]?i[a.index].push(u):i[a.index]=[u],i[u.index]?i[u.index].push(a):i[u.index]=[a]}for(var o=0;o<e.length;o++){var h=e[o];n[h.index]||c(h,!0)}function c(f,d){if(n[f.index]===void 0){d&&(s++,r.push({array:[]})),n[f.index]=s,r[s-1].array.push(f);var g=i[f.index];if(g)for(var p=0;p<g.length;p++)c(g[p],!1)}}return r}var Ya=(e=>(e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end",e))(Ya||{});function _i(e){return typeof e.leaves<"u"||typeof e.groups<"u"}class bt{constructor(){this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:bt.getSourceIndex,getTargetIndex:bt.getTargetIndex,setLength:bt.setLinkLength,getType:t=>typeof this._linkType=="function"?this._linkType(t):0}}on(t,n){return this.event||(this.event={}),typeof t=="string"?this.event[Ya[t]]=n:this.event[t]=n,this}trigger(t){this.event&&typeof this.event[t.type]<"u"&&this.event[t.type](t)}kick(){for(;!this.tick(););}tick(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:2,alpha:this._alpha=0,stress:this._lastStress}),!0;const t=this._nodes.length;this._links.length;let n,i;for(this._descent.locks.clear(),i=0;i<t;++i)if(n=this._nodes[i],n.fixed){(typeof n.px>"u"||typeof n.py>"u")&&(n.px=n.x,n.py=n.y);var r=[n.px,n.py];this._descent.locks.add(i,r)}let s=this._descent.rungeKutta();return s===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=s),this._lastStress=s,this.updateNodePositions(),this.trigger({type:1,alpha:this._alpha,stress:this._lastStress}),!1}updateNodePositions(){const t=this._descent.x[0],n=this._descent.x[1];let i,r=this._nodes.length;for(;r--;)i=this._nodes[r],i.x=t[r],i.y=n[r]}nodes(t){if(!t){if(this._nodes.length===0&&this._links.length>0){var n=0;this._links.forEach(function(r){n=Math.max(n,r.source,r.target)}),this._nodes=new Array(++n);for(var i=0;i<n;++i)this._nodes[i]={}}return this._nodes}return this._nodes=t,this}groups(t){return t?(this._groups=t,this._rootGroup={},this._groups.forEach(n=>{typeof n.padding>"u"&&(n.padding=1),typeof n.leaves<"u"&&n.leaves.forEach((i,r)=>{typeof i=="number"&&((n.leaves[r]=this._nodes[i]).parent=n)}),typeof n.groups<"u"&&n.groups.forEach((i,r)=>{typeof i=="number"&&((n.groups[r]=this._groups[i]).parent=n)})}),this._rootGroup.leaves=this._nodes.filter(n=>typeof n.parent>"u"),this._rootGroup.groups=this._groups.filter(n=>typeof n.parent>"u"),this):this._groups}powerGraphGroups(t){var n=rg(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(n.groups),t(n),this}avoidOverlaps(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps}handleDisconnected(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected}flowLayout(t,n){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:typeof n=="number"?function(){return n}:n},this}links(t){return arguments.length?(this._links=t,this):this._links}constraints(t){return arguments.length?(this._constraints=t,this):this._constraints}distanceMatrix(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix}size(t){return t?(this._canvasSize=t,this):this._canvasSize}defaultNodeSize(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize}groupCompactness(t){return t?(this._groupCompactness=t,this):this._groupCompactness}linkDistance(t){return t?(this._linkDistance=typeof t=="function"?t:+t,this._linkLengthCalculator=null,this):this._linkDistance}linkType(t){return this._linkType=t,this}convergenceThreshold(t){return t?(this._threshold=typeof t=="function"?t:+t,this):this._threshold}alpha(t){return arguments.length?(t=+t,this._alpha?t>0?this._alpha=t:this._alpha=0:t>0&&(this._running||(this._running=!0,this.trigger({type:0,alpha:this._alpha=t}),this.kick())),this):this._alpha}getLinkLength(t){return typeof this._linkDistance=="function"?+this._linkDistance(t):this._linkDistance}static setLinkLength(t,n){t.length=n}getLinkType(t){return typeof this._linkType=="function"?this._linkType(t):0}symmetricDiffLinkLengths(t,n=1){return this.linkDistance(i=>t*i.length),this._linkLengthCalculator=()=>og(this._links,this.linkAccessor,n),this}jaccardLinkLengths(t,n=1){return this.linkDistance(i=>t*i.length),this._linkLengthCalculator=()=>lg(this._links,this.linkAccessor,n),this}start(t=0,n=0,i=0,r=0,s=!0,o=!0){var l,a=this.nodes().length,u=a+2*this._groups.length;this._links.length;var h=this._canvasSize[0],c=this._canvasSize[1],f=new Array(u),d=new Array(u),g=null,p=this._avoidOverlaps;this._nodes.forEach((S,k)=>{S.index=k,typeof S.x>"u"&&(S.x=h/2,S.y=c/2),f[k]=S.x,d[k]=S.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var y;this._distanceMatrix?y=this._distanceMatrix:(y=new os(u,this._links,bt.getSourceIndex,bt.getTargetIndex,S=>this.getLinkLength(S)).DistanceMatrix(),g=Fn.createSquareMatrix(u,()=>2),this._links.forEach(S=>{typeof S.source=="number"&&(S.source=this._nodes[S.source]),typeof S.target=="number"&&(S.target=this._nodes[S.target])}),this._links.forEach(S=>{const k=bt.getSourceIndex(S),O=bt.getTargetIndex(S);g[k][O]=g[O][k]=S.weight||1}));var x=Fn.createSquareMatrix(u,function(S,k){return y[S][k]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var l=a,E=(k,O,M,L)=>{g[k][O]=g[O][k]=M,x[k][O]=x[O][k]=L};this._groups.forEach(k=>{E(l,l+1,this._groupCompactness,.1),typeof k.bounds>"u"?(f[l]=h/2,d[l++]=c/2,f[l]=h/2,d[l++]=c/2):(f[l]=k.bounds.x,d[l++]=k.bounds.y,f[l]=k.bounds.X,d[l++]=k.bounds.Y)})}else this._rootGroup={leaves:this._nodes,groups:[]};var _=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,_=_.concat(ag(a,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new Fn([f,d],x),this._descent.locks.clear();for(var l=0;l<a;++l){var w=this._nodes[l];if(w.fixed){w.px=w.x,w.py=w.y;var C=[w.x,w.y];this._descent.locks.add(l,C)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,f,d),_.length>0&&(this._descent.project=new qo(this._nodes,this._groups,this._rootGroup,_).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(h,c,o),this.avoidOverlaps(p),p&&(this._nodes.forEach(function(S,k){S.x=f[k],S.y=d[k]}),this._descent.project=new qo(this._nodes,this._groups,this._rootGroup,_,!0).projectFunctions(),this._nodes.forEach(function(S,k){f[k]=S.x,d[k]=S.y})),this._descent.G=g,this._descent.run(i),r){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=a,this._descent.scaleSnapByMaxH=a!=u;var T=Fn.createSquareMatrix(u,(S,k)=>S>=a||k>=a?g[S][k]:0);this._descent.G=T,this._descent.run(r)}return this.updateNodePositions(),this.separateOverlappingComponents(h,c,o),s?this.resume():this}initialLayout(t,n,i){if(this._groups.length>0&&t>0){var r=this._nodes.length,s=this._links.map(l=>({source:l.source.index,target:l.target.index})),o=this._nodes.map(l=>({index:l.index}));this._groups.forEach((l,a)=>{o.push({index:l.index=r+a})}),this._groups.forEach((l,a)=>{typeof l.leaves<"u"&&l.leaves.forEach(u=>s.push({source:l.index,target:u.index})),typeof l.groups<"u"&&l.groups.forEach(u=>s.push({source:l.index,target:u.index}))}),new bt().size(this.size()).nodes(o).links(s).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach(l=>{n[l.index]=o[l.index].x,i[l.index]=o[l.index].y})}else this._descent.run(t)}separateOverlappingComponents(t,n,i=!0){if(!this._distanceMatrix&&this._handleDisconnected){let s=this._descent.x[0],o=this._descent.x[1];this._nodes.forEach(function(l,a){l.x=s[a],l.y=o[a]});var r=Dg(this._nodes,this._links);Og(r,t,n,this._defaultNodeSize,1,i),this._nodes.forEach((l,a)=>{this._descent.x[0][a]=l.x,this._descent.x[1][a]=l.y,l.bounds&&(l.bounds.setXCentre(l.x),l.bounds.setYCentre(l.y))})}}resume(){return this.alpha(.1)}stop(){return this.alpha(0)}prepareEdgeRouting(t=0){this._visibilityGraph=new Wo(this._nodes.map(function(n){return n.bounds.inflate(-t).vertices()}))}routeEdge(t,n=5,i){var r=[],s=new Wo(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},l={x:t.target.x,y:t.target.y},a=s.addPoint(o,t.source.index),u=s.addPoint(l,t.target.index);s.addEdgeIfVisible(o,l,t.source.index,t.target.index),typeof i<"u"&&i(s);var h=_=>_.source.id,c=_=>_.target.id,f=_=>_.length(),d=new os(s.V.length,s.E,h,c,f),g=d.PathFromNodeToNode(a.id,u.id);if(g.length===1||g.length===s.V.length){let _=gg(t.source.innerBounds,t.target.innerBounds,n);r=[_.sourceIntersection,_.arrowStart]}else{for(var p=g.length-2,y=s.V[g[p]].p,x=s.V[g[0]].p,r=[t.source.innerBounds.rayIntersection(y.x,y.y)],E=p;E>=0;--E)r.push(s.V[g[E]].p);r.push(mg(x,t.target.innerBounds,n))}return r}static getSourceIndex(t){return typeof t.source=="number"?t.source:t.source.index}static getTargetIndex(t){return typeof t.target=="number"?t.target:t.target.index}static linkId(t){return bt.getSourceIndex(t)+"-"+bt.getTargetIndex(t)}static dragStart(t){_i(t)?bt.storeOffset(t,bt.dragOrigin(t)):(bt.stopNode(t),t.fixed|=2)}static stopNode(t){t.px=t.x,t.py=t.y}static storeOffset(t,n){typeof t.leaves<"u"&&t.leaves.forEach(i=>{i.fixed|=2,bt.stopNode(i),i._dragGroupOffsetX=i.x-n.x,i._dragGroupOffsetY=i.y-n.y}),typeof t.groups<"u"&&t.groups.forEach(i=>bt.storeOffset(i,n))}static dragOrigin(t){return _i(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t}static drag(t,n){_i(t)?(typeof t.leaves<"u"&&t.leaves.forEach(i=>{t.bounds.setXCentre(n.x),t.bounds.setYCentre(n.y),i.px=i._dragGroupOffsetX+n.x,i.py=i._dragGroupOffsetY+n.y}),typeof t.groups<"u"&&t.groups.forEach(i=>bt.drag(i,n))):(t.px=n.x,t.py=n.y)}static dragEnd(t){_i(t)?(typeof t.leaves<"u"&&t.leaves.forEach(n=>{bt.dragEnd(n),delete n._dragGroupOffsetX,delete n._dragGroupOffsetY}),typeof t.groups<"u"&&t.groups.forEach(bt.dragEnd)):t.fixed&=-7}static mouseOver(t){t.fixed|=4,t.px=t.x,t.py=t.y}static mouseOut(t){t.fixed&=-5}}class Rg{constructor(t,n,i){this.id=t,this.rect=n,this.children=i,this.leaf=typeof i>"u"||i.length===0}}class Jo{constructor(t,n,i,r=null,s=null){this.id=t,this.x=n,this.y=i,this.node=r,this.line=s}}class jn{constructor(t,n){this.s=t,this.t=n;var i=jn.findMatch(t,n),r=n.slice(0).reverse(),s=jn.findMatch(t,r);i.length>=s.length?(this.length=i.length,this.si=i.si,this.ti=i.ti,this.reversed=!1):(this.length=s.length,this.si=s.si,this.ti=n.length-s.ti-s.length,this.reversed=!0)}static findMatch(t,n){for(var i=t.length,r=n.length,s={length:0,si:-1,ti:-1},o=new Array(i),l=0;l<i;l++){o[l]=new Array(r);for(var a=0;a<r;a++)if(t[l]===n[a]){var u=o[l][a]=l===0||a===0?1:o[l-1][a-1]+1;u>s.length&&(s.length=u,s.si=l-u+1,s.ti=a-u+1)}else o[l][a]=0}return s}getSequence(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]}}class Rt{constructor(t,n,i=12){this.originalnodes=t,this.groupPadding=i,this.leaves=null,this.nodes=t.map((g,p)=>new Rg(p,n.getBounds(g),n.getChildren(g))),this.leaves=this.nodes.filter(g=>g.leaf),this.groups=this.nodes.filter(g=>!g.leaf),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(g=>g.children.forEach(p=>this.nodes[p].parent=g)),this.root={children:[]},this.nodes.forEach(g=>{typeof g.parent>"u"&&(g.parent=this.root,this.root.children.push(g.id)),g.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort((g,p)=>this.getDepth(g)-this.getDepth(p));var r=this.backToFront.slice(0).reverse().filter(g=>!g.leaf);r.forEach(g=>{var p=Ot.empty();g.children.forEach(y=>p=p.union(this.nodes[y].rect)),g.rect=p.inflate(this.groupPadding)});var s=this.midPoints(this.cols.map(g=>g.pos)),o=this.midPoints(this.rows.map(g=>g.pos)),l=s[0],a=s[s.length-1],u=o[0],h=o[o.length-1],c=this.rows.map(g=>({x1:l,x2:a,y1:g.pos,y2:g.pos})).concat(o.map(g=>({x1:l,x2:a,y1:g,y2:g}))),f=this.cols.map(g=>({x1:g.pos,x2:g.pos,y1:u,y2:h})).concat(s.map(g=>({x1:g,x2:g,y1:u,y2:h}))),d=c.concat(f);d.forEach(g=>g.verts=[]),this.verts=[],this.edges=[],c.forEach(g=>f.forEach(p=>{var y=new Jo(this.verts.length,p.x1,g.y1);g.verts.push(y),p.verts.push(y),this.verts.push(y);for(var x=this.backToFront.length;x-- >0;){var E=this.backToFront[x],_=E.rect,w=Math.abs(y.x-_.cx()),C=Math.abs(y.y-_.cy());if(w<_.width()/2&&C<_.height()/2){y.node=E;break}}})),d.forEach((g,p)=>{this.nodes.forEach((C,T)=>{C.rect.lineIntersections(g.x1,g.y1,g.x2,g.y2).forEach((S,k)=>{var O=new Jo(this.verts.length,S.x,S.y,C,g);this.verts.push(O),g.verts.push(O),C.ports.push(O)})});var y=Math.abs(g.y1-g.y2)<.1,x=(C,T)=>y?T.x-C.x:T.y-C.y;g.verts.sort(x);for(var E=1;E<g.verts.length;E++){var _=g.verts[E-1],w=g.verts[E];_.node&&_.node===w.node&&_.node.leaf||this.edges.push({source:_.id,target:w.id,length:Math.abs(x(_,w))})}})}avg(t){return t.reduce((n,i)=>n+i)/t.length}getGridLines(t){for(var n=[],i=this.leaves.slice(0,this.leaves.length);i.length>0;){let r=i.filter(o=>o.rect["overlap"+t.toUpperCase()](i[0].rect)),s={nodes:r,pos:this.avg(r.map(o=>o.rect["c"+t]()))};n.push(s),s.nodes.forEach(o=>i.splice(i.indexOf(o),1))}return n.sort((r,s)=>r.pos-s.pos),n}getDepth(t){for(var n=0;t.parent!==this.root;)n++,t=t.parent;return n}midPoints(t){if(t.length===1)return[t[0]];for(var n=t[1]-t[0],i=[t[0]-n/2],r=1;r<t.length;r++)i.push((t[r]+t[r-1])/2);return i.push(t[t.length-1]+n/2),i}findLineage(t){var n=[t];do t=t.parent,n.push(t);while(t!==this.root);return n.reverse()}findAncestorPathBetween(t,n){for(var i=this.findLineage(t),r=this.findLineage(n),s=0;i[s]===r[s];)s++;return{commonAncestor:i[s-1],lineages:i.slice(s).concat(r.slice(s))}}siblingObstacles(t,n){var i=this.findAncestorPathBetween(t,n),r={};i.lineages.forEach(o=>r[o.id]={});var s=i.commonAncestor.children.filter(o=>!(o in r));return i.lineages.filter(o=>o.parent!==i.commonAncestor).forEach(o=>s=s.concat(o.parent.children.filter(l=>l!==o.id))),s.map(o=>this.nodes[o])}static getSegmentSets(t,n,i){for(var r=[],s=0;s<t.length;s++)for(var o=t[s],l=0;l<o.length;l++){var a=o[l];a.edgeid=s,a.i=l;var u=a[1][n]-a[0][n];Math.abs(u)<.1&&r.push(a)}r.sort((d,g)=>d[0][n]-g[0][n]);for(var h=[],c=null,f=0;f<r.length;f++){var a=r[f];(!c||Math.abs(a[0][n]-c.pos)>.1)&&(c={pos:a[0][n],segments:[]},h.push(c)),c.segments.push(a)}return h}static nudgeSegs(t,n,i,r,s,o){var l=r.length;if(!(l<=1)){for(var a=r.map(_=>new qa(_[0][t])),u=[],h=0;h<l;h++)for(var c=0;c<l;c++)if(h!==c){var f=r[h],d=r[c],g=f.edgeid,p=d.edgeid,y=-1,x=-1;t=="x"?s(g,p)&&(f[0][n]<f[1][n]?(y=c,x=h):(y=h,x=c)):s(g,p)&&(f[0][n]<f[1][n]?(y=h,x=c):(y=c,x=h)),y>=0&&u.push(new Yi(a[y],a[x],o))}var E=new ii(a,u);E.solve(),a.forEach((_,w)=>{var C=r[w],T=_.position();C[0][t]=C[1][t]=T;var S=i[C.edgeid];C.i>0&&(S[C.i-1][1][t]=T),C.i<S.length-1&&(S[C.i+1][0][t]=T)})}}static nudgeSegments(t,n,i,r,s){for(var o=Rt.getSegmentSets(t,n,i),l=0;l<o.length;l++){for(var a=o[l],u=[],h=0;h<a.segments.length;h++){var c=a.segments[h];u.push({type:0,s:c,pos:Math.min(c[0][i],c[1][i])}),u.push({type:1,s:c,pos:Math.max(c[0][i],c[1][i])})}u.sort((g,p)=>g.pos-p.pos+g.type-p.type);var f=[],d=0;u.forEach(g=>{g.type===0?(f.push(g.s),d++):d--,d==0&&(Rt.nudgeSegs(n,i,t,f,r,s),f=[])})}}routeEdges(t,n,i,r){var s=t.map(a=>this.route(i(a),r(a))),o=Rt.orderEdges(s),l=s.map(function(a){return Rt.makeSegments(a)});return Rt.nudgeSegments(l,"x","y",o,n),Rt.nudgeSegments(l,"y","x",o,n),Rt.unreverseEdges(l,s),l}static unreverseEdges(t,n){t.forEach((i,r)=>{var s=n[r];s.reversed&&(i.reverse(),i.forEach(function(o){o.reverse()}))})}static angleBetween2Lines(t,n){var i=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),r=Math.atan2(n[0].y-n[1].y,n[0].x-n[1].x),s=i-r;return(s>Math.PI||s<-Math.PI)&&(s=r-i),s}static isLeft(t,n,i){return!t||!n||!i?!1:(n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x)<=0}static getOrder(t){for(var n={},i=0;i<t.length;i++){var r=t[i];typeof n[r.l]>"u"&&(n[r.l]={}),n[r.l][r.r]=!0}return(s,o)=>typeof n[s]<"u"&&n[s][o]}static orderEdges(t){for(var n=[],i=0;i<t.length-1;i++)for(var r=i+1;r<t.length;r++){var s=t[i],o=t[r],l=new jn(s,o),a,u,h;if(l.length!==0){if(l.reversed&&(o.reverse(),o.reversed=!0,l=new jn(s,o)),(l.si<=0||l.ti<=0)&&(l.si+l.length>=s.length||l.ti+l.length>=o.length)){n.push({l:i,r});continue}l.si+l.length>=s.length||l.ti+l.length>=o.length?(a=s[l.si+1],h=s[l.si-1],u=o[l.ti-1]):(a=s[l.si+l.length-2],u=s[l.si+l.length],h=o[l.ti+l.length]),Rt.isLeft(a,u,h)?n.push({l:r,r:i}):n.push({l:i,r})}}return Rt.getOrder(n)}static makeSegments(t){function n(u){return{x:u.x,y:u.y}}for(var i=(u,h,c)=>Math.abs((h.x-u.x)*(c.y-u.y)-(h.y-u.y)*(c.x-u.x))<.001,r=[],s=n(t[0]),o=1;o<t.length;o++){var l=n(t[o]),a=o<t.length-1?t[o+1]:null;(!a||!i(s,l,a))&&(r.push([s,l]),s=l)}return r}route(t,n){var i=this.nodes[t],r=this.nodes[n];this.obstacles=this.siblingObstacles(i,r);var s={};this.obstacles.forEach(y=>s[y.id]=y),this.passableEdges=this.edges.filter(y=>{var x=this.verts[y.source],E=this.verts[y.target];return!(x.node&&x.node.id in s||E.node&&E.node.id in s)});for(var o=1;o<i.ports.length;o++){var l=i.ports[0].id,a=i.ports[o].id;this.passableEdges.push({source:l,target:a,length:0})}for(var o=1;o<r.ports.length;o++){var l=r.ports[0].id,a=r.ports[o].id;this.passableEdges.push({source:l,target:a,length:0})}var u=y=>y.source,h=y=>y.target,c=y=>y.length,f=new os(this.verts.length,this.passableEdges,u,h,c),d=(y,x,E)=>{var _=this.verts[y],w=this.verts[x],C=this.verts[E],T=Math.abs(C.x-_.x),S=Math.abs(C.y-_.y);return _.node===i&&_.node===w.node||w.node===r&&w.node===C.node?0:T>1&&S>1?1e3:0},g=f.PathFromNodeToNodeWithPrevCost(i.ports[0].id,r.ports[0].id,d),p=g.reverse().map(y=>this.verts[y]);return p.push(this.nodes[r.id].ports[0]),p.filter((y,x)=>!(x<p.length-1&&p[x+1].node===i&&y.node===i||x>0&&y.node===r&&p[x-1].node===r))}static getRoutePath(t,n,i,r){var s={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var o=0;o<t.length;o++){var l=t[o],a=l[1].x,u=l[1].y,h=a-l[0].x,c=u-l[0].y;if(o<t.length-1){Math.abs(h)>0?a-=h/Math.abs(h)*n:u-=c/Math.abs(c)*n,s.routepath+="L "+a+" "+u+" ";var f=t[o+1],d=f[0].x,g=f[0].y,p=f[1].x,y=f[1].y;h=p-d,c=y-g;var x=Rt.angleBetween2Lines(l,f)<0?1:0,E,_;Math.abs(h)>0?(E=d+h/Math.abs(h)*n,_=g):(E=d,_=g+c/Math.abs(c)*n);var w=Math.abs(E-a),C=Math.abs(_-u);s.routepath+="A "+w+" "+C+" 0 0 "+x+" "+E+" "+_+" "}else{var T=[a,u],S,k;Math.abs(h)>0?(a-=h/Math.abs(h)*r,S=[a,u+i],k=[a,u-i]):(u-=c/Math.abs(c)*r,S=[a+i,u],k=[a-i,u]),s.routepath+="L "+a+" "+u+" ",r>0&&(s.arrowpath="M "+T[0]+" "+T[1]+" L "+S[0]+" "+S[1]+" L "+k[0]+" "+k[1])}}else{var l=t[0],a=l[1].x,u=l[1].y,h=a-l[0].x,c=u-l[0].y,T=[a,u],S,k;Math.abs(h)>0?(a-=h/Math.abs(h)*r,S=[a,u+i],k=[a,u-i]):(u-=c/Math.abs(c)*r,S=[a+i,u],k=[a-i,u]),s.routepath+="L "+a+" "+u+" ",r>0&&(s.arrowpath="M "+T[0]+" "+T[1]+" L "+S[0]+" "+S[1]+" L "+k[0]+" "+k[1])}return s}}const ve=11102230246251565e-32,kt=134217729,Fg=(3+8*ve)*ve;function Sr(e,t,n,i,r){let s,o,l,a,u=t[0],h=i[0],c=0,f=0;h>u==h>-u?(s=u,u=t[++c]):(s=h,h=i[++f]);let d=0;if(c<e&&f<n)for(h>u==h>-u?(o=u+s,l=s-(o-u),u=t[++c]):(o=h+s,l=s-(o-h),h=i[++f]),s=o,l!==0&&(r[d++]=l);c<e&&f<n;)h>u==h>-u?(o=s+u,a=o-s,l=s-(o-a)+(u-a),u=t[++c]):(o=s+h,a=o-s,l=s-(o-a)+(h-a),h=i[++f]),s=o,l!==0&&(r[d++]=l);for(;c<e;)o=s+u,a=o-s,l=s-(o-a)+(u-a),u=t[++c],s=o,l!==0&&(r[d++]=l);for(;f<n;)o=s+h,a=o-s,l=s-(o-a)+(h-a),h=i[++f],s=o,l!==0&&(r[d++]=l);return(s!==0||d===0)&&(r[d++]=s),d}function Bg(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}function ri(e){return new Float64Array(e)}const zg=(3+16*ve)*ve,Hg=(2+12*ve)*ve,$g=(9+64*ve)*ve*ve,Je=ri(4),Zo=ri(8),Qo=ri(12),jo=ri(16),St=ri(4);function Ug(e,t,n,i,r,s,o){let l,a,u,h,c,f,d,g,p,y,x,E,_,w,C,T,S,k;const O=e-r,M=n-r,L=t-s,m=i-s;w=O*m,f=kt*O,d=f-(f-O),g=O-d,f=kt*m,p=f-(f-m),y=m-p,C=g*y-(w-d*p-g*p-d*y),T=L*M,f=kt*L,d=f-(f-L),g=L-d,f=kt*M,p=f-(f-M),y=M-p,S=g*y-(T-d*p-g*p-d*y),x=C-S,c=C-x,Je[0]=C-(x+c)+(c-S),E=w+x,c=E-w,_=w-(E-c)+(x-c),x=_-T,c=_-x,Je[1]=_-(x+c)+(c-T),k=E+x,c=k-E,Je[2]=E-(k-c)+(x-c),Je[3]=k;let N=Bg(4,Je),D=Hg*o;if(N>=D||-N>=D||(c=e-O,l=e-(O+c)+(c-r),c=n-M,u=n-(M+c)+(c-r),c=t-L,a=t-(L+c)+(c-s),c=i-m,h=i-(m+c)+(c-s),l===0&&a===0&&u===0&&h===0)||(D=$g*o+Fg*Math.abs(N),N+=O*h+m*l-(L*u+M*a),N>=D||-N>=D))return N;w=l*m,f=kt*l,d=f-(f-l),g=l-d,f=kt*m,p=f-(f-m),y=m-p,C=g*y-(w-d*p-g*p-d*y),T=a*M,f=kt*a,d=f-(f-a),g=a-d,f=kt*M,p=f-(f-M),y=M-p,S=g*y-(T-d*p-g*p-d*y),x=C-S,c=C-x,St[0]=C-(x+c)+(c-S),E=w+x,c=E-w,_=w-(E-c)+(x-c),x=_-T,c=_-x,St[1]=_-(x+c)+(c-T),k=E+x,c=k-E,St[2]=E-(k-c)+(x-c),St[3]=k;const z=Sr(4,Je,4,St,Zo);w=O*h,f=kt*O,d=f-(f-O),g=O-d,f=kt*h,p=f-(f-h),y=h-p,C=g*y-(w-d*p-g*p-d*y),T=L*u,f=kt*L,d=f-(f-L),g=L-d,f=kt*u,p=f-(f-u),y=u-p,S=g*y-(T-d*p-g*p-d*y),x=C-S,c=C-x,St[0]=C-(x+c)+(c-S),E=w+x,c=E-w,_=w-(E-c)+(x-c),x=_-T,c=_-x,St[1]=_-(x+c)+(c-T),k=E+x,c=k-E,St[2]=E-(k-c)+(x-c),St[3]=k;const B=Sr(z,Zo,4,St,Qo);w=l*h,f=kt*l,d=f-(f-l),g=l-d,f=kt*h,p=f-(f-h),y=h-p,C=g*y-(w-d*p-g*p-d*y),T=a*u,f=kt*a,d=f-(f-a),g=a-d,f=kt*u,p=f-(f-u),y=u-p,S=g*y-(T-d*p-g*p-d*y),x=C-S,c=C-x,St[0]=C-(x+c)+(c-S),E=w+x,c=E-w,_=w-(E-c)+(x-c),x=_-T,c=_-x,St[1]=_-(x+c)+(c-T),k=E+x,c=k-E,St[2]=E-(k-c)+(x-c),St[3]=k;const F=Sr(B,Qo,4,St,jo);return jo[F-1]}function yi(e,t,n,i,r,s){const o=(t-s)*(n-r),l=(e-r)*(i-s),a=o-l;if(o===0||l===0||o>0!=l>0)return a;const u=Math.abs(o+l);return Math.abs(a)>=zg*u?a:-Ug(e,t,n,i,r,s,u)}const tl=Math.pow(2,-52),bi=new Uint32Array(512);class Vi{static from(t,n=Kg,i=Gg){const r=t.length,s=new Float64Array(r*2);for(let o=0;o<r;o++){const l=t[o];s[2*o]=n(l),s[2*o+1]=i(l)}return new Vi(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:i,_hullTri:r,_hullHash:s}=this,o=t.length>>1;let l=1/0,a=1/0,u=-1/0,h=-1/0;for(let M=0;M<o;M++){const L=t[2*M],m=t[2*M+1];L<l&&(l=L),m<a&&(a=m),L>u&&(u=L),m>h&&(h=m),this._ids[M]=M}const c=(l+u)/2,f=(a+h)/2;let d=1/0,g,p,y;for(let M=0;M<o;M++){const L=Tr(c,f,t[2*M],t[2*M+1]);L<d&&(g=M,d=L)}const x=t[2*g],E=t[2*g+1];d=1/0;for(let M=0;M<o;M++){if(M===g)continue;const L=Tr(x,E,t[2*M],t[2*M+1]);L<d&&L>0&&(p=M,d=L)}let _=t[2*p],w=t[2*p+1],C=1/0;for(let M=0;M<o;M++){if(M===g||M===p)continue;const L=Yg(x,E,_,w,t[2*M],t[2*M+1]);L<C&&(y=M,C=L)}let T=t[2*y],S=t[2*y+1];if(C===1/0){for(let m=0;m<o;m++)this._dists[m]=t[2*m]-t[0]||t[2*m+1]-t[1];tn(this._ids,this._dists,0,o-1);const M=new Uint32Array(o);let L=0;for(let m=0,N=-1/0;m<o;m++){const D=this._ids[m];this._dists[D]>N&&(M[L++]=D,N=this._dists[D])}this.hull=M.subarray(0,L),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(yi(x,E,_,w,T,S)<0){const M=p,L=_,m=w;p=y,_=T,w=S,y=M,T=L,S=m}const k=Vg(x,E,_,w,T,S);this._cx=k.x,this._cy=k.y;for(let M=0;M<o;M++)this._dists[M]=Tr(t[2*M],t[2*M+1],k.x,k.y);tn(this._ids,this._dists,0,o-1),this._hullStart=g;let O=3;i[g]=n[y]=p,i[p]=n[g]=y,i[y]=n[p]=g,r[g]=0,r[p]=1,r[y]=2,s.fill(-1),s[this._hashKey(x,E)]=g,s[this._hashKey(_,w)]=p,s[this._hashKey(T,S)]=y,this.trianglesLen=0,this._addTriangle(g,p,y,-1,-1,-1);for(let M=0,L,m;M<this._ids.length;M++){const N=this._ids[M],D=t[2*N],z=t[2*N+1];if(M>0&&Math.abs(D-L)<=tl&&Math.abs(z-m)<=tl||(L=D,m=z,N===g||N===p||N===y))continue;let B=0;for(let at=0,ut=this._hashKey(D,z);at<this._hashSize&&(B=s[(ut+at)%this._hashSize],!(B!==-1&&B!==i[B]));at++);B=n[B];let F=B,q;for(;q=i[F],yi(D,z,t[2*F],t[2*F+1],t[2*q],t[2*q+1])>=0;)if(F=q,F===B){F=-1;break}if(F===-1)continue;let rt=this._addTriangle(F,N,i[F],-1,-1,r[F]);r[N]=this._legalize(rt+2),r[F]=rt,O++;let it=i[F];for(;q=i[it],yi(D,z,t[2*it],t[2*it+1],t[2*q],t[2*q+1])<0;)rt=this._addTriangle(it,N,q,r[N],-1,r[it]),r[N]=this._legalize(rt+2),i[it]=it,O--,it=q;if(F===B)for(;q=n[F],yi(D,z,t[2*q],t[2*q+1],t[2*F],t[2*F+1])<0;)rt=this._addTriangle(q,N,F,-1,r[F],r[q]),this._legalize(rt+2),r[q]=rt,i[F]=F,O--,F=q;this._hullStart=n[N]=F,i[F]=n[it]=N,i[N]=it,s[this._hashKey(D,z)]=N,s[this._hashKey(t[2*F],t[2*F+1])]=F}this.hull=new Uint32Array(O);for(let M=0,L=this._hullStart;M<O;M++)this.hull[M]=L,L=i[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Xg(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:i,coords:r}=this;let s=0,o=0;for(;;){const l=i[t],a=t-t%3;if(o=a+(t+2)%3,l===-1){if(s===0)break;t=bi[--s];continue}const u=l-l%3,h=a+(t+1)%3,c=u+(l+2)%3,f=n[o],d=n[t],g=n[h],p=n[c];if(qg(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*g],r[2*g+1],r[2*p],r[2*p+1])){n[t]=p,n[l]=f;const x=i[c];if(x===-1){let _=this._hullStart;do{if(this._hullTri[_]===c){this._hullTri[_]=t;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(t,x),this._link(l,i[o]),this._link(o,c);const E=u+(l+1)%3;s<bi.length&&(bi[s++]=E)}else{if(s===0)break;t=bi[--s]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,i,r,s,o){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=n,this._triangles[l+2]=i,this._link(l,r),this._link(l+1,s),this._link(l+2,o),this.trianglesLen+=3,l}}function Xg(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Tr(e,t,n,i){const r=e-n,s=t-i;return r*r+s*s}function qg(e,t,n,i,r,s,o,l){const a=e-o,u=t-l,h=n-o,c=i-l,f=r-o,d=s-l,g=a*a+u*u,p=h*h+c*c,y=f*f+d*d;return a*(c*y-p*d)-u*(h*y-p*f)+g*(h*d-c*f)<0}function Yg(e,t,n,i,r,s){const o=n-e,l=i-t,a=r-e,u=s-t,h=o*o+l*l,c=a*a+u*u,f=.5/(o*u-l*a),d=(u*h-l*c)*f,g=(o*c-a*h)*f;return d*d+g*g}function Vg(e,t,n,i,r,s){const o=n-e,l=i-t,a=r-e,u=s-t,h=o*o+l*l,c=a*a+u*u,f=.5/(o*u-l*a),d=e+(u*h-l*c)*f,g=t+(o*c-a*h)*f;return{x:d,y:g}}function tn(e,t,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const s=e[r],o=t[s];let l=r-1;for(;l>=n&&t[e[l]]>o;)e[l+1]=e[l--];e[l+1]=s}else{const r=n+i>>1;let s=n+1,o=i;Sn(e,r,s),t[e[n]]>t[e[i]]&&Sn(e,n,i),t[e[s]]>t[e[i]]&&Sn(e,s,i),t[e[n]]>t[e[s]]&&Sn(e,n,s);const l=e[s],a=t[l];for(;;){do s++;while(t[e[s]]<a);do o--;while(t[e[o]]>a);if(o<s)break;Sn(e,s,o)}e[n+1]=e[o],e[o]=l,i-s+1>=o-n?(tn(e,t,s,i),tn(e,t,n,o-1)):(tn(e,t,n,o-1),tn(e,t,s,i))}}function Sn(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Kg(e){return e[0]}function Gg(e){return e[1]}const el=1e-6;class $e{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,i){t=+t,n=+n,i=+i;const r=t+i,s=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${s}`:(Math.abs(this._x1-r)>el||Math.abs(this._y1-s)>el)&&(this._+="L"+r+","+s),i&&(this._+=`A${i},${i},0,1,1,${t-i},${n}A${i},${i},0,1,1,${this._x1=r},${this._y1=s}`)}rect(t,n,i,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class ls{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Wg{constructor(t,[n,i,r,s]=[0,0,960,500]){if(!((r=+r)>=(n=+n))||!((s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=r,this.xmin=n,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:i},vectors:r}=this,s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let d=0,g=0,p=i.length,y,x;d<p;d+=3,g+=2){const E=i[d]*2,_=i[d+1]*2,w=i[d+2]*2,C=t[E],T=t[E+1],S=t[_],k=t[_+1],O=t[w],M=t[w+1],L=S-C,m=k-T,N=O-C,D=M-T,z=(L*D-m*N)*2;if(Math.abs(z)<1e-9){let B=1e9;const F=i[0]*2;B*=Math.sign((t[F]-C)*D-(t[F+1]-T)*N),y=(C+O)/2-B*D,x=(T+M)/2+B*N}else{const B=1/z,F=L*L+m*m,q=N*N+D*D;y=C+(D*F-m*q)*B,x=T+(L*q-N*F)*B}s[g]=y,s[g+1]=x}let o=n[n.length-1],l,a=o*4,u,h=t[2*o],c,f=t[2*o+1];r.fill(0);for(let d=0;d<n.length;++d)o=n[d],l=a,u=h,c=f,a=o*4,h=t[2*o],f=t[2*o+1],r[l+2]=r[a]=c-f,r[l+3]=r[a+1]=h-u}render(t){const n=t==null?t=new $e:void 0,{delaunay:{halfedges:i,inedges:r,hull:s},circumcenters:o,vectors:l}=this;if(s.length<=1)return null;for(let h=0,c=i.length;h<c;++h){const f=i[h];if(f<h)continue;const d=Math.floor(h/3)*2,g=Math.floor(f/3)*2,p=o[d],y=o[d+1],x=o[g],E=o[g+1];this._renderSegment(p,y,x,E,t)}let a,u=s[s.length-1];for(let h=0;h<s.length;++h){a=u,u=s[h];const c=Math.floor(r[u]/3)*2,f=o[c],d=o[c+1],g=a*4,p=this._project(f,d,l[g+2],l[g+3]);p&&this._renderSegment(f,d,p[0],p[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new $e:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const i=n==null?n=new $e:void 0,r=this._clip(t);if(r===null||!r.length)return;n.moveTo(r[0],r[1]);let s=r.length;for(;r[0]===r[s-2]&&r[1]===r[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(r[o]!==r[o-2]||r[o+1]!==r[o-1])&&n.lineTo(r[o],r[o+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,i=t.length/2;n<i;++n){const r=this.cellPolygon(n);r&&(r.index=n,yield r)}}cellPolygon(t){const n=new ls;return this.renderCell(t,n),n.value()}_renderSegment(t,n,i,r,s){let o;const l=this._regioncode(t,n),a=this._regioncode(i,r);l===0&&a===0?(s.moveTo(t,n),s.lineTo(i,r)):(o=this._clipSegment(t,n,i,r,l,a))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(t,n,i)===t}*neighbors(t){const n=this._clip(t);if(n)for(const i of this.delaunay.neighbors(t)){const r=this._clip(i);if(r){t:for(let s=0,o=n.length;s<o;s+=2)for(let l=0,a=r.length;l<a;l+=2)if(n[s]==r[l]&&n[s+1]==r[l+1]&&n[(s+2)%o]==r[(l+a-2)%a]&&n[(s+3)%o]==r[(l+a-1)%a]){yield i;break t}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:i,halfedges:r,triangles:s}}=this,o=i[t];if(o===-1)return null;const l=[];let a=o;do{const u=Math.floor(a/3);if(l.push(n[u*2],n[u*2+1]),a=a%3===2?a-2:a+1,s[a]!==t)break;a=r[a]}while(a!==o&&a!==-1);return l}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:i}=this,r=t*4;return i[r]||i[r+1]?this._clipInfinite(t,n,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(t,n)}_clipFinite(t,n){const i=n.length;let r=null,s,o,l=n[i-2],a=n[i-1],u,h=this._regioncode(l,a),c,f=0;for(let d=0;d<i;d+=2)if(s=l,o=a,l=n[d],a=n[d+1],u=h,h=this._regioncode(l,a),u===0&&h===0)c=f,f=0,r?r.push(l,a):r=[l,a];else{let g,p,y,x,E;if(u===0){if((g=this._clipSegment(s,o,l,a,u,h))===null)continue;[p,y,x,E]=g}else{if((g=this._clipSegment(l,a,s,o,h,u))===null)continue;[x,E,p,y]=g,c=f,f=this._edgecode(p,y),c&&f&&this._edge(t,c,f,r,r.length),r?r.push(p,y):r=[p,y]}c=f,f=this._edgecode(x,E),c&&f&&this._edge(t,c,f,r,r.length),r?r.push(x,E):r=[x,E]}if(r)c=f,f=this._edgecode(r[0],r[1]),c&&f&&this._edge(t,c,f,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,n,i,r,s,o){for(;;){if(s===0&&o===0)return[t,n,i,r];if(s&o)return null;let l,a,u=s||o;u&8?(l=t+(i-t)*(this.ymax-n)/(r-n),a=this.ymax):u&4?(l=t+(i-t)*(this.ymin-n)/(r-n),a=this.ymin):u&2?(a=n+(r-n)*(this.xmax-t)/(i-t),l=this.xmax):(a=n+(r-n)*(this.xmin-t)/(i-t),l=this.xmin),s?(t=l,n=a,s=this._regioncode(t,n)):(i=l,r=a,o=this._regioncode(i,r))}}_clipInfinite(t,n,i,r,s,o){let l=Array.from(n),a;if((a=this._project(l[0],l[1],i,r))&&l.unshift(a[0],a[1]),(a=this._project(l[l.length-2],l[l.length-1],s,o))&&l.push(a[0],a[1]),l=this._clipFinite(t,l))for(let u=0,h=l.length,c,f=this._edgecode(l[h-2],l[h-1]);u<h;u+=2)c=f,f=this._edgecode(l[u],l[u+1]),c&&f&&(u=this._edge(t,c,f,l,u),h=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,n,i,r,s){for(;n!==i;){let o,l;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,l=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,l=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,l=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,l=this.ymin;break}(r[s]!==o||r[s+1]!==l)&&this.contains(t,o,l)&&(r.splice(s,0,o,l),s+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const l=(o+2)%r.length,a=(o+4)%r.length;(r[o]===r[l]&&r[l]===r[a]||r[o+1]===r[l+1]&&r[l+1]===r[a+1])&&(r.splice(l,2),o-=2)}return s}_project(t,n,i,r){let s=1/0,o,l,a;if(r<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/r)<s&&(a=this.ymin,l=t+(s=o)*i)}else if(r>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/r)<s&&(a=this.ymax,l=t+(s=o)*i)}if(i>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/i)<s&&(l=this.xmax,a=n+(s=o)*r)}else if(i<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/i)<s&&(l=this.xmin,a=n+(s=o)*r)}return[l,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const Jg=2*Math.PI,Ze=Math.pow;function Zg(e){return e[0]}function Qg(e){return e[1]}function jg(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const r=2*t[i],s=2*t[i+1],o=2*t[i+2];if((n[o]-n[r])*(n[s+1]-n[r+1])-(n[s]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}function t0(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Rs{static from(t,n=Zg,i=Qg,r){return new Rs("length"in t?e0(t,n,i,r):Float64Array.from(n0(t,n,i,r)))}constructor(t){this._delaunator=new Vi(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&jg(t)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const a=this.collinear[0],u=this.collinear[this.collinear.length-1],h=[n[2*a],n[2*a+1],n[2*u],n[2*u+1]],c=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let f=0,d=n.length/2;f<d;++f){const g=t0(n[2*f],n[2*f+1],c);n[2*f]=g[0],n[2*f+1]=g[1]}this._delaunator=new Vi(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let a=0,u=i.length;a<u;++a){const h=s[a%3===2?a-2:a+1];(i[a]===-1||o[h]===-1)&&(o[h]=a)}for(let a=0,u=r.length;a<u;++a)l[r[a]]=a;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,r.length===2&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Wg(this,t)}*neighbors(t){const{inedges:n,hull:i,_hullIndex:r,halfedges:s,triangles:o,collinear:l}=this;if(l){const c=l.indexOf(t);c>0&&(yield l[c-1]),c<l.length-1&&(yield l[c+1]);return}const a=n[t];if(a===-1)return;let u=a,h=-1;do{if(yield h=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=s[u],u===-1){const c=i[(r[t]+1)%i.length];c!==h&&(yield c);return}}while(u!==a)}find(t,n,i=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const r=i;let s;for(;(s=this._step(i,t,n))>=0&&s!==i&&s!==r;)i=s;return s}_step(t,n,i){const{inedges:r,hull:s,_hullIndex:o,halfedges:l,triangles:a,points:u}=this;if(r[t]===-1||!u.length)return(t+1)%(u.length>>1);let h=t,c=Ze(n-u[t*2],2)+Ze(i-u[t*2+1],2);const f=r[t];let d=f;do{let g=a[d];const p=Ze(n-u[g*2],2)+Ze(i-u[g*2+1],2);if(p<c&&(c=p,h=g),d=d%3===2?d-2:d+1,a[d]!==t)break;if(d=l[d],d===-1){if(d=s[(o[t]+1)%s.length],d!==g&&Ze(n-u[d*2],2)+Ze(i-u[d*2+1],2)<c)return d;break}}while(d!==f);return h}render(t){const n=t==null?t=new $e:void 0,{points:i,halfedges:r,triangles:s}=this;for(let o=0,l=r.length;o<l;++o){const a=r[o];if(a<o)continue;const u=s[o]*2,h=s[a]*2;t.moveTo(i[u],i[u+1]),t.lineTo(i[h],i[h+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const i=t==null?t=new $e:void 0,{points:r}=this;for(let s=0,o=r.length;s<o;s+=2){const l=r[s],a=r[s+1];t.moveTo(l+n,a),t.arc(l,a,n,0,Jg)}return i&&i.value()}renderHull(t){const n=t==null?t=new $e:void 0,{hull:i,points:r}=this,s=i[0]*2,o=i.length;t.moveTo(r[s],r[s+1]);for(let l=1;l<o;++l){const a=2*i[l];t.lineTo(r[a],r[a+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new ls;return this.renderHull(t),t.value()}renderTriangle(t,n){const i=n==null?n=new $e:void 0,{points:r,triangles:s}=this,o=s[t*=3]*2,l=s[t+1]*2,a=s[t+2]*2;return n.moveTo(r[o],r[o+1]),n.lineTo(r[l],r[l+1]),n.lineTo(r[a],r[a+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,i=t.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new ls;return this.renderTriangle(t,n),n.value()}}function e0(e,t,n,i){const r=e.length,s=new Float64Array(r*2);for(let o=0;o<r;++o){const l=e[o];s[o*2]=t.call(i,l,o,e),s[o*2+1]=n.call(i,l,o,e)}return s}function*n0(e,t,n,i){let r=0;for(const s of e)yield t.call(i,s,r,e),yield n.call(i,s,r,e),++r}const i0={class:"drawer drawer-mobile"},r0=Z("input",{id:"app-drawer",type:"checkbox",class:"drawer-toggle"},null,-1),s0={class:"drawer-content flex flex-col"},o0={class:"flex h-16 w-full justify-center bg-base-100 text-base-content shadow-sm"},l0={class:"navbar w-full"},a0={for:"app-drawer",class:"btn btn-square drawer-button lg:hidden mr-2"},u0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},c0=Z("path",{fill:"currentColor",d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1),h0=[c0],f0=Z("div",{class:"flex-1"},[Z("span",{class:"text-4xl"},[Z("span",{style:{color:"#0068c7"},class:"font-semibold"},"Padi: Your pathway diagram editor")])],-1),d0={class:"mx-2 mb-1 font-semibold"},p0=Z("span",{class:"material-symbols-outlined"},"visibility_off",-1),g0={class:"material-symbols-outlined"},m0=Z("span",{class:"material-symbols-outlined"},"label",-1),v0=Z("span",{class:"material-symbols-outlined"},"close",-1),_0=[v0],y0={class:"drawer-side"},b0=Z("label",{for:"app-drawer",class:"drawer-overlay"},null,-1),x0={class:"bg-base-200 max-w-xs p-2"},w0=Z("h5",{class:"font-semibold mt-2"},"Metabolites of interest",-1),E0=Z("div",{class:"text-sm"},"Not yet implemented.",-1),k0=Z("h5",{class:"font-semibold mt-2"},"Pathways",-1),A0=Z("div",{class:"text-sm"},[ge("Select pathway from "),Z("a",{href:"https://reactome.org/PathwayBrowser",target:"_blank",class:"link"},"reactome"),ge(" and enter the ID found in the reactome bottom panel. Click a list item to toggle visibility.")],-1),C0=["onClick"],M0=Z("span",{class:"material-symbols-outlined"},"close",-1),N0=[M0],I0=["onClick","title"],S0={class:"material-symbols-outlined"},T0=Z("div",{class:"font-semibold mt-2"},"Hide / Split",-1),P0=Z("div",{class:"text-sm"},"Click a reaction node in the diagram to toggle label visibility. Double-click any node in the diagram to add to this list. Click a list item to toggle between show/hide/duplicate.",-1),L0=["onClick"],O0=Z("span",{class:"material-symbols-outlined"},"close",-1),D0=[O0],R0=["onClick","title"],F0={class:"material-symbols-outlined"},B0={class:"font-semibold mt-2"},z0={class:"font-semibold mt-2"},H0={class:"font-semibold mt-2"},$0={class:"font-semibold mt-2"},U0=Rl({__name:"PathwayEditor",setup(e){const t=Pt(null),n=Pt(null),i=K=>({event:"white",compound:"rgb(0, 104, 199)"})[K.type]||"#000",r=La(Lp);["cytosol","nucleoplasm","mitochondrial matrix","endoplasmic reticulum lumen","extracellular region"].forEach(K=>r(K));const s=Pt(localStorage.getItem("interest")||"");let o;try{o=JSON.parse(localStorage.getItem("pathways")||"[]")}catch{o=[]}const l=Pt(o);let a;try{a=JSON.parse(localStorage.getItem("hidden")||"[]")}catch{a=[]}const u=Pt(a),h=K=>u.value.find(W=>W.stId===K.stId),c=Pt(+(localStorage.getItem("fontSize")||8)),f=Pt(+(localStorage.getItem("nodeSize")||70)),d=Pt(+(localStorage.getItem("padding")||35)),g=Pt(+(localStorage.getItem("rounded")||0)),p=Pt(""),y=Pt(!1),x=Pt(200),E=Pt(200);let _=null;const w=Pt({}),C=K=>K.type==="compound"?w.value[K.stId]===void 0||w.value[K.stId]:!!w.value[K.stId];re(()=>{localStorage.setItem("interest",s.value)}),re(()=>{localStorage.setItem("pathways",JSON.stringify(l.value))}),re(()=>{localStorage.setItem("hidden",JSON.stringify(u.value))}),re(()=>{localStorage.setItem("fontSize",`${c.value}`)}),re(()=>{localStorage.setItem("nodeSize",`${f.value}`)}),re(()=>{localStorage.setItem("rounded",`${g.value}`)}),re(()=>{localStorage.setItem("padding",`${d.value}`)}),Pn(()=>s.value.split(/[\n,]/).map(K=>K.trim()));const T=Pn(async()=>await Promise.all(l.value.filter(K=>K.state==="show").map(async K=>{if(K.displayName===K.stId){const st=await(await fetch(`https://reactome.org/ContentService/data/query/${K.stId}`)).json();K.displayName=st.displayName,K.name=K.name}return await(await fetch(`https://reactome.org/ContentService/data/pathway/${K.stId}/containedEvents`)).json()}))),S=Pn(async()=>(await Promise.all((await T.value).map(async W=>{const st=W.map(dt=>dt.stId);return(await fetch("https://reactome.org/ContentService/data/query/ids",{method:"POST",body:st.join(",")})).json()}))).flat()),k={},O=Pn(async()=>{u.value.map(J=>J.state),f.value,d.value;const K=(await S.value).filter(J=>J.className==="Reaction"),W=[],st=[],ht={},dt={x:0,y:0,width:f.value,height:f.value};return K.forEach(J=>{var v;if(!ht[J.displayName]){if(((v=h(J))==null?void 0:v.state)==="hide")return;W.push({name:J.name,displayName:J.displayName,stId:J.stId,type:"event",...dt,...k[J.stId]||{}}),ht[J.displayName]=W[W.length-1]}const mt=ht[J.displayName];mt&&(J.input.forEach(b=>{var I,A;typeof b=="object"&&b!==null&&((I=h(b))==null?void 0:I.state)!=="hide"&&((!ht[b.displayName]||((A=h(b))==null?void 0:A.state)==="split")&&(W.push({name:b.name,displayName:b.displayName,stId:b.stId,type:"compound",compartment:b.displayName.match(/\[(.*?)\]/)[1],...dt,...k[J.stId]||{}}),ht[b.displayName]=W[W.length-1]),st.push({source:ht[b.displayName],target:mt}))}),J.output.forEach(b=>{var I,A;typeof b=="object"&&b!==null&&((I=h(b))==null?void 0:I.state)!=="hide"&&((!ht[b.displayName]||((A=h(b))==null?void 0:A.state)==="split")&&(W.push({name:b.name,displayName:b.displayName,stId:b.stId,type:"compound",compartment:b.displayName.match(/\[(.*?)\]/)[1],...dt,...k[J.stId]||{}}),ht[b.displayName]=W[W.length-1]),st.push({source:mt,target:ht[b.displayName]}))}))}),{nodes:W,links:st}});let M,L=hr,m,N,D,z;const B=async()=>{z.start(0,0,0,0,!1,!1);const{nodes:K}=await O.value,W=5,st=f.value-2*W;K.forEach(A=>{const P={x:(A.bounds.X+A.bounds.x)/2,y:(A.bounds.Y+A.bounds.y)/2};A.bounds.x=P.x-st/2,A.bounds.y=P.y-st/2,A.bounds.X=P.x+st/2,A.bounds.Y=P.y+st/2});let ht=new Rt(z.nodes(),{getChildren:A=>A.children,getBounds:A=>A.bounds},W);const dt=4,J=ht.routeEdges(z.links(),dt,A=>A.source.index,A=>A.target.index);D.selectAll("path").remove(),J.forEach(A=>{var P=5,$=3,Y=7,H=Rt.getRoutePath(A,P,$,Y);D.append("path").attr("class","linkarrowoutline").attr("d",H.arrowpath),D.append("path").attr("class","linkarrow").attr("d",H.arrowpath),D.append("path").attr("class","linkoutline").attr("d",H.routepath).style("stroke","white").style("stroke-width",2).attr("fill","none"),D.append("path").attr("class","link").attr("d",H.routepath).style("stroke","black").attr("fill","none")}),m.selectAll(".node").attr("x",A=>A.bounds.x).attr("y",A=>A.bounds.y).attr("width",A=>A.bounds.width()).attr("height",A=>A.bounds.height()).attr("rx",f.value*g.value/2).attr("ry",f.value*g.value/2).style("fill",A=>i(A)),m.selectAll(".label").attr("x",A=>A.bounds.x+A.bounds.width()/2).attr("y",A=>f.value>3*c.value?A.bounds.y+A.bounds.height()/2:A.bounds.y-c.value/2).style("font-size",c.value).style("stroke",A=>f.value>3*c.value?"black":"white").style("fill",A=>f.value>3*c.value?"white":"black"),m.selectAll(".tspan").attr("x",A=>A.parent.bounds.x+A.parent.bounds.width()/2);const mt=[],v=[];K.forEach(A=>{k[A.stId]={x:A.x,y:A.y},A.type==="compound"&&(mt.push([A.x,A.y]),v.push(A))});const I=Rs.from(mt).voronoi([-1e5,-1e5,t.value.clientWidth+1e5,t.value.clientHeight+1e5]);N.selectAll("path").remove(),N.selectAll("path").data(v).enter().append("path").attr("d",(A,P)=>I.renderCell(P)).attr("stroke","black").attr("fill",A=>r(A.compartment||"")).attr("opacity",.25).attr("stroke-width",0)};re(()=>{c.value,g.value,z&&B()}),re(async()=>{var R;const{nodes:K,links:W}=await O.value;(R=t.value)==null||R.replaceChildren();const st=jt(t.value).append("svg").attr("class","w-full h-full");m=st.append("g").attr("transform",L),N=m.append("g"),z=new bt().convergenceThreshold(.001).size([t.value.clientWidth,t.value.clientHeight]).avoidOverlaps(!0).nodes(K).links(W).linkDistance(f.value+d.value).start(100,0,10,10,!1),D=m.append("g");const ht=m.selectAll(".node").data(K).enter().append("rect").attr("class","node").style("stroke","black").style("stroke-width",1);ht.append("title").text(X=>X.displayName);const dt=m.selectAll(".label").data(K).enter().append("text").attr("class","label").style("text-anchor","middle").style("dominant-baseline","middle").style("stroke-width",2).style("paint-order","stroke");M=dt.append("tspan").text(X=>C(X)?X.name[0]:""),dt.append("title").text(X=>X.displayName),B();let J={x:0,y:0},mt={x:0,y:0},v=!1;const b=()=>{let X=Q,V=typeof TouchEvent<"u"&&X.sourceEvent instanceof TouchEvent?X.sourceEvent.changedTouches[0]:X.sourceEvent;const G=Ba(m.node()),[j,nt]=G.invert([V.clientX,V.clientY]);return{x:j,y:nt}},I=X=>{v=!1,J=b(),mt={x:X.x,y:X.y}},A=()=>{const X=b();return{x:mt.x+Math.round((X.x-J.x)/f.value)*f.value,y:mt.y+Math.round((X.y-J.y)/f.value)*f.value}},P=X=>{const V=A(),G=5;!v&&Math.abs(mt.x-V.x)<G&&Math.abs(mt.y-V.y)<G||(v=!0,(V.x!==X.x||V.y!==X.y)&&(X.x=V.x,X.y=V.y,X.bounds.x=V.x,X.bounds.y=V.y,B()))},$=X=>{if(!v){_=X;const V=t.value.getBoundingClientRect(),G=A();x.value=L.applyX(G.x)+V.left+20,E.value=L.applyY(G.y)+V.top+20,y.value=!0;return}};let Y=Gf().on("start",I).on("drag",P).on("end",$);ht.call(Y),dt.call(Y);const H=ng().extent([[0,0],[t.value.clientWidth,t.value.clientHeight]]).scaleExtent([.1,10]).on("zoom",U);st.call(H).call(H.transform,L).on("dblclick.zoom",null);function U(){L=Q.transform,m.attr("transform",L)}}),re(()=>{Object.entries(w.value),M&&M.text(K=>C(K)?K.name[0]:"")});const F=K=>{if(K.type==="compound"){K.state=K.state==="hide"?"show":K.state==="show"?"split":"hide";return}K.state=K.state==="hide"?"show":"hide"},q=()=>{l.value.push({name:[p.value],displayName:p.value,type:"pathway",state:"show",stId:p.value}),p.value=""},rt=K=>{var W=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),st=document.createElement("a");st.setAttribute("download","image.png"),st.setAttribute("href",K),st.setAttribute("target","_blank"),st.dispatchEvent(W)},it=()=>{const K=jt(t.value).select("svg").node(),W=btoa(unescape(encodeURIComponent(K.outerHTML))),st=document.createElement("a"),ht=new MouseEvent("click");st.download="download.svg",st.href="data:image/svg+xml;base64,"+W,st.dispatchEvent(ht)},at=()=>{var v,b;const K=jt(t.value).select("svg").node();(v=n.value)==null||v.setAttribute("width",`${t.value.clientWidth}`),(b=n.value)==null||b.setAttribute("height",`${t.value.clientHeight}`);var W=n.value.getContext("2d"),st=new XMLSerializer().serializeToString(K),ht=window.URL||window.webkitURL||window,dt=new Image,J=new Blob([st],{type:"image/svg+xml;charset=utf-8"}),mt=ht.createObjectURL(J);dt.onload=function(){W.drawImage(dt,0,0,t.value.clientWidth,t.value.clientHeight),ht.revokeObjectURL(mt);var I=n.value.toDataURL("image/png").replace("image/png","image/octet-stream");rt(I)},dt.src=mt},ut=()=>{if(y.value=!1,!_)return;const K=h(_);if(K){K.state="hide";return}u.value.push({stId:_.stId,type:_.type,name:_.name,displayName:_.displayName,state:"hide"})},wt=()=>{if(y.value=!1,!_)return;const K=h(_);if(K){K.state=K.state==="split"?"show":"split";return}u.value.push({stId:_.stId,type:_.type,name:_.name,displayName:_.displayName,state:"split"})},It=()=>{y.value=!1,_&&(w.value[_.stId]=!C(_))};return(K,W)=>{var st,ht,dt;return ue(),Oe("div",i0,[r0,Z("div",s0,[Z("div",o0,[Z("nav",l0,[Z("label",a0,[(ue(),Oe("svg",u0,h0))]),f0])]),Z("div",{ref_key:"diagram",ref:t,class:"w-full h-full"},null,512),Z("div",{class:Gi({"bg-gray-200":!0,"p-2":!0,"rounded-lg":!0,fixed:!0,hidden:!y.value}),style:Ki({left:`${x.value}px`,top:`${E.value}px`})},[Z("div",d0,Ut((st=le(_))==null?void 0:st.displayName),1),Z("button",{class:"btn btn-sm btn-ghost gap-2 normal-case",onClick:ut},[p0,ge("Hide")]),le(_)&&le(_).type==="compound"?(ue(),Oe("button",{key:0,class:"btn btn-sm btn-ghost ml-2 gap-2 normal-case",onClick:wt},[Z("span",g0,Ut(le(_)&&((ht=h(le(_)))==null?void 0:ht.state)==="split"?"call_merge":"call_split"),1),ge(Ut(le(_)&&((dt=h(le(_)))==null?void 0:dt.state)==="split"?"Merge":"Split"),1)])):Fc("",!0),Z("button",{class:"btn btn-sm btn-ghost ml-2 gap-2 normal-case",onClick:It},[m0,ge(Ut(!le(_)||!C(le(_))?"Show":"Hide")+" Label",1)]),Z("button",{class:"btn btn-sm btn-ghost ml-2",onClick:W[0]||(W[0]=J=>y.value=!1)},_0)],6)]),Z("div",y0,[b0,Z("aside",x0,[w0,E0,Ke(Z("textarea",{class:"textarea textarea-bordered",rows:"2","onUpdate:modelValue":W[1]||(W[1]=J=>s.value=J)},null,512),[[Ge,s.value]]),k0,A0,(ue(!0),Oe(Vt,null,Qs(l.value,(J,mt)=>(ue(),Oe("div",{key:J.stId,class:"flex mb-1"},[Z("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:v=>l.value.splice(mt,1)},N0,8,C0),Z("button",{class:"btn btn-sm btn-ghost gap-2 normal-case",onClick:v=>F(J),title:J.displayName},[Z("span",S0,Ut({hide:"visibility_off",show:"visibility",split:"call_split"}[J.state]),1),ge(" "+Ut(`${J.displayName.substring(0,15)}${J.displayName.length>15?"...":""}`),1)],8,I0)]))),128)),Ke(Z("input",{class:"input input-sm input-bordered",placeholder:"ID e.g. R-HSA-70171","onUpdate:modelValue":W[2]||(W[2]=J=>p.value=J)},null,512),[[Ge,p.value]]),Z("button",{class:"btn btn-sm ml-1",onClick:W[3]||(W[3]=J=>q())},"Add"),T0,P0,(ue(!0),Oe(Vt,null,Qs(u.value,(J,mt)=>(ue(),Oe("div",{key:J.stId,class:"flex mb-1"},[Z("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:v=>u.value.splice(mt,1)},D0,8,L0),Z("button",{class:"btn btn-sm btn-ghost gap-2 normal-case",onClick:v=>F(J),title:J.displayName},[Z("span",F0,Ut({hide:"visibility_off",show:"visibility",split:"call_split"}[J.state]),1),ge(" "+Ut(`${J.displayName.substring(0,15)}${J.displayName.length>15?"...":""}`),1)],8,R0)]))),128)),Z("h5",B0,"Font Size ("+Ut(c.value)+")",1),Ke(Z("input",{type:"range",min:"2",max:"20",class:"range","onUpdate:modelValue":W[4]||(W[4]=J=>c.value=J)},null,512),[[Ge,c.value,void 0,{number:!0}]]),Z("h5",z0,"Node Size ("+Ut(f.value)+")",1),Ke(Z("input",{type:"range",min:"10",max:"100",class:"range","onUpdate:modelValue":W[5]||(W[5]=J=>f.value=J)},null,512),[[Ge,f.value,void 0,{number:!0}]]),Z("h5",H0,"Padding ("+Ut(d.value)+")",1),Ke(Z("input",{type:"range",min:"10",max:"100",class:"range","onUpdate:modelValue":W[6]||(W[6]=J=>d.value=J)},null,512),[[Ge,d.value,void 0,{number:!0}]]),Z("h5",$0,"Rounded ("+Ut(g.value)+")",1),Ke(Z("input",{type:"range",min:"0",max:"1",step:"0.01",class:"range","onUpdate:modelValue":W[7]||(W[7]=J=>g.value=J)},null,512),[[Ge,g.value,void 0,{number:!0}]]),Z("button",{class:"btn block mb-2",onClick:at},"Download PNG"),Z("button",{class:"btn block",onClick:it},"Download SVG"),Z("canvas",{ref_key:"canvas",ref:n,class:"hidden"},null,512)])])])}}}),X0=Rl({__name:"App",setup(e){return(t,n)=>(ue(),Zl(Ju,null,{fallback:Fr(()=>[ge("Loading...")]),default:Fr(()=>[ee(U0)]),_:1}))}});vh(X0).mount("#app");
