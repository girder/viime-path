(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Pr(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function $e(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=Mt(i)?Eu(i):$e(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(Mt(e))return e;if(yt(e))return e}}const xu=/;(?![^(]*\))/g,wu=/:([^]+)/,ku=/\/\*.*?\*\//gs;function Eu(e){const t={};return e.replace(ku,"").split(xu).forEach(n=>{if(n){const i=n.split(wu);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ps(e){let t="";if(Mt(e))t=e;else if(nt(e))for(let n=0;n<e.length;n++){const i=ps(e[n]);i&&(t+=i+" ")}else if(yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Cu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Au=Pr(Cu);function Sl(e){return!!e||e===""}function Iu(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=gi(e[i],t[i]);return n}function gi(e,t){if(e===t)return!0;let n=po(e),i=po(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=ei(e),i=ei(t),n||i)return e===t;if(n=nt(e),i=nt(t),n||i)return n&&i?Iu(e,t):!1;if(n=yt(e),i=yt(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const l=e.hasOwnProperty(o),a=t.hasOwnProperty(o);if(l&&!a||!l&&a||!gi(e[o],t[o]))return!1}}return String(e)===String(t)}function Lr(e,t){return e.findIndex(n=>gi(n,t))}const Lt=e=>Mt(e)?e:e==null?"":nt(e)||yt(e)&&(e.toString===Ll||!ot(e.toString))?JSON.stringify(e,Tl,2):String(e),Tl=(e,t)=>t&&t.__v_isRef?Tl(e,t.value):mn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Ln(t)?{[`Set(${t.size})`]:[...t.values()]}:yt(t)&&!nt(t)&&!Ol(t)?String(t):t,_t={},gn=[],fe=()=>{},Nu=()=>!1,Mu=/^on[^a-z]/,gs=e=>Mu.test(e),Or=e=>e.startsWith("onUpdate:"),zt=Object.assign,Dr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Su=Object.prototype.hasOwnProperty,dt=(e,t)=>Su.call(e,t),nt=Array.isArray,mn=e=>mi(e)==="[object Map]",Ln=e=>mi(e)==="[object Set]",po=e=>mi(e)==="[object Date]",ot=e=>typeof e=="function",Mt=e=>typeof e=="string",ei=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",Pl=e=>yt(e)&&ot(e.then)&&ot(e.catch),Ll=Object.prototype.toString,mi=e=>Ll.call(e),Tu=e=>mi(e).slice(8,-1),Ol=e=>mi(e)==="[object Object]",Rr=e=>Mt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Hi=Pr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ms=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Pu=/-(\w)/g,En=ms(e=>e.replace(Pu,(t,n)=>n?n.toUpperCase():"")),Lu=/\B([A-Z])/g,On=ms(e=>e.replace(Lu,"-$1").toLowerCase()),Dl=ms(e=>e.charAt(0).toUpperCase()+e.slice(1)),Os=ms(e=>e?`on${Dl(e)}`:""),ni=(e,t)=>!Object.is(e,t),zi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Zi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Cn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let go;const Ou=()=>go||(go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let _e;class Du{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=_e,!t&&_e&&(this.index=(_e.scopes||(_e.scopes=[])).push(this)-1)}run(t){if(this.active){const n=_e;try{return _e=this,t()}finally{_e=n}}}on(){_e=this}off(){_e=this.parent}stop(t){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function Ru(e,t=_e){t&&t.active&&t.effects.push(e)}const Fr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Rl=e=>(e.w&qe)>0,Fl=e=>(e.n&qe)>0,Fu=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=qe},Bu=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];Rl(s)&&!Fl(s)?s.delete(e):t[n++]=s,s.w&=~qe,s.n&=~qe}t.length=n}},er=new WeakMap;let Yn=0,qe=1;const nr=30;let ce;const on=Symbol(""),ir=Symbol("");class Br{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ru(this,i)}run(){if(!this.active)return this.fn();let t=ce,n=Ve;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ce,ce=this,Ve=!0,qe=1<<++Yn,Yn<=nr?Fu(this):mo(this),this.fn()}finally{Yn<=nr&&Bu(this),qe=1<<--Yn,ce=this.parent,Ve=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ce===this?this.deferStop=!0:this.active&&(mo(this),this.onStop&&this.onStop(),this.active=!1)}}function mo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ve=!0;const Bl=[];function Dn(){Bl.push(Ve),Ve=!1}function Rn(){const e=Bl.pop();Ve=e===void 0?!0:e}function te(e,t,n){if(Ve&&ce){let i=er.get(e);i||er.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=Fr()),$l(s)}}function $l(e,t){let n=!1;Yn<=nr?Fl(e)||(e.n|=qe,n=!Rl(e)):n=!e.has(ce),n&&(e.add(ce),ce.deps.push(e))}function Me(e,t,n,i,s,r){const o=er.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&nt(e)){const a=Cn(i);o.forEach((u,h)=>{(h==="length"||h>=a)&&l.push(u)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":nt(e)?Rr(n)&&l.push(o.get("length")):(l.push(o.get(on)),mn(e)&&l.push(o.get(ir)));break;case"delete":nt(e)||(l.push(o.get(on)),mn(e)&&l.push(o.get(ir)));break;case"set":mn(e)&&l.push(o.get(on));break}if(l.length===1)l[0]&&sr(l[0]);else{const a=[];for(const u of l)u&&a.push(...u);sr(Fr(a))}}function sr(e,t){const n=nt(e)?e:[...e];for(const i of n)i.computed&&vo(i);for(const i of n)i.computed||vo(i)}function vo(e,t){(e!==ce||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const $u=Pr("__proto__,__v_isRef,__isVue"),Hl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ei)),Hu=$r(),zu=$r(!1,!0),Uu=$r(!0),_o=Vu();function Vu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=gt(this);for(let r=0,o=this.length;r<o;r++)te(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(gt)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Dn();const i=gt(this)[t].apply(this,n);return Rn(),i}}),e}function $r(e=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?rc:ql:t?Xl:Vl).get(i))return i;const o=nt(i);if(!e&&o&&dt(_o,s))return Reflect.get(_o,s,r);const l=Reflect.get(i,s,r);return(ei(s)?Hl.has(s):$u(s))||(e||te(i,"get",s),t)?l:Ht(l)?o&&Rr(s)?l:l.value:yt(l)?e?Yl(l):Ur(l):l}}const Xu=zl(),qu=zl(!0);function zl(e=!1){return function(n,i,s,r){let o=n[i];if(An(o)&&Ht(o)&&!Ht(s))return!1;if(!e&&(!Qi(s)&&!An(s)&&(o=gt(o),s=gt(s)),!nt(n)&&Ht(o)&&!Ht(s)))return o.value=s,!0;const l=nt(n)&&Rr(i)?Number(i)<n.length:dt(n,i),a=Reflect.set(n,i,s,r);return n===gt(r)&&(l?ni(s,o)&&Me(n,"set",i,s):Me(n,"add",i,s)),a}}function Yu(e,t){const n=dt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Me(e,"delete",t,void 0),i}function Ku(e,t){const n=Reflect.has(e,t);return(!ei(t)||!Hl.has(t))&&te(e,"has",t),n}function Gu(e){return te(e,"iterate",nt(e)?"length":on),Reflect.ownKeys(e)}const Ul={get:Hu,set:Xu,deleteProperty:Yu,has:Ku,ownKeys:Gu},Wu={get:Uu,set(e,t){return!0},deleteProperty(e,t){return!0}},Ju=zt({},Ul,{get:zu,set:qu}),Hr=e=>e,vs=e=>Reflect.getPrototypeOf(e);function Ei(e,t,n=!1,i=!1){e=e.__v_raw;const s=gt(e),r=gt(t);n||(t!==r&&te(s,"get",t),te(s,"get",r));const{has:o}=vs(s),l=i?Hr:n?Xr:ii;if(o.call(s,t))return l(e.get(t));if(o.call(s,r))return l(e.get(r));e!==s&&e.get(t)}function Ci(e,t=!1){const n=this.__v_raw,i=gt(n),s=gt(e);return t||(e!==s&&te(i,"has",e),te(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ai(e,t=!1){return e=e.__v_raw,!t&&te(gt(e),"iterate",on),Reflect.get(e,"size",e)}function yo(e){e=gt(e);const t=gt(this);return vs(t).has.call(t,e)||(t.add(e),Me(t,"add",e,e)),this}function bo(e,t){t=gt(t);const n=gt(this),{has:i,get:s}=vs(n);let r=i.call(n,e);r||(e=gt(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?ni(t,o)&&Me(n,"set",e,t):Me(n,"add",e,t),this}function xo(e){const t=gt(this),{has:n,get:i}=vs(t);let s=n.call(t,e);s||(e=gt(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&Me(t,"delete",e,void 0),r}function wo(){const e=gt(this),t=e.size!==0,n=e.clear();return t&&Me(e,"clear",void 0,void 0),n}function Ii(e,t){return function(i,s){const r=this,o=r.__v_raw,l=gt(o),a=t?Hr:e?Xr:ii;return!e&&te(l,"iterate",on),o.forEach((u,h)=>i.call(s,a(u),a(h),r))}}function Ni(e,t,n){return function(...i){const s=this.__v_raw,r=gt(s),o=mn(r),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,u=s[e](...i),h=n?Hr:t?Xr:ii;return!t&&te(r,"iterate",a?ir:on),{next(){const{value:c,done:f}=u.next();return f?{value:c,done:f}:{value:l?[h(c[0]),h(c[1])]:h(c),done:f}},[Symbol.iterator](){return this}}}}function De(e){return function(...t){return e==="delete"?!1:this}}function Zu(){const e={get(r){return Ei(this,r)},get size(){return Ai(this)},has:Ci,add:yo,set:bo,delete:xo,clear:wo,forEach:Ii(!1,!1)},t={get(r){return Ei(this,r,!1,!0)},get size(){return Ai(this)},has:Ci,add:yo,set:bo,delete:xo,clear:wo,forEach:Ii(!1,!0)},n={get(r){return Ei(this,r,!0)},get size(){return Ai(this,!0)},has(r){return Ci.call(this,r,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:Ii(!0,!1)},i={get(r){return Ei(this,r,!0,!0)},get size(){return Ai(this,!0)},has(r){return Ci.call(this,r,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:Ii(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Ni(r,!1,!1),n[r]=Ni(r,!0,!1),t[r]=Ni(r,!1,!0),i[r]=Ni(r,!0,!0)}),[e,n,t,i]}const[Qu,ju,tc,ec]=Zu();function zr(e,t){const n=t?e?ec:tc:e?ju:Qu;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(dt(n,s)&&s in i?n:i,s,r)}const nc={get:zr(!1,!1)},ic={get:zr(!1,!0)},sc={get:zr(!0,!1)},Vl=new WeakMap,Xl=new WeakMap,ql=new WeakMap,rc=new WeakMap;function oc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lc(e){return e.__v_skip||!Object.isExtensible(e)?0:oc(Tu(e))}function Ur(e){return An(e)?e:Vr(e,!1,Ul,nc,Vl)}function ac(e){return Vr(e,!1,Ju,ic,Xl)}function Yl(e){return Vr(e,!0,Wu,sc,ql)}function Vr(e,t,n,i,s){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=lc(e);if(o===0)return e;const l=new Proxy(e,o===2?i:n);return s.set(e,l),l}function vn(e){return An(e)?vn(e.__v_raw):!!(e&&e.__v_isReactive)}function An(e){return!!(e&&e.__v_isReadonly)}function Qi(e){return!!(e&&e.__v_isShallow)}function Kl(e){return vn(e)||An(e)}function gt(e){const t=e&&e.__v_raw;return t?gt(t):e}function Gl(e){return Zi(e,"__v_skip",!0),e}const ii=e=>yt(e)?Ur(e):e,Xr=e=>yt(e)?Yl(e):e;function Wl(e){Ve&&ce&&(e=gt(e),$l(e.dep||(e.dep=Fr())))}function Jl(e,t){e=gt(e),e.dep&&sr(e.dep)}function Ht(e){return!!(e&&e.__v_isRef===!0)}function wt(e){return uc(e,!1)}function uc(e,t){return Ht(e)?e:new cc(e,t)}class cc{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:gt(t),this._value=n?t:ii(t)}get value(){return Wl(this),this._value}set value(t){const n=this.__v_isShallow||Qi(t)||An(t);t=n?t:gt(t),ni(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ii(t),Jl(this))}}function Yt(e){return Ht(e)?e.value:e}const hc={get:(e,t,n)=>Yt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return Ht(s)&&!Ht(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function Zl(e){return vn(e)?e:new Proxy(e,hc)}var Ql;class fc{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Ql]=!1,this._dirty=!0,this.effect=new Br(t,()=>{this._dirty||(this._dirty=!0,Jl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=gt(this);return Wl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Ql="__v_isReadonly";function dc(e,t,n=!1){let i,s;const r=ot(e);return r?(i=e,s=fe):(i=e.get,s=e.set),new fc(i,s,r||!s,n)}function Xe(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){vi(r,t,n)}return s}function le(e,t,n,i){if(ot(e)){const r=Xe(e,t,n,i);return r&&Pl(r)&&r.catch(o=>{vi(o,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(le(e[r],t,n,i));return s}function vi(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,l=n;for(;r;){const u=r.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,o,l)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){Xe(a,null,10,[e,o,l]);return}}pc(e,n,s,i)}function pc(e,t,n,i=!0){console.error(e)}let si=!1,rr=!1;const $t=[];let be=0;const _n=[];let Ae=null,tn=0;const jl=Promise.resolve();let qr=null;function gc(e){const t=qr||jl;return e?t.then(this?e.bind(this):e):t}function mc(e){let t=be+1,n=$t.length;for(;t<n;){const i=t+n>>>1;ri($t[i])<e?t=i+1:n=i}return t}function Yr(e){(!$t.length||!$t.includes(e,si&&e.allowRecurse?be+1:be))&&(e.id==null?$t.push(e):$t.splice(mc(e.id),0,e),ta())}function ta(){!si&&!rr&&(rr=!0,qr=jl.then(ia))}function vc(e){const t=$t.indexOf(e);t>be&&$t.splice(t,1)}function ea(e){nt(e)?_n.push(...e):(!Ae||!Ae.includes(e,e.allowRecurse?tn+1:tn))&&_n.push(e),ta()}function ko(e,t=si?be+1:0){for(;t<$t.length;t++){const n=$t[t];n&&n.pre&&($t.splice(t,1),t--,n())}}function na(e){if(_n.length){const t=[...new Set(_n)];if(_n.length=0,Ae){Ae.push(...t);return}for(Ae=t,Ae.sort((n,i)=>ri(n)-ri(i)),tn=0;tn<Ae.length;tn++)Ae[tn]();Ae=null,tn=0}}const ri=e=>e.id==null?1/0:e.id,_c=(e,t)=>{const n=ri(e)-ri(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ia(e){rr=!1,si=!0,$t.sort(_c);const t=fe;try{for(be=0;be<$t.length;be++){const n=$t[be];n&&n.active!==!1&&Xe(n,null,14)}}finally{be=0,$t.length=0,na(),si=!1,qr=null,($t.length||_n.length)&&ia()}}function yc(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||_t;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:f}=i[h]||_t;f&&(s=n.map(d=>Mt(d)?d.trim():d)),c&&(s=n.map(Cn))}let l,a=i[l=Os(t)]||i[l=Os(En(t))];!a&&r&&(a=i[l=Os(On(t))]),a&&le(a,e,6,s);const u=i[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,le(u,e,6,s)}}function sa(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},l=!1;if(!ot(e)){const a=u=>{const h=sa(u,t,!0);h&&(l=!0,zt(o,h))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(yt(e)&&i.set(e,null),null):(nt(r)?r.forEach(a=>o[a]=null):zt(o,r),yt(e)&&i.set(e,o),o)}function _s(e,t){return!e||!gs(t)?!1:(t=t.slice(2).replace(/Once$/,""),dt(e,t[0].toLowerCase()+t.slice(1))||dt(e,On(t))||dt(e,t))}let re=null,ra=null;function ji(e){const t=re;return re=e,ra=e&&e.type.__scopeId||null,t}function or(e,t=re,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&Lo(-1);const r=ji(t);let o;try{o=e(...s)}finally{ji(r),i._d&&Lo(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ds(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:l,attrs:a,emit:u,render:h,renderCache:c,data:f,setupState:d,ctx:g,inheritAttrs:p}=e;let _,b;const k=ji(e);try{if(n.shapeFlag&4){const x=s||i;_=ue(h.call(x,x,c,r,d,f,g)),b=a}else{const x=t;_=ue(x.length>1?x(r,{attrs:a,slots:l,emit:u}):x(r,null)),b=t.props?a:xc(a)}}catch(x){jn.length=0,vi(x,e,1),_=de(jt)}let y=_;if(b&&p!==!1){const x=Object.keys(b),{shapeFlag:A}=y;x.length&&A&7&&(o&&x.some(Or)&&(b=wc(b,o)),y=Ye(y,b))}return n.dirs&&(y=Ye(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),_=y,ji(k),_}function bc(e){let t;for(let n=0;n<e.length;n++){const i=e[n];if(Ca(i)){if(i.type!==jt||i.children==="v-if"){if(t)return;t=i}}else return}return t}const xc=e=>{let t;for(const n in e)(n==="class"||n==="style"||gs(n))&&((t||(t={}))[n]=e[n]);return t},wc=(e,t)=>{const n={};for(const i in e)(!Or(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function kc(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:l,patchFlag:a}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return i?Eo(i,o,u):!!o;if(a&8){const h=t.dynamicProps;for(let c=0;c<h.length;c++){const f=h[c];if(o[f]!==i[f]&&!_s(u,f))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?Eo(i,o,u):!0:!!o;return!1}function Eo(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!_s(n,r))return!0}return!1}function Kr({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Ec=e=>e.__isSuspense,Cc={name:"Suspense",__isSuspense:!0,process(e,t,n,i,s,r,o,l,a,u){e==null?Ic(t,n,i,s,r,o,l,a,u):Nc(e,t,n,i,s,o,l,a,u)},hydrate:Mc,create:Gr,normalize:Sc},Ac=Cc;function oi(e,t){const n=e.props&&e.props[t];ot(n)&&n()}function Ic(e,t,n,i,s,r,o,l,a){const{p:u,o:{createElement:h}}=a,c=h("div"),f=e.suspense=Gr(e,s,i,t,c,n,r,o,l,a);u(null,f.pendingBranch=e.ssContent,c,null,i,f,r,o),f.deps>0?(oi(e,"onPending"),oi(e,"onFallback"),u(null,e.ssFallback,t,n,i,null,r,o),yn(f,e.ssFallback)):f.resolve()}function Nc(e,t,n,i,s,r,o,l,{p:a,um:u,o:{createElement:h}}){const c=t.suspense=e.suspense;c.vnode=t,t.el=e.el;const f=t.ssContent,d=t.ssFallback,{activeBranch:g,pendingBranch:p,isInFallback:_,isHydrating:b}=c;if(p)c.pendingBranch=f,xe(f,p)?(a(p,f,c.hiddenContainer,null,s,c,r,o,l),c.deps<=0?c.resolve():_&&(a(g,d,n,i,s,null,r,o,l),yn(c,d))):(c.pendingId++,b?(c.isHydrating=!1,c.activeBranch=p):u(p,s,c),c.deps=0,c.effects.length=0,c.hiddenContainer=h("div"),_?(a(null,f,c.hiddenContainer,null,s,c,r,o,l),c.deps<=0?c.resolve():(a(g,d,n,i,s,null,r,o,l),yn(c,d))):g&&xe(f,g)?(a(g,f,n,i,s,c,r,o,l),c.resolve(!0)):(a(null,f,c.hiddenContainer,null,s,c,r,o,l),c.deps<=0&&c.resolve()));else if(g&&xe(f,g))a(g,f,n,i,s,c,r,o,l),yn(c,f);else if(oi(t,"onPending"),c.pendingBranch=f,c.pendingId++,a(null,f,c.hiddenContainer,null,s,c,r,o,l),c.deps<=0)c.resolve();else{const{timeout:k,pendingId:y}=c;k>0?setTimeout(()=>{c.pendingId===y&&c.fallback(d)},k):k===0&&c.fallback(d)}}function Gr(e,t,n,i,s,r,o,l,a,u,h=!1){const{p:c,m:f,um:d,n:g,o:{parentNode:p,remove:_}}=u,b=Cn(e.props&&e.props.timeout),k={vnode:e,parent:t,parentComponent:n,isSVG:o,container:i,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(y=!1){const{vnode:x,activeBranch:A,pendingBranch:S,pendingId:N,effects:E,parentComponent:T,container:C}=k;if(k.isHydrating)k.isHydrating=!1;else if(!y){const I=A&&S.transition&&S.transition.mode==="out-in";I&&(A.transition.afterLeave=()=>{N===k.pendingId&&f(S,C,B,0)});let{anchor:B}=k;A&&(B=g(A),d(A,T,k,!0)),I||f(S,C,B,0)}yn(k,S),k.pendingBranch=null,k.isInFallback=!1;let D=k.parent,m=!1;for(;D;){if(D.pendingBranch){D.effects.push(...E),m=!0;break}D=D.parent}m||ea(E),k.effects=[],oi(x,"onResolve")},fallback(y){if(!k.pendingBranch)return;const{vnode:x,activeBranch:A,parentComponent:S,container:N,isSVG:E}=k;oi(x,"onFallback");const T=g(A),C=()=>{k.isInFallback&&(c(null,y,N,T,S,null,E,l,a),yn(k,y))},D=y.transition&&y.transition.mode==="out-in";D&&(A.transition.afterLeave=C),k.isInFallback=!0,d(A,S,null,!0),D||C()},move(y,x,A){k.activeBranch&&f(k.activeBranch,y,x,A),k.container=y},next(){return k.activeBranch&&g(k.activeBranch)},registerDep(y,x){const A=!!k.pendingBranch;A&&k.deps++;const S=y.vnode.el;y.asyncDep.catch(N=>{vi(N,y,0)}).then(N=>{if(y.isUnmounted||k.isUnmounted||k.pendingId!==y.suspenseId)return;y.asyncResolved=!0;const{vnode:E}=y;pr(y,N,!1),S&&(E.el=S);const T=!S&&y.subTree.el;x(y,E,p(S||y.subTree.el),S?null:g(y.subTree),k,o,a),T&&_(T),Kr(y,E.el),A&&--k.deps===0&&k.resolve()})},unmount(y,x){k.isUnmounted=!0,k.activeBranch&&d(k.activeBranch,n,y,x),k.pendingBranch&&d(k.pendingBranch,n,y,x)}};return k}function Mc(e,t,n,i,s,r,o,l,a){const u=t.suspense=Gr(t,i,n,e.parentNode,document.createElement("div"),null,s,r,o,l,!0),h=a(e,u.pendingBranch=t.ssContent,n,u,r,o);return u.deps===0&&u.resolve(),h}function Sc(e){const{shapeFlag:t,children:n}=e,i=t&32;e.ssContent=Co(i?n.default:n),e.ssFallback=i?Co(n.fallback):de(jt)}function Co(e){let t;if(ot(e)){const n=In&&e._c;n&&(e._d=!1,mt()),e=e(),n&&(e._d=!0,t=oe,wa())}return nt(e)&&(e=bc(e)),e=ue(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Tc(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):ea(e)}function yn(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e,s=n.el=t.el;i&&i.subTree===n&&(i.vnode.el=s,Kr(i,s))}function Pc(e,t){if(Dt){let n=Dt.provides;const i=Dt.parent&&Dt.parent.provides;i===n&&(n=Dt.provides=Object.create(i)),n[e]=t}}function Ui(e,t,n=!1){const i=Dt||re;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ot(t)?t.call(i.proxy):t}}function qt(e,t){return Wr(e,null,t)}const Mi={};function Rs(e,t,n){return Wr(e,t,n)}function Wr(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=_t){const l=Dt;let a,u=!1,h=!1;if(Ht(e)?(a=()=>e.value,u=Qi(e)):vn(e)?(a=()=>e,i=!0):nt(e)?(h=!0,u=e.some(y=>vn(y)||Qi(y)),a=()=>e.map(y=>{if(Ht(y))return y.value;if(vn(y))return nn(y);if(ot(y))return Xe(y,l,2)})):ot(e)?t?a=()=>Xe(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return c&&c(),le(e,l,3,[f])}:a=fe,t&&i){const y=a;a=()=>nn(y())}let c,f=y=>{c=b.onStop=()=>{Xe(y,l,4)}},d;if(li)if(f=fe,t?n&&le(t,l,3,[a(),h?[]:void 0,f]):a(),s==="sync"){const y=Eh();d=y.__watcherHandles||(y.__watcherHandles=[])}else return fe;let g=h?new Array(e.length).fill(Mi):Mi;const p=()=>{if(b.active)if(t){const y=b.run();(i||u||(h?y.some((x,A)=>ni(x,g[A])):ni(y,g)))&&(c&&c(),le(t,l,3,[y,g===Mi?void 0:h&&g[0]===Mi?[]:g,f]),g=y)}else b.run()};p.allowRecurse=!!t;let _;s==="sync"?_=p:s==="post"?_=()=>Kt(p,l&&l.suspense):(p.pre=!0,l&&(p.id=l.uid),_=()=>Yr(p));const b=new Br(a,_);t?n?p():g=b.run():s==="post"?Kt(b.run.bind(b),l&&l.suspense):b.run();const k=()=>{b.stop(),l&&l.scope&&Dr(l.scope.effects,b)};return d&&d.push(k),k}function Lc(e,t,n){const i=this.proxy,s=Mt(e)?e.includes(".")?oa(i,e):()=>i[e]:e.bind(i,i);let r;ot(t)?r=t:(r=t.handler,n=t);const o=Dt;Nn(this);const l=Wr(s,r.bind(i),n);return o?Nn(o):ln(),l}function oa(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function nn(e,t){if(!yt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ht(e))nn(e.value,t);else if(nt(e))for(let n=0;n<e.length;n++)nn(e[n],t);else if(Ln(e)||mn(e))e.forEach(n=>{nn(n,t)});else if(Ol(e))for(const n in e)nn(e[n],t);return e}function Oc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ha(()=>{e.isMounted=!0}),fa(()=>{e.isUnmounting=!0}),e}const ne=[Function,Array],Dc={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ne,onEnter:ne,onAfterEnter:ne,onEnterCancelled:ne,onBeforeLeave:ne,onLeave:ne,onAfterLeave:ne,onLeaveCancelled:ne,onBeforeAppear:ne,onAppear:ne,onAfterAppear:ne,onAppearCancelled:ne},setup(e,{slots:t}){const n=vh(),i=Oc();let s;return()=>{const r=t.default&&aa(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const p of r)if(p.type!==jt){o=p;break}}const l=gt(e),{mode:a}=l;if(i.isLeaving)return Fs(o);const u=Ao(o);if(!u)return Fs(o);const h=lr(u,l,i,n);ar(u,h);const c=n.subTree,f=c&&Ao(c);let d=!1;const{getTransitionKey:g}=u.type;if(g){const p=g();s===void 0?s=p:p!==s&&(s=p,d=!0)}if(f&&f.type!==jt&&(!xe(u,f)||d)){const p=lr(f,l,i,n);if(ar(f,p),a==="out-in")return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Fs(o);a==="in-out"&&u.type!==jt&&(p.delayLeave=(_,b,k)=>{const y=la(i,f);y[String(f.key)]=f,_._leaveCb=()=>{b(),_._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=k})}return o}}},Rc=Dc;function la(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function lr(e,t,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:c,onLeave:f,onAfterLeave:d,onLeaveCancelled:g,onBeforeAppear:p,onAppear:_,onAfterAppear:b,onAppearCancelled:k}=t,y=String(e.key),x=la(n,e),A=(E,T)=>{E&&le(E,i,9,T)},S=(E,T)=>{const C=T[1];A(E,T),nt(E)?E.every(D=>D.length<=1)&&C():E.length<=1&&C()},N={mode:r,persisted:o,beforeEnter(E){let T=l;if(!n.isMounted)if(s)T=p||l;else return;E._leaveCb&&E._leaveCb(!0);const C=x[y];C&&xe(e,C)&&C.el._leaveCb&&C.el._leaveCb(),A(T,[E])},enter(E){let T=a,C=u,D=h;if(!n.isMounted)if(s)T=_||a,C=b||u,D=k||h;else return;let m=!1;const I=E._enterCb=B=>{m||(m=!0,B?A(D,[E]):A(C,[E]),N.delayedLeave&&N.delayedLeave(),E._enterCb=void 0)};T?S(T,[E,I]):I()},leave(E,T){const C=String(e.key);if(E._enterCb&&E._enterCb(!0),n.isUnmounting)return T();A(c,[E]);let D=!1;const m=E._leaveCb=I=>{D||(D=!0,T(),I?A(g,[E]):A(d,[E]),E._leaveCb=void 0,x[C]===e&&delete x[C])};x[C]=e,f?S(f,[E,m]):m()},clone(E){return lr(E,t,n,i)}};return N}function Fs(e){if(ys(e))return e=Ye(e),e.children=null,e}function Ao(e){return ys(e)?e.children?e.children[0]:void 0:e}function ar(e,t){e.shapeFlag&6&&e.component?ar(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function aa(e,t=!1,n){let i=[],s=0;for(let r=0;r<e.length;r++){let o=e[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ot?(o.patchFlag&128&&s++,i=i.concat(aa(o.children,t,l))):(t||o.type!==jt)&&i.push(l!=null?Ye(o,{key:l}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function ua(e){return ot(e)?{setup:e,name:e.name}:e}const Vi=e=>!!e.type.__asyncLoader,ys=e=>e.type.__isKeepAlive;function Fc(e,t){ca(e,"a",t)}function Bc(e,t){ca(e,"da",t)}function ca(e,t,n=Dt){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(bs(t,i,n),n){let s=n.parent;for(;s&&s.parent;)ys(s.parent.vnode)&&$c(i,t,n,s),s=s.parent}}function $c(e,t,n,i){const s=bs(t,e,i,!0);da(()=>{Dr(i[t],s)},n)}function bs(e,t,n=Dt,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Dn(),Nn(n);const l=le(t,n,e,o);return ln(),Rn(),l});return i?s.unshift(r):s.push(r),r}}const Te=e=>(t,n=Dt)=>(!li||e==="sp")&&bs(e,(...i)=>t(...i),n),Hc=Te("bm"),ha=Te("m"),zc=Te("bu"),Uc=Te("u"),fa=Te("bum"),da=Te("um"),Vc=Te("sp"),Xc=Te("rtg"),qc=Te("rtc");function Yc(e,t=Dt){bs("ec",e,t)}function ae(e,t){const n=re;if(n===null)return e;const i=ks(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,l,a,u=_t]=t[r];o&&(ot(o)&&(o={mounted:o,updated:o}),o.deep&&nn(l),s.push({dir:o,instance:i,value:l,oldValue:void 0,arg:a,modifiers:u}))}return e}function Ke(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];r&&(l.oldValue=r[o].value);let a=l.dir[i];a&&(Dn(),le(a,n,8,[e.el,l,e,t]),Rn())}}const Kc=Symbol();function Ge(e,t,n,i){let s;const r=n&&n[i];if(nt(e)||Mt(e)){s=new Array(e.length);for(let o=0,l=e.length;o<l;o++)s[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(yt(e))if(e[Symbol.iterator])s=Array.from(e,(o,l)=>t(o,l,void 0,r&&r[l]));else{const o=Object.keys(e);s=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const u=o[l];s[l]=t(e[u],u,l,r&&r[l])}}else s=[];return n&&(n[i]=s),s}const ur=e=>e?Ia(e)?ks(e)||e.proxy:ur(e.parent):null,Qn=zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ur(e.parent),$root:e=>ur(e.root),$emit:e=>e.emit,$options:e=>Jr(e),$forceUpdate:e=>e.f||(e.f=()=>Yr(e.update)),$nextTick:e=>e.n||(e.n=gc.bind(e.proxy)),$watch:e=>Lc.bind(e)}),Bs=(e,t)=>e!==_t&&!e.__isScriptSetup&&dt(e,t),Gc={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:l,appContext:a}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(Bs(i,t))return o[t]=1,i[t];if(s!==_t&&dt(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&dt(u,t))return o[t]=3,r[t];if(n!==_t&&dt(n,t))return o[t]=4,n[t];cr&&(o[t]=0)}}const h=Qn[t];let c,f;if(h)return t==="$attrs"&&te(e,"get",t),h(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==_t&&dt(n,t))return o[t]=4,n[t];if(f=a.config.globalProperties,dt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return Bs(s,t)?(s[t]=n,!0):i!==_t&&dt(i,t)?(i[t]=n,!0):dt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let l;return!!n[o]||e!==_t&&dt(e,o)||Bs(t,o)||(l=r[0])&&dt(l,o)||dt(i,o)||dt(Qn,o)||dt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:dt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let cr=!0;function Wc(e){const t=Jr(e),n=e.proxy,i=e.ctx;cr=!1,t.beforeCreate&&Io(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:l,provide:a,inject:u,created:h,beforeMount:c,mounted:f,beforeUpdate:d,updated:g,activated:p,deactivated:_,beforeDestroy:b,beforeUnmount:k,destroyed:y,unmounted:x,render:A,renderTracked:S,renderTriggered:N,errorCaptured:E,serverPrefetch:T,expose:C,inheritAttrs:D,components:m,directives:I,filters:B}=t;if(u&&Jc(u,i,null,e.appContext.config.unwrapInjectedRef),o)for(const $ in o){const F=o[$];ot(F)&&(i[$]=F.bind(n))}if(s){const $=s.call(n,n);yt($)&&(e.data=Ur($))}if(cr=!0,r)for(const $ in r){const F=r[$],lt=ot(F)?F.bind(n,n):ot(F.get)?F.get.bind(n,n):fe,st=!ot(F)&&ot(F.set)?F.set.bind(n):fe,ct=qi({get:lt,set:st});Object.defineProperty(i,$,{enumerable:!0,configurable:!0,get:()=>ct.value,set:pt=>ct.value=pt})}if(l)for(const $ in l)pa(l[$],i,n,$);if(a){const $=ot(a)?a.call(n):a;Reflect.ownKeys($).forEach(F=>{Pc(F,$[F])})}h&&Io(h,e,"c");function V($,F){nt(F)?F.forEach(lt=>$(lt.bind(n))):F&&$(F.bind(n))}if(V(Hc,c),V(ha,f),V(zc,d),V(Uc,g),V(Fc,p),V(Bc,_),V(Yc,E),V(qc,S),V(Xc,N),V(fa,k),V(da,x),V(Vc,T),nt(C))if(C.length){const $=e.exposed||(e.exposed={});C.forEach(F=>{Object.defineProperty($,F,{get:()=>n[F],set:lt=>n[F]=lt})})}else e.exposed||(e.exposed={});A&&e.render===fe&&(e.render=A),D!=null&&(e.inheritAttrs=D),m&&(e.components=m),I&&(e.directives=I)}function Jc(e,t,n=fe,i=!1){nt(e)&&(e=hr(e));for(const s in e){const r=e[s];let o;yt(r)?"default"in r?o=Ui(r.from||s,r.default,!0):o=Ui(r.from||s):o=Ui(r),Ht(o)&&i?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[s]=o}}function Io(e,t,n){le(nt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function pa(e,t,n,i){const s=i.includes(".")?oa(n,i):()=>n[i];if(Mt(e)){const r=t[e];ot(r)&&Rs(s,r)}else if(ot(e))Rs(s,e.bind(n));else if(yt(e))if(nt(e))e.forEach(r=>pa(r,t,n,i));else{const r=ot(e.handler)?e.handler.bind(n):t[e.handler];ot(r)&&Rs(s,r,e)}}function Jr(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,l=r.get(t);let a;return l?a=l:!s.length&&!n&&!i?a=t:(a={},s.length&&s.forEach(u=>ts(a,u,o,!0)),ts(a,t,o)),yt(t)&&r.set(t,a),a}function ts(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&ts(e,r,n,!0),s&&s.forEach(o=>ts(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const l=Zc[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Zc={data:No,props:je,emits:je,methods:je,computed:je,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:je,directives:je,watch:jc,provide:No,inject:Qc};function No(e,t){return t?e?function(){return zt(ot(e)?e.call(this,this):e,ot(t)?t.call(this,this):t)}:t:e}function Qc(e,t){return je(hr(e),hr(t))}function hr(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xt(e,t){return e?[...new Set([].concat(e,t))]:t}function je(e,t){return e?zt(zt(Object.create(null),e),t):t}function jc(e,t){if(!e)return t;if(!t)return e;const n=zt(Object.create(null),e);for(const i in t)n[i]=Xt(e[i],t[i]);return n}function th(e,t,n,i=!1){const s={},r={};Zi(r,ws,1),e.propsDefaults=Object.create(null),ga(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:ac(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function eh(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,l=gt(s),[a]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let c=0;c<h.length;c++){let f=h[c];if(_s(e.emitsOptions,f))continue;const d=t[f];if(a)if(dt(r,f))d!==r[f]&&(r[f]=d,u=!0);else{const g=En(f);s[g]=fr(a,l,g,d,e,!1)}else d!==r[f]&&(r[f]=d,u=!0)}}}else{ga(e,t,s,r)&&(u=!0);let h;for(const c in l)(!t||!dt(t,c)&&((h=On(c))===c||!dt(t,h)))&&(a?n&&(n[c]!==void 0||n[h]!==void 0)&&(s[c]=fr(a,l,c,void 0,e,!0)):delete s[c]);if(r!==l)for(const c in r)(!t||!dt(t,c))&&(delete r[c],u=!0)}u&&Me(e,"set","$attrs")}function ga(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(Hi(a))continue;const u=t[a];let h;s&&dt(s,h=En(a))?!r||!r.includes(h)?n[h]=u:(l||(l={}))[h]=u:_s(e.emitsOptions,a)||(!(a in i)||u!==i[a])&&(i[a]=u,o=!0)}if(r){const a=gt(n),u=l||_t;for(let h=0;h<r.length;h++){const c=r[h];n[c]=fr(s,a,c,u[c],e,!dt(u,c))}}return o}function fr(e,t,n,i,s,r){const o=e[n];if(o!=null){const l=dt(o,"default");if(l&&i===void 0){const a=o.default;if(o.type!==Function&&ot(a)){const{propsDefaults:u}=s;n in u?i=u[n]:(Nn(s),i=u[n]=a.call(null,t),ln())}else i=a}o[0]&&(r&&!l?i=!1:o[1]&&(i===""||i===On(n))&&(i=!0))}return i}function ma(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},l=[];let a=!1;if(!ot(e)){const h=c=>{a=!0;const[f,d]=ma(c,t,!0);zt(o,f),d&&l.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!a)return yt(e)&&i.set(e,gn),gn;if(nt(r))for(let h=0;h<r.length;h++){const c=En(r[h]);Mo(c)&&(o[c]=_t)}else if(r)for(const h in r){const c=En(h);if(Mo(c)){const f=r[h],d=o[c]=nt(f)||ot(f)?{type:f}:Object.assign({},f);if(d){const g=Po(Boolean,d.type),p=Po(String,d.type);d[0]=g>-1,d[1]=p<0||g<p,(g>-1||dt(d,"default"))&&l.push(c)}}}const u=[o,l];return yt(e)&&i.set(e,u),u}function Mo(e){return e[0]!=="$"}function So(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function To(e,t){return So(e)===So(t)}function Po(e,t){return nt(t)?t.findIndex(n=>To(n,e)):ot(t)&&To(t,e)?0:-1}const va=e=>e[0]==="_"||e==="$stable",Zr=e=>nt(e)?e.map(ue):[ue(e)],nh=(e,t,n)=>{if(t._n)return t;const i=or((...s)=>Zr(t(...s)),n);return i._c=!1,i},_a=(e,t,n)=>{const i=e._ctx;for(const s in e){if(va(s))continue;const r=e[s];if(ot(r))t[s]=nh(s,r,i);else if(r!=null){const o=Zr(r);t[s]=()=>o}}},ya=(e,t)=>{const n=Zr(t);e.slots.default=()=>n},ih=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=gt(t),Zi(t,"_",n)):_a(t,e.slots={})}else e.slots={},t&&ya(e,t);Zi(e.slots,ws,1)},sh=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=_t;if(i.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:(zt(s,t),!n&&l===1&&delete s._):(r=!t.$stable,_a(t,s)),o=t}else t&&(ya(e,t),o={default:1});if(r)for(const l in s)!va(l)&&!(l in o)&&delete s[l]};function ba(){return{app:null,config:{isNativeTag:Nu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rh=0;function oh(e,t){return function(i,s=null){ot(i)||(i=Object.assign({},i)),s!=null&&!yt(s)&&(s=null);const r=ba(),o=new Set;let l=!1;const a=r.app={_uid:rh++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:Ch,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&ot(u.install)?(o.add(u),u.install(a,...h)):ot(u)&&(o.add(u),u(a,...h))),a},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),a},component(u,h){return h?(r.components[u]=h,a):r.components[u]},directive(u,h){return h?(r.directives[u]=h,a):r.directives[u]},mount(u,h,c){if(!l){const f=de(i,s);return f.appContext=r,h&&t?t(f,u):e(f,u,c),l=!0,a._container=u,u.__vue_app__=a,ks(f.component)||f.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(u,h){return r.provides[u]=h,a}};return a}}function dr(e,t,n,i,s=!1){if(nt(e)){e.forEach((f,d)=>dr(f,t&&(nt(t)?t[d]:t),n,i,s));return}if(Vi(i)&&!s)return;const r=i.shapeFlag&4?ks(i.component)||i.component.proxy:i.el,o=s?null:r,{i:l,r:a}=e,u=t&&t.r,h=l.refs===_t?l.refs={}:l.refs,c=l.setupState;if(u!=null&&u!==a&&(Mt(u)?(h[u]=null,dt(c,u)&&(c[u]=null)):Ht(u)&&(u.value=null)),ot(a))Xe(a,l,12,[o,h]);else{const f=Mt(a),d=Ht(a);if(f||d){const g=()=>{if(e.f){const p=f?dt(c,a)?c[a]:h[a]:a.value;s?nt(p)&&Dr(p,r):nt(p)?p.includes(r)||p.push(r):f?(h[a]=[r],dt(c,a)&&(c[a]=h[a])):(a.value=[r],e.k&&(h[e.k]=a.value))}else f?(h[a]=o,dt(c,a)&&(c[a]=o)):d&&(a.value=o,e.k&&(h[e.k]=o))};o?(g.id=-1,Kt(g,n)):g()}}}const Kt=Tc;function lh(e){return ah(e)}function ah(e,t){const n=Ou();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:l,createComment:a,setText:u,setElementText:h,parentNode:c,nextSibling:f,setScopeId:d=fe,insertStaticContent:g}=e,p=(v,w,M,L=null,R=null,Y=null,G=!1,q=null,K=!!w.dynamicChildren)=>{if(v===w)return;v&&!xe(v,w)&&(L=Le(v),pt(v,R,Y,!0),v=null),w.patchFlag===-2&&(K=!1,w.dynamicChildren=null);const{type:H,ref:Q,shapeFlag:J}=w;switch(H){case xs:_(v,w,M,L);break;case jt:b(v,w,M,L);break;case $s:v==null&&k(w,M,L,G);break;case Ot:m(v,w,M,L,R,Y,G,q,K);break;default:J&1?A(v,w,M,L,R,Y,G,q,K):J&6?I(v,w,M,L,R,Y,G,q,K):(J&64||J&128)&&H.process(v,w,M,L,R,Y,G,q,K,Pt)}Q!=null&&R&&dr(Q,v&&v.ref,Y,w||v,!w)},_=(v,w,M,L)=>{if(v==null)i(w.el=l(w.children),M,L);else{const R=w.el=v.el;w.children!==v.children&&u(R,w.children)}},b=(v,w,M,L)=>{v==null?i(w.el=a(w.children||""),M,L):w.el=v.el},k=(v,w,M,L)=>{[v.el,v.anchor]=g(v.children,w,M,L,v.el,v.anchor)},y=({el:v,anchor:w},M,L)=>{let R;for(;v&&v!==w;)R=f(v),i(v,M,L),v=R;i(w,M,L)},x=({el:v,anchor:w})=>{let M;for(;v&&v!==w;)M=f(v),s(v),v=M;s(w)},A=(v,w,M,L,R,Y,G,q,K)=>{G=G||w.type==="svg",v==null?S(w,M,L,R,Y,G,q,K):T(v,w,R,Y,G,q,K)},S=(v,w,M,L,R,Y,G,q)=>{let K,H;const{type:Q,props:J,shapeFlag:j,transition:rt,dirs:at}=v;if(K=v.el=o(v.type,Y,J&&J.is,J),j&8?h(K,v.children):j&16&&E(v.children,K,null,L,R,Y&&Q!=="foreignObject",G,q),at&&Ke(v,null,L,"created"),J){for(const P in J)P!=="value"&&!Hi(P)&&r(K,P,null,J[P],Y,v.children,L,R,Tt);"value"in J&&r(K,"value",null,J.value),(H=J.onVnodeBeforeMount)&&ve(H,L,v)}N(K,v,v.scopeId,G,L),at&&Ke(v,null,L,"beforeMount");const U=(!R||R&&!R.pendingBranch)&&rt&&!rt.persisted;U&&rt.beforeEnter(K),i(K,w,M),((H=J&&J.onVnodeMounted)||U||at)&&Kt(()=>{H&&ve(H,L,v),U&&rt.enter(K),at&&Ke(v,null,L,"mounted")},R)},N=(v,w,M,L,R)=>{if(M&&d(v,M),L)for(let Y=0;Y<L.length;Y++)d(v,L[Y]);if(R){let Y=R.subTree;if(w===Y){const G=R.vnode;N(v,G,G.scopeId,G.slotScopeIds,R.parent)}}},E=(v,w,M,L,R,Y,G,q,K=0)=>{for(let H=K;H<v.length;H++){const Q=v[H]=q?Re(v[H]):ue(v[H]);p(null,Q,w,M,L,R,Y,G,q)}},T=(v,w,M,L,R,Y,G)=>{const q=w.el=v.el;let{patchFlag:K,dynamicChildren:H,dirs:Q}=w;K|=v.patchFlag&16;const J=v.props||_t,j=w.props||_t;let rt;M&&We(M,!1),(rt=j.onVnodeBeforeUpdate)&&ve(rt,M,w,v),Q&&Ke(w,v,M,"beforeUpdate"),M&&We(M,!0);const at=R&&w.type!=="foreignObject";if(H?C(v.dynamicChildren,H,q,M,L,at,Y):G||F(v,w,q,null,M,L,at,Y,!1),K>0){if(K&16)D(q,w,J,j,M,L,R);else if(K&2&&J.class!==j.class&&r(q,"class",null,j.class,R),K&4&&r(q,"style",J.style,j.style,R),K&8){const U=w.dynamicProps;for(let P=0;P<U.length;P++){const Z=U[P],et=J[Z],ut=j[Z];(ut!==et||Z==="value")&&r(q,Z,et,ut,R,v.children,M,L,Tt)}}K&1&&v.children!==w.children&&h(q,w.children)}else!G&&H==null&&D(q,w,J,j,M,L,R);((rt=j.onVnodeUpdated)||Q)&&Kt(()=>{rt&&ve(rt,M,w,v),Q&&Ke(w,v,M,"updated")},L)},C=(v,w,M,L,R,Y,G)=>{for(let q=0;q<w.length;q++){const K=v[q],H=w[q],Q=K.el&&(K.type===Ot||!xe(K,H)||K.shapeFlag&70)?c(K.el):M;p(K,H,Q,null,L,R,Y,G,!0)}},D=(v,w,M,L,R,Y,G)=>{if(M!==L){if(M!==_t)for(const q in M)!Hi(q)&&!(q in L)&&r(v,q,M[q],null,G,w.children,R,Y,Tt);for(const q in L){if(Hi(q))continue;const K=L[q],H=M[q];K!==H&&q!=="value"&&r(v,q,H,K,G,w.children,R,Y,Tt)}"value"in L&&r(v,"value",M.value,L.value)}},m=(v,w,M,L,R,Y,G,q,K)=>{const H=w.el=v?v.el:l(""),Q=w.anchor=v?v.anchor:l("");let{patchFlag:J,dynamicChildren:j,slotScopeIds:rt}=w;rt&&(q=q?q.concat(rt):rt),v==null?(i(H,M,L),i(Q,M,L),E(w.children,M,Q,R,Y,G,q,K)):J>0&&J&64&&j&&v.dynamicChildren?(C(v.dynamicChildren,j,M,R,Y,G,q),(w.key!=null||R&&w===R.subTree)&&xa(v,w,!0)):F(v,w,M,Q,R,Y,G,q,K)},I=(v,w,M,L,R,Y,G,q,K)=>{w.slotScopeIds=q,v==null?w.shapeFlag&512?R.ctx.activate(w,M,L,G,K):B(w,M,L,R,Y,G,K):z(v,w,K)},B=(v,w,M,L,R,Y,G)=>{const q=v.component=mh(v,L,R);if(ys(v)&&(q.ctx.renderer=Pt),_h(q),q.asyncDep){if(R&&R.registerDep(q,V),!v.el){const K=q.subTree=de(jt);b(null,K,w,M)}return}V(q,v,w,M,R,Y,G)},z=(v,w,M)=>{const L=w.component=v.component;if(kc(v,w,M))if(L.asyncDep&&!L.asyncResolved){$(L,w,M);return}else L.next=w,vc(L.update),L.update();else w.el=v.el,L.vnode=w},V=(v,w,M,L,R,Y,G)=>{const q=()=>{if(v.isMounted){let{next:Q,bu:J,u:j,parent:rt,vnode:at}=v,U=Q,P;We(v,!1),Q?(Q.el=at.el,$(v,Q,G)):Q=at,J&&zi(J),(P=Q.props&&Q.props.onVnodeBeforeUpdate)&&ve(P,rt,Q,at),We(v,!0);const Z=Ds(v),et=v.subTree;v.subTree=Z,p(et,Z,c(et.el),Le(et),v,R,Y),Q.el=Z.el,U===null&&Kr(v,Z.el),j&&Kt(j,R),(P=Q.props&&Q.props.onVnodeUpdated)&&Kt(()=>ve(P,rt,Q,at),R)}else{let Q;const{el:J,props:j}=w,{bm:rt,m:at,parent:U}=v,P=Vi(w);if(We(v,!1),rt&&zi(rt),!P&&(Q=j&&j.onVnodeBeforeMount)&&ve(Q,U,w),We(v,!0),J&&me){const Z=()=>{v.subTree=Ds(v),me(J,v.subTree,v,R,null)};P?w.type.__asyncLoader().then(()=>!v.isUnmounted&&Z()):Z()}else{const Z=v.subTree=Ds(v);p(null,Z,M,L,v,R,Y),w.el=Z.el}if(at&&Kt(at,R),!P&&(Q=j&&j.onVnodeMounted)){const Z=w;Kt(()=>ve(Q,U,Z),R)}(w.shapeFlag&256||U&&Vi(U.vnode)&&U.vnode.shapeFlag&256)&&v.a&&Kt(v.a,R),v.isMounted=!0,w=M=L=null}},K=v.effect=new Br(q,()=>Yr(H),v.scope),H=v.update=()=>K.run();H.id=v.uid,We(v,!0),H()},$=(v,w,M)=>{w.component=v;const L=v.vnode.props;v.vnode=w,v.next=null,eh(v,w.props,L,M),sh(v,w.children,M),Dn(),ko(),Rn()},F=(v,w,M,L,R,Y,G,q,K=!1)=>{const H=v&&v.children,Q=v?v.shapeFlag:0,J=w.children,{patchFlag:j,shapeFlag:rt}=w;if(j>0){if(j&128){st(H,J,M,L,R,Y,G,q,K);return}else if(j&256){lt(H,J,M,L,R,Y,G,q,K);return}}rt&8?(Q&16&&Tt(H,R,Y),J!==H&&h(M,J)):Q&16?rt&16?st(H,J,M,L,R,Y,G,q,K):Tt(H,R,Y,!0):(Q&8&&h(M,""),rt&16&&E(J,M,L,R,Y,G,q,K))},lt=(v,w,M,L,R,Y,G,q,K)=>{v=v||gn,w=w||gn;const H=v.length,Q=w.length,J=Math.min(H,Q);let j;for(j=0;j<J;j++){const rt=w[j]=K?Re(w[j]):ue(w[j]);p(v[j],rt,M,null,R,Y,G,q,K)}H>Q?Tt(v,R,Y,!0,!1,J):E(w,M,L,R,Y,G,q,K,J)},st=(v,w,M,L,R,Y,G,q,K)=>{let H=0;const Q=w.length;let J=v.length-1,j=Q-1;for(;H<=J&&H<=j;){const rt=v[H],at=w[H]=K?Re(w[H]):ue(w[H]);if(xe(rt,at))p(rt,at,M,null,R,Y,G,q,K);else break;H++}for(;H<=J&&H<=j;){const rt=v[J],at=w[j]=K?Re(w[j]):ue(w[j]);if(xe(rt,at))p(rt,at,M,null,R,Y,G,q,K);else break;J--,j--}if(H>J){if(H<=j){const rt=j+1,at=rt<Q?w[rt].el:L;for(;H<=j;)p(null,w[H]=K?Re(w[H]):ue(w[H]),M,at,R,Y,G,q,K),H++}}else if(H>j)for(;H<=J;)pt(v[H],R,Y,!0),H++;else{const rt=H,at=H,U=new Map;for(H=at;H<=j;H++){const tt=w[H]=K?Re(w[H]):ue(w[H]);tt.key!=null&&U.set(tt.key,H)}let P,Z=0;const et=j-at+1;let ut=!1,ht=0;const X=new Array(et);for(H=0;H<et;H++)X[H]=0;for(H=rt;H<=J;H++){const tt=v[H];if(Z>=et){pt(tt,R,Y,!0);continue}let vt;if(tt.key!=null)vt=U.get(tt.key);else for(P=at;P<=j;P++)if(X[P-at]===0&&xe(tt,w[P])){vt=P;break}vt===void 0?pt(tt,R,Y,!0):(X[vt-at]=H+1,vt>=ht?ht=vt:ut=!0,p(tt,w[vt],M,null,R,Y,G,q,K),Z++)}const bt=ut?uh(X):gn;for(P=bt.length-1,H=et-1;H>=0;H--){const tt=at+H,vt=w[tt],W=tt+1<Q?w[tt+1].el:L;X[H]===0?p(null,vt,M,W,R,Y,G,q,K):ut&&(P<0||H!==bt[P]?ct(vt,M,W,2):P--)}}},ct=(v,w,M,L,R=null)=>{const{el:Y,type:G,transition:q,children:K,shapeFlag:H}=v;if(H&6){ct(v.component.subTree,w,M,L);return}if(H&128){v.suspense.move(w,M,L);return}if(H&64){G.move(v,w,M,Pt);return}if(G===Ot){i(Y,w,M);for(let J=0;J<K.length;J++)ct(K[J],w,M,L);i(v.anchor,w,M);return}if(G===$s){y(v,w,M);return}if(L!==2&&H&1&&q)if(L===0)q.beforeEnter(Y),i(Y,w,M),Kt(()=>q.enter(Y),R);else{const{leave:J,delayLeave:j,afterLeave:rt}=q,at=()=>i(Y,w,M),U=()=>{J(Y,()=>{at(),rt&&rt()})};j?j(Y,at,U):U()}else i(Y,w,M)},pt=(v,w,M,L=!1,R=!1)=>{const{type:Y,props:G,ref:q,children:K,dynamicChildren:H,shapeFlag:Q,patchFlag:J,dirs:j}=v;if(q!=null&&dr(q,null,M,v,!0),Q&256){w.ctx.deactivate(v);return}const rt=Q&1&&j,at=!Vi(v);let U;if(at&&(U=G&&G.onVnodeBeforeUnmount)&&ve(U,w,v),Q&6)ge(v.component,M,L);else{if(Q&128){v.suspense.unmount(M,L);return}rt&&Ke(v,null,w,"beforeUnmount"),Q&64?v.type.remove(v,w,M,R,Pt,L):H&&(Y!==Ot||J>0&&J&64)?Tt(H,w,M,!1,!0):(Y===Ot&&J&384||!R&&Q&16)&&Tt(K,w,M),L&&St(v)}(at&&(U=G&&G.onVnodeUnmounted)||rt)&&Kt(()=>{U&&ve(U,w,v),rt&&Ke(v,null,w,"unmounted")},M)},St=v=>{const{type:w,el:M,anchor:L,transition:R}=v;if(w===Ot){Ut(M,L);return}if(w===$s){x(v);return}const Y=()=>{s(M),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(v.shapeFlag&1&&R&&!R.persisted){const{leave:G,delayLeave:q}=R,K=()=>G(M,Y);q?q(v.el,Y,K):K()}else Y()},Ut=(v,w)=>{let M;for(;v!==w;)M=f(v),s(v),v=M;s(w)},ge=(v,w,M)=>{const{bum:L,scope:R,update:Y,subTree:G,um:q}=v;L&&zi(L),R.stop(),Y&&(Y.active=!1,pt(G,v,w,M)),q&&Kt(q,w),Kt(()=>{v.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Tt=(v,w,M,L=!1,R=!1,Y=0)=>{for(let G=Y;G<v.length;G++)pt(v[G],w,M,L,R)},Le=v=>v.shapeFlag&6?Le(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),Ee=(v,w,M)=>{v==null?w._vnode&&pt(w._vnode,null,null,!0):p(w._vnode||null,v,w,null,null,null,M),ko(),na(),w._vnode=v},Pt={p,um:pt,m:ct,r:St,mt:B,mc:E,pc:F,pbc:C,n:Le,o:e};let Oe,me;return t&&([Oe,me]=t(Pt)),{render:Ee,hydrate:Oe,createApp:oh(Ee,Oe)}}function We({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function xa(e,t,n=!1){const i=e.children,s=t.children;if(nt(i)&&nt(s))for(let r=0;r<i.length;r++){const o=i[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=Re(s[r]),l.el=o.el),n||xa(o,l)),l.type===xs&&(l.el=o.el)}}function uh(e){const t=e.slice(),n=[0];let i,s,r,o,l;const a=e.length;for(i=0;i<a;i++){const u=e[i];if(u!==0){if(s=n[n.length-1],e[s]<u){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,e[n[l]]<u?r=l+1:o=l;u<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const ch=e=>e.__isTeleport,Ot=Symbol(void 0),xs=Symbol(void 0),jt=Symbol(void 0),$s=Symbol(void 0),jn=[];let oe=null;function mt(e=!1){jn.push(oe=e?null:[])}function wa(){jn.pop(),oe=jn[jn.length-1]||null}let In=1;function Lo(e){In+=e}function ka(e){return e.dynamicChildren=In>0?oe||gn:null,wa(),In>0&&oe&&oe.push(e),e}function kt(e,t,n,i,s,r){return ka(O(e,t,n,i,s,r,!0))}function Ea(e,t,n,i,s){return ka(de(e,t,n,i,s,!0))}function Ca(e){return e?e.__v_isVNode===!0:!1}function xe(e,t){return e.type===t.type&&e.key===t.key}const ws="__vInternal",Aa=({key:e})=>e??null,Xi=({ref:e,ref_key:t,ref_for:n})=>e!=null?Mt(e)||Ht(e)||ot(e)?{i:re,r:e,k:t,f:!!n}:e:null;function O(e,t=null,n=null,i=0,s=null,r=e===Ot?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Aa(t),ref:t&&Xi(t),scopeId:ra,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:re};return l?(Qr(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=Mt(n)?8:16),In>0&&!o&&oe&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&oe.push(a),a}const de=hh;function hh(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===Kc)&&(e=jt),Ca(e)){const l=Ye(e,t,!0);return n&&Qr(l,n),In>0&&!r&&oe&&(l.shapeFlag&6?oe[oe.indexOf(e)]=l:oe.push(l)),l.patchFlag|=-2,l}if(wh(e)&&(e=e.__vccOpts),t){t=fh(t);let{class:l,style:a}=t;l&&!Mt(l)&&(t.class=ps(l)),yt(a)&&(Kl(a)&&!nt(a)&&(a=zt({},a)),t.style=$e(a))}const o=Mt(e)?1:Ec(e)?128:ch(e)?64:yt(e)?4:ot(e)?2:0;return O(e,t,n,i,s,o,r,!0)}function fh(e){return e?Kl(e)||ws in e?zt({},e):e:null}function Ye(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,l=t?dh(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Aa(l),ref:t&&t.ref?n&&s?nt(s)?s.concat(Xi(t)):[s,Xi(t)]:Xi(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ot?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ye(e.ssContent),ssFallback:e.ssFallback&&Ye(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Ft(e=" ",t=0){return de(xs,null,e,t)}function Je(e="",t=!1){return t?(mt(),Ea(jt,null,e)):de(jt,null,e)}function ue(e){return e==null||typeof e=="boolean"?de(jt):nt(e)?de(Ot,null,e.slice()):typeof e=="object"?Re(e):de(xs,null,String(e))}function Re(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ye(e)}function Qr(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(nt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Qr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ws in t)?t._ctx=re:s===3&&re&&(re.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ot(t)?(t={default:t,_ctx:re},n=32):(t=String(t),i&64?(n=16,t=[Ft(t)]):n=8);e.children=t,e.shapeFlag|=n}function dh(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ps([t.class,i.class]));else if(s==="style")t.style=$e([t.style,i.style]);else if(gs(s)){const r=t[s],o=i[s];o&&r!==o&&!(nt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function ve(e,t,n,i=null){le(e,t,7,[n,i])}const ph=ba();let gh=0;function mh(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||ph,r={uid:gh++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Du(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ma(i,s),emitsOptions:sa(i,s),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:i.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=yc.bind(null,r),e.ce&&e.ce(r),r}let Dt=null;const vh=()=>Dt||re,Nn=e=>{Dt=e,e.scope.on()},ln=()=>{Dt&&Dt.scope.off(),Dt=null};function Ia(e){return e.vnode.shapeFlag&4}let li=!1;function _h(e,t=!1){li=t;const{props:n,children:i}=e.vnode,s=Ia(e);th(e,n,s,t),ih(e,i);const r=s?yh(e,t):void 0;return li=!1,r}function yh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Gl(new Proxy(e.ctx,Gc));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?xh(e):null;Nn(e),Dn();const r=Xe(i,e,0,[e.props,s]);if(Rn(),ln(),Pl(r)){if(r.then(ln,ln),t)return r.then(o=>{pr(e,o,t)}).catch(o=>{vi(o,e,0)});e.asyncDep=r}else pr(e,r,t)}else Na(e,t)}function pr(e,t,n){ot(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=Zl(t)),Na(e,n)}let Oo;function Na(e,t,n){const i=e.type;if(!e.render){if(!t&&Oo&&!i.render){const s=i.template||Jr(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:a}=i,u=zt(zt({isCustomElement:r,delimiters:l},o),a);i.render=Oo(s,u)}}e.render=i.render||fe}Nn(e),Dn(),Wc(e),Rn(),ln()}function bh(e){return new Proxy(e.attrs,{get(t,n){return te(e,"get","$attrs"),t[n]}})}function xh(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=bh(e))},slots:e.slots,emit:e.emit,expose:t}}function ks(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Zl(Gl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Qn)return Qn[n](e)},has(t,n){return n in t||n in Qn}}))}function wh(e){return ot(e)&&"__vccOpts"in e}const qi=(e,t)=>dc(e,t,li),kh=Symbol(""),Eh=()=>Ui(kh),Ch="3.2.45",Ah="http://www.w3.org/2000/svg",en=typeof document<"u"?document:null,Do=en&&en.createElement("template"),Ih={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?en.createElementNS(Ah,e):en.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>en.createTextNode(e),createComment:e=>en.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>en.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Do.innerHTML=i?`<svg>${e}</svg>`:e;const l=Do.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Nh(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Mh(e,t,n){const i=e.style,s=Mt(n);if(n&&!s){for(const r in n)gr(i,r,n[r]);if(t&&!Mt(t))for(const r in t)n[r]==null&&gr(i,r,"")}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const Ro=/\s*!important$/;function gr(e,t,n){if(nt(n))n.forEach(i=>gr(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Sh(e,t);Ro.test(n)?e.setProperty(On(i),n.replace(Ro,""),"important"):e[i]=n}}const Fo=["Webkit","Moz","ms"],Hs={};function Sh(e,t){const n=Hs[t];if(n)return n;let i=En(t);if(i!=="filter"&&i in e)return Hs[t]=i;i=Dl(i);for(let s=0;s<Fo.length;s++){const r=Fo[s]+i;if(r in e)return Hs[t]=r}return t}const Bo="http://www.w3.org/1999/xlink";function Th(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Bo,t.slice(6,t.length)):e.setAttributeNS(Bo,t,n);else{const r=Au(t);n==null||r&&!Sl(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function Ph(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const a=n??"";(e.value!==a||e.tagName==="OPTION")&&(e.value=a),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Sl(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function He(e,t,n,i){e.addEventListener(t,n,i)}function Lh(e,t,n,i){e.removeEventListener(t,n,i)}function Oh(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[l,a]=Dh(t);if(i){const u=r[t]=Bh(i,s);He(e,l,u,a)}else o&&(Lh(e,l,o,a),r[t]=void 0)}}const $o=/(?:Once|Passive|Capture)$/;function Dh(e){let t;if($o.test(e)){t={};let i;for(;i=e.match($o);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):On(e.slice(2)),t]}let zs=0;const Rh=Promise.resolve(),Fh=()=>zs||(Rh.then(()=>zs=0),zs=Date.now());function Bh(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;le($h(i,n.value),t,5,[i])};return n.value=e,n.attached=Fh(),n}function $h(e,t){if(nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const Ho=/^on[a-z]/,Hh=(e,t,n,i,s=!1,r,o,l,a)=>{t==="class"?Nh(e,i,s):t==="style"?Mh(e,n,i):gs(t)?Or(t)||Oh(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zh(e,t,i,s))?Ph(e,t,i,r,o,l,a):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Th(e,t,i,s))};function zh(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Ho.test(t)&&ot(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ho.test(t)&&Mt(n)?!1:t in e}const Uh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Rc.props;const Mn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?n=>zi(t,n):t};function Vh(e){e.target.composing=!0}function zo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ze={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=Mn(s);const r=i||s.props&&s.props.type==="number";He(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=Cn(l)),e._assign(l)}),n&&He(e,"change",()=>{e.value=e.value.trim()}),t||(He(e,"compositionstart",Vh),He(e,"compositionend",zo),He(e,"change",zo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=Mn(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(s||e.type==="number")&&Cn(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Xh={deep:!0,created(e,t,n){e._assign=Mn(n),He(e,"change",()=>{const i=e._modelValue,s=ai(e),r=e.checked,o=e._assign;if(nt(i)){const l=Lr(i,s),a=l!==-1;if(r&&!a)o(i.concat(s));else if(!r&&a){const u=[...i];u.splice(l,1),o(u)}}else if(Ln(i)){const l=new Set(i);r?l.add(s):l.delete(s),o(l)}else o(Ma(e,r))})},mounted:Uo,beforeUpdate(e,t,n){e._assign=Mn(n),Uo(e,t,n)}};function Uo(e,{value:t,oldValue:n},i){e._modelValue=t,nt(t)?e.checked=Lr(t,i.props.value)>-1:Ln(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=gi(t,Ma(e,!0)))}const Us={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=Ln(t);He(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Cn(ai(o)):ai(o));e._assign(e.multiple?s?new Set(r):r:r[0])}),e._assign=Mn(i)},mounted(e,{value:t}){Vo(e,t)},beforeUpdate(e,t,n){e._assign=Mn(n)},updated(e,{value:t}){Vo(e,t)}};function Vo(e,t){const n=e.multiple;if(!(n&&!nt(t)&&!Ln(t))){for(let i=0,s=e.options.length;i<s;i++){const r=e.options[i],o=ai(r);if(n)nt(t)?r.selected=Lr(t,o)>-1:r.selected=t.has(o);else if(gi(ai(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ai(e){return"_value"in e?e._value:e.value}function Ma(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const qh=zt({patchProp:Hh},Ih);let Xo;function Yh(){return Xo||(Xo=lh(qh))}const Kh=(...e)=>{const t=Yh().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=Gh(i);if(!s)return;const r=t._component;!ot(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Gh(e){return Mt(e)?document.querySelector(e):e}function Sa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Wh(e){return e.length===1&&(e=Jh(e)),{left:function(t,n,i,s){for(i==null&&(i=0),s==null&&(s=t.length);i<s;){var r=i+s>>>1;e(t[r],n)<0?i=r+1:s=r}return i},right:function(t,n,i,s){for(i==null&&(i=0),s==null&&(s=t.length);i<s;){var r=i+s>>>1;e(t[r],n)>0?s=r:i=r+1}return i}}}function Jh(e){return function(t,n){return Sa(e(t),n)}}Wh(Sa);var Zh={value:function(){}};function Es(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Yi(n)}function Yi(e){this._=e}function Qh(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Yi.prototype=Es.prototype={constructor:Yi,on:function(e,t){var n=this._,i=Qh(e+"",n),s,r=-1,o=i.length;if(arguments.length<2){for(;++r<o;)if((s=(e=i[r]).type)&&(s=jh(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<o;)if(s=(e=i[r]).type)n[s]=qo(n[s],e.name,t);else if(t==null)for(s in n)n[s]=qo(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yi(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,r;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,r=i.length;s<r;++s)i[s].value.apply(t,n)}};function jh(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function qo(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Zh,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var mr="http://www.w3.org/1999/xhtml";const Yo={svg:"http://www.w3.org/2000/svg",xhtml:mr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Yo.hasOwnProperty(t)?{space:Yo[t],local:e}:e}function tf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mr&&t.documentElement.namespaceURI===mr?t.createElement(e):t.createElementNS(n,e)}}function ef(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ta(e){var t=Cs(e);return(t.local?ef:tf)(t)}function nf(){}function jr(e){return e==null?nf:function(){return this.querySelector(e)}}function sf(e){typeof e!="function"&&(e=jr(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var r=t[s],o=r.length,l=i[s]=new Array(o),a,u,h=0;h<o;++h)(a=r[h])&&(u=e.call(a,a.__data__,h,r))&&("__data__"in a&&(u.__data__=a.__data__),l[h]=u);return new ee(i,this._parents)}function rf(){return[]}function Pa(e){return e==null?rf:function(){return this.querySelectorAll(e)}}function of(e){typeof e!="function"&&(e=Pa(e));for(var t=this._groups,n=t.length,i=[],s=[],r=0;r<n;++r)for(var o=t[r],l=o.length,a,u=0;u<l;++u)(a=o[u])&&(i.push(e.call(a,a.__data__,u,o)),s.push(a));return new ee(i,s)}function La(e){return function(){return this.matches(e)}}function lf(e){typeof e!="function"&&(e=La(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var r=t[s],o=r.length,l=i[s]=[],a,u=0;u<o;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new ee(i,this._parents)}function Oa(e){return new Array(e.length)}function af(){return new ee(this._enter||this._groups.map(Oa),this._parents)}function es(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}es.prototype={constructor:es,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function uf(e){return function(){return e}}var Ko="$";function cf(e,t,n,i,s,r){for(var o=0,l,a=t.length,u=r.length;o<u;++o)(l=t[o])?(l.__data__=r[o],i[o]=l):n[o]=new es(e,r[o]);for(;o<a;++o)(l=t[o])&&(s[o]=l)}function hf(e,t,n,i,s,r,o){var l,a,u={},h=t.length,c=r.length,f=new Array(h),d;for(l=0;l<h;++l)(a=t[l])&&(f[l]=d=Ko+o.call(a,a.__data__,l,t),d in u?s[l]=a:u[d]=a);for(l=0;l<c;++l)d=Ko+o.call(e,r[l],l,r),(a=u[d])?(i[l]=a,a.__data__=r[l],u[d]=null):n[l]=new es(e,r[l]);for(l=0;l<h;++l)(a=t[l])&&u[f[l]]===a&&(s[l]=a)}function ff(e,t){if(!e)return d=new Array(this.size()),u=-1,this.each(function(S){d[++u]=S}),d;var n=t?hf:cf,i=this._parents,s=this._groups;typeof e!="function"&&(e=uf(e));for(var r=s.length,o=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var h=i[u],c=s[u],f=c.length,d=e.call(h,h&&h.__data__,u,i),g=d.length,p=l[u]=new Array(g),_=o[u]=new Array(g),b=a[u]=new Array(f);n(h,c,p,_,b,d,t);for(var k=0,y=0,x,A;k<g;++k)if(x=p[k]){for(k>=y&&(y=k+1);!(A=_[y])&&++y<g;);x._next=A||null}}return o=new ee(o,i),o._enter=l,o._exit=a,o}function df(){return new ee(this._exit||this._groups.map(Oa),this._parents)}function pf(e,t,n){var i=this.enter(),s=this,r=this.exit();return i=typeof e=="function"?e(i):i.append(e+""),t!=null&&(s=t(s)),n==null?r.remove():n(r),i&&s?i.merge(s).order():s}function gf(e){for(var t=this._groups,n=e._groups,i=t.length,s=n.length,r=Math.min(i,s),o=new Array(i),l=0;l<r;++l)for(var a=t[l],u=n[l],h=a.length,c=o[l]=new Array(h),f,d=0;d<h;++d)(f=a[d]||u[d])&&(c[d]=f);for(;l<i;++l)o[l]=t[l];return new ee(o,this._parents)}function mf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,r=i[s],o;--s>=0;)(o=i[s])&&(r&&o.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(o,r),r=o);return this}function vf(e){e||(e=_f);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,i=n.length,s=new Array(i),r=0;r<i;++r){for(var o=n[r],l=o.length,a=s[r]=new Array(l),u,h=0;h<l;++h)(u=o[h])&&(a[h]=u);a.sort(t)}return new ee(s,this._parents).order()}function _f(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function bf(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function xf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,r=i.length;s<r;++s){var o=i[s];if(o)return o}return null}function wf(){var e=0;return this.each(function(){++e}),e}function kf(){return!this.node()}function Ef(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],r=0,o=s.length,l;r<o;++r)(l=s[r])&&e.call(l,l.__data__,r,s);return this}function Cf(e){return function(){this.removeAttribute(e)}}function Af(e){return function(){this.removeAttributeNS(e.space,e.local)}}function If(e,t){return function(){this.setAttribute(e,t)}}function Nf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Sf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Tf(e,t){var n=Cs(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Af:Cf:typeof t=="function"?n.local?Sf:Mf:n.local?Nf:If)(n,t))}function Da(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Pf(e){return function(){this.style.removeProperty(e)}}function Lf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Of(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Df(e,t,n){return arguments.length>1?this.each((t==null?Pf:typeof t=="function"?Of:Lf)(e,t,n??"")):Sn(this.node(),e)}function Sn(e,t){return e.style.getPropertyValue(t)||Da(e).getComputedStyle(e,null).getPropertyValue(t)}function Rf(e){return function(){delete this[e]}}function Ff(e,t){return function(){this[e]=t}}function Bf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $f(e,t){return arguments.length>1?this.each((t==null?Rf:typeof t=="function"?Bf:Ff)(e,t)):this.node()[e]}function Ra(e){return e.trim().split(/^|\s+/)}function to(e){return e.classList||new Fa(e)}function Fa(e){this._node=e,this._names=Ra(e.getAttribute("class")||"")}Fa.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ba(e,t){for(var n=to(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function $a(e,t){for(var n=to(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function Hf(e){return function(){Ba(this,e)}}function zf(e){return function(){$a(this,e)}}function Uf(e,t){return function(){(t.apply(this,arguments)?Ba:$a)(this,e)}}function Vf(e,t){var n=Ra(e+"");if(arguments.length<2){for(var i=to(this.node()),s=-1,r=n.length;++s<r;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Uf:t?Hf:zf)(n,t))}function Xf(){this.textContent=""}function qf(e){return function(){this.textContent=e}}function Yf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kf(e){return arguments.length?this.each(e==null?Xf:(typeof e=="function"?Yf:qf)(e)):this.node().textContent}function Gf(){this.innerHTML=""}function Wf(e){return function(){this.innerHTML=e}}function Jf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zf(e){return arguments.length?this.each(e==null?Gf:(typeof e=="function"?Jf:Wf)(e)):this.node().innerHTML}function Qf(){this.nextSibling&&this.parentNode.appendChild(this)}function jf(){return this.each(Qf)}function td(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ed(){return this.each(td)}function nd(e){var t=typeof e=="function"?e:Ta(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function id(){return null}function sd(e,t){var n=typeof e=="function"?e:Ta(e),i=t==null?id:typeof t=="function"?t:jr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function rd(){var e=this.parentNode;e&&e.removeChild(this)}function od(){return this.each(rd)}function ld(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ad(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ud(e){return this.select(e?ad:ld)}function cd(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Ha={},it=null;if(typeof document<"u"){var hd=document.documentElement;"onmouseenter"in hd||(Ha={mouseenter:"mouseover",mouseleave:"mouseout"})}function fd(e,t,n){return e=za(e,t,n),function(i){var s=i.relatedTarget;(!s||s!==this&&!(s.compareDocumentPosition(this)&8))&&e.call(this,i)}}function za(e,t,n){return function(i){var s=it;it=i;try{e.call(this,this.__data__,t,n)}finally{it=s}}}function dd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function pd(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,r;n<s;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.capture):t[++i]=r;++i?t.length=i:delete this.__on}}}function gd(e,t,n){var i=Ha.hasOwnProperty(e.type)?fd:za;return function(s,r,o){var l=this.__on,a,u=i(t,r,o);if(l){for(var h=0,c=l.length;h<c;++h)if((a=l[h]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),a.value=t;return}}this.addEventListener(e.type,u,n),a={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(a):this.__on=[a]}}function md(e,t,n){var i=dd(e+""),s,r=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,h;a<u;++a)for(s=0,h=l[a];s<r;++s)if((o=i[s]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?gd:pd,n==null&&(n=!1),s=0;s<r;++s)this.each(l(i[s],t,n));return this}function vr(e,t,n,i){var s=it;e.sourceEvent=it,it=e;try{return t.apply(n,i)}finally{it=s}}function Ua(e,t,n){var i=Da(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function vd(e,t){return function(){return Ua(this,e,t)}}function _d(e,t){return function(){return Ua(this,e,t.apply(this,arguments))}}function yd(e,t){return this.each((typeof t=="function"?_d:vd)(e,t))}var Va=[null];function ee(e,t){this._groups=e,this._parents=t}function _i(){return new ee([[document.documentElement]],Va)}ee.prototype=_i.prototype={constructor:ee,select:sf,selectAll:of,filter:lf,data:ff,enter:af,exit:df,join:pf,merge:gf,order:mf,sort:vf,call:yf,nodes:bf,node:xf,size:wf,empty:kf,each:Ef,attr:Tf,style:Df,property:$f,classed:Vf,text:Kf,html:Zf,raise:jf,lower:ed,append:nd,insert:sd,remove:od,clone:ud,datum:cd,on:md,dispatch:yd};function he(e){return typeof e=="string"?new ee([[document.querySelector(e)]],[document.documentElement]):new ee([[e]],Va)}function Xa(){for(var e=it,t;t=e.sourceEvent;)e=t;return e}function qa(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Kn(e){var t=Xa();return t.changedTouches&&(t=t.changedTouches[0]),qa(e,t)}function _r(e,t,n){arguments.length<3&&(n=t,t=Xa().changedTouches);for(var i=0,s=t?t.length:0,r;i<s;++i)if((r=t[i]).identifier===n)return qa(e,r);return null}function Vs(){it.stopImmediatePropagation()}function bn(){it.preventDefault(),it.stopImmediatePropagation()}function Ya(e){var t=e.document.documentElement,n=he(e).on("dragstart.drag",bn,!0);"onselectstart"in t?n.on("selectstart.drag",bn,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ka(e,t){var n=e.document.documentElement,i=he(e).on("dragstart.drag",null);t&&(i.on("click.drag",bn,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Si(e){return function(){return e}}function yr(e,t,n,i,s,r,o,l,a,u){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=s,this.x=r,this.y=o,this.dx=l,this.dy=a,this._=u}yr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function bd(){return!it.ctrlKey&&!it.button}function xd(){return this.parentNode}function wd(e){return e??{x:it.x,y:it.y}}function kd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ed(){var e=bd,t=xd,n=wd,i=kd,s={},r=Es("start","drag","end"),o=0,l,a,u,h,c=0;function f(x){x.on("mousedown.drag",d).filter(i).on("touchstart.drag",_).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!(h||!e.apply(this,arguments))){var x=y("mouse",t.apply(this,arguments),Kn,this,arguments);x&&(he(it.view).on("mousemove.drag",g,!0).on("mouseup.drag",p,!0),Ya(it.view),Vs(),u=!1,l=it.clientX,a=it.clientY,x("start"))}}function g(){if(bn(),!u){var x=it.clientX-l,A=it.clientY-a;u=x*x+A*A>c}s.mouse("drag")}function p(){he(it.view).on("mousemove.drag mouseup.drag",null),Ka(it.view,u),bn(),s.mouse("end")}function _(){if(e.apply(this,arguments)){var x=it.changedTouches,A=t.apply(this,arguments),S=x.length,N,E;for(N=0;N<S;++N)(E=y(x[N].identifier,A,_r,this,arguments))&&(Vs(),E("start"))}}function b(){var x=it.changedTouches,A=x.length,S,N;for(S=0;S<A;++S)(N=s[x[S].identifier])&&(bn(),N("drag"))}function k(){var x=it.changedTouches,A=x.length,S,N;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),S=0;S<A;++S)(N=s[x[S].identifier])&&(Vs(),N("end"))}function y(x,A,S,N,E){var T=S(A,x),C,D,m,I=r.copy();if(vr(new yr(f,"beforestart",C,x,o,T[0],T[1],0,0,I),function(){return(it.subject=C=n.apply(N,E))==null?!1:(D=C.x-T[0]||0,m=C.y-T[1]||0,!0)}))return function B(z){var V=T,$;switch(z){case"start":s[x]=B,$=o++;break;case"end":delete s[x],--o;case"drag":T=S(A,x),$=o;break}vr(new yr(f,z,C,x,$,T[0]+D,T[1]+m,T[0]-V[0],T[1]-V[1],I),I.apply,I,[z,N,E])}}return f.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Si(!!x),f):e},f.container=function(x){return arguments.length?(t=typeof x=="function"?x:Si(x),f):t},f.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Si(x),f):n},f.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:Si(!!x),f):i},f.on=function(){var x=r.on.apply(r,arguments);return x===r?f:x},f.clickDistance=function(x){return arguments.length?(c=(x=+x)*x,f):Math.sqrt(c)},f}function eo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ga(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function yi(){}var ui=.7,ns=1/ui,xn="\\s*([+-]?\\d+)\\s*",ci="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ke="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cd=/^#([0-9a-f]{3,8})$/,Ad=new RegExp("^rgb\\("+[xn,xn,xn]+"\\)$"),Id=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Nd=new RegExp("^rgba\\("+[xn,xn,xn,ci]+"\\)$"),Md=new RegExp("^rgba\\("+[ke,ke,ke,ci]+"\\)$"),Sd=new RegExp("^hsl\\("+[ci,ke,ke]+"\\)$"),Td=new RegExp("^hsla\\("+[ci,ke,ke,ci]+"\\)$"),Go={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eo(yi,hi,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Wo,formatHex:Wo,formatHsl:Pd,formatRgb:Jo,toString:Jo});function Wo(){return this.rgb().formatHex()}function Pd(){return Wa(this).formatHsl()}function Jo(){return this.rgb().formatRgb()}function hi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zo(t):n===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ti(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ti(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ad.exec(e))?new Qt(t[1],t[2],t[3],1):(t=Id.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Nd.exec(e))?Ti(t[1],t[2],t[3],t[4]):(t=Md.exec(e))?Ti(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sd.exec(e))?tl(t[1],t[2]/100,t[3]/100,1):(t=Td.exec(e))?tl(t[1],t[2]/100,t[3]/100,t[4]):Go.hasOwnProperty(e)?Zo(Go[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function Zo(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function Ti(e,t,n,i){return i<=0&&(e=t=n=NaN),new Qt(e,t,n,i)}function Ld(e){return e instanceof yi||(e=hi(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function br(e,t,n,i){return arguments.length===1?Ld(e):new Qt(e,t,n,i??1)}function Qt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}eo(Qt,br,Ga(yi,{brighter:function(e){return e=e==null?ns:Math.pow(ns,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?ui:Math.pow(ui,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qo,formatHex:Qo,formatRgb:jo,toString:jo}));function Qo(){return"#"+Xs(this.r)+Xs(this.g)+Xs(this.b)}function jo(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Xs(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function tl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,i)}function Wa(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof yi||(e=hi(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),r=Math.max(t,n,i),o=NaN,l=r-s,a=(r+s)/2;return l?(t===r?o=(n-i)/l+(n<i)*6:n===r?o=(i-t)/l+2:o=(t-n)/l+4,l/=a<.5?r+s:2-r-s,o*=60):l=a>0&&a<1?0:o,new we(o,l,a,e.opacity)}function Od(e,t,n,i){return arguments.length===1?Wa(e):new we(e,t,n,i??1)}function we(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}eo(we,Od,Ga(yi,{brighter:function(e){return e=e==null?ns:Math.pow(ns,e),new we(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ui:Math.pow(ui,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new Qt(qs(e>=240?e-240:e+120,s,i),qs(e,s,i),qs(e<120?e+240:e-120,s,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function qs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function Ja(e){return function(){return e}}function Dd(e,t){return function(n){return e+n*t}}function Rd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Fd(e){return(e=+e)==1?Za:function(t,n){return n-t?Rd(t,n,e):Ja(isNaN(t)?n:t)}}function Za(e,t){var n=t-e;return n?Dd(e,n):Ja(isNaN(e)?t:e)}const el=function e(t){var n=Fd(t);function i(s,r){var o=n((s=br(s)).r,(r=br(r)).r),l=n(s.g,r.g),a=n(s.b,r.b),u=Za(s.opacity,r.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=a(h),s.opacity=u(h),s+""}}return i.gamma=e,i}(1);function Fe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ys=new RegExp(xr.source,"g");function Bd(e){return function(){return e}}function $d(e){return function(t){return e(t)+""}}function Hd(e,t){var n=xr.lastIndex=Ys.lastIndex=0,i,s,r,o=-1,l=[],a=[];for(e=e+"",t=t+"";(i=xr.exec(e))&&(s=Ys.exec(t));)(r=s.index)>n&&(r=t.slice(n,r),l[o]?l[o]+=r:l[++o]=r),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,a.push({i:o,x:Fe(i,s)})),n=Ys.lastIndex;return n<t.length&&(r=t.slice(n),l[o]?l[o]+=r:l[++o]=r),l.length<2?a[0]?$d(a[0].x):Bd(t):(t=a.length,function(u){for(var h=0,c;h<t;++h)l[(c=a[h]).i]=c.x(u);return l.join("")})}var nl=180/Math.PI,wr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qa(e,t,n,i,s,r){var o,l,a;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(a=e*n+t*i)&&(n-=e*a,i-=t*a),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,a/=l),e*i<t*n&&(e=-e,t=-t,a=-a,o=-o),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*nl,skewX:Math.atan(a)*nl,scaleX:o,scaleY:l}}var Bn,Ks,il,Pi;function zd(e){return e==="none"?wr:(Bn||(Bn=document.createElement("DIV"),Ks=document.documentElement,il=document.defaultView),Bn.style.transform=e,e=il.getComputedStyle(Ks.appendChild(Bn),null).getPropertyValue("transform"),Ks.removeChild(Bn),e=e.slice(7,-1).split(","),Qa(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function Ud(e){return e==null||(Pi||(Pi=document.createElementNS("http://www.w3.org/2000/svg","g")),Pi.setAttribute("transform",e),!(e=Pi.transform.baseVal.consolidate()))?wr:(e=e.matrix,Qa(e.a,e.b,e.c,e.d,e.e,e.f))}function ja(e,t,n,i){function s(u){return u.length?u.pop()+" ":""}function r(u,h,c,f,d,g){if(u!==c||h!==f){var p=d.push("translate(",null,t,null,n);g.push({i:p-4,x:Fe(u,c)},{i:p-2,x:Fe(h,f)})}else(c||f)&&d.push("translate("+c+t+f+n)}function o(u,h,c,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:c.push(s(c)+"rotate(",null,i)-2,x:Fe(u,h)})):h&&c.push(s(c)+"rotate("+h+i)}function l(u,h,c,f){u!==h?f.push({i:c.push(s(c)+"skewX(",null,i)-2,x:Fe(u,h)}):h&&c.push(s(c)+"skewX("+h+i)}function a(u,h,c,f,d,g){if(u!==c||h!==f){var p=d.push(s(d)+"scale(",null,",",null,")");g.push({i:p-4,x:Fe(u,c)},{i:p-2,x:Fe(h,f)})}else(c!==1||f!==1)&&d.push(s(d)+"scale("+c+","+f+")")}return function(u,h){var c=[],f=[];return u=e(u),h=e(h),r(u.translateX,u.translateY,h.translateX,h.translateY,c,f),o(u.rotate,h.rotate,c,f),l(u.skewX,h.skewX,c,f),a(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,f),u=h=null,function(d){for(var g=-1,p=f.length,_;++g<p;)c[(_=f[g]).i]=_.x(d);return c.join("")}}}var Vd=ja(zd,"px, ","px)","deg)"),Xd=ja(Ud,", ",")",")"),$n=Math.SQRT2,Gs=2,sl=4,qd=1e-12;function rl(e){return((e=Math.exp(e))+1/e)/2}function Yd(e){return((e=Math.exp(e))-1/e)/2}function Kd(e){return((e=Math.exp(2*e))-1)/(e+1)}function Gd(e,t){var n=e[0],i=e[1],s=e[2],r=t[0],o=t[1],l=t[2],a=r-n,u=o-i,h=a*a+u*u,c,f;if(h<qd)f=Math.log(l/s)/$n,c=function(k){return[n+k*a,i+k*u,s*Math.exp($n*k*f)]};else{var d=Math.sqrt(h),g=(l*l-s*s+sl*h)/(2*s*Gs*d),p=(l*l-s*s-sl*h)/(2*l*Gs*d),_=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(p*p+1)-p);f=(b-_)/$n,c=function(k){var y=k*f,x=rl(_),A=s/(Gs*d)*(x*Kd($n*y+_)-Yd(_));return[n+A*a,i+A*u,s*x/rl($n*y+_)]}}return c.duration=f*1e3,c}var Tn=0,Gn=0,Hn=0,tu=1e3,is,Wn,ss=0,un=0,As=0,fi=typeof performance=="object"&&performance.now?performance:Date,eu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Is(){return un||(eu(Wd),un=fi.now()+As)}function Wd(){un=0}function rs(){this._call=this._time=this._next=null}rs.prototype=nu.prototype={constructor:rs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Is():+n)+(t==null?0:+t),!this._next&&Wn!==this&&(Wn?Wn._next=this:is=this,Wn=this),this._call=e,this._time=n,kr()},stop:function(){this._call&&(this._call=null,this._time=1/0,kr())}};function nu(e,t,n){var i=new rs;return i.restart(e,t,n),i}function Jd(){Is(),++Tn;for(var e=is,t;e;)(t=un-e._time)>=0&&e._call.call(null,t),e=e._next;--Tn}function ol(){un=(ss=fi.now())+As,Tn=Gn=0;try{Jd()}finally{Tn=0,Qd(),un=0}}function Zd(){var e=fi.now(),t=e-ss;t>tu&&(As-=t,ss=e)}function Qd(){for(var e,t=is,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:is=n);Wn=e,kr(i)}function kr(e){if(!Tn){Gn&&(Gn=clearTimeout(Gn));var t=e-un;t>24?(e<1/0&&(Gn=setTimeout(ol,e-fi.now()-As)),Hn&&(Hn=clearInterval(Hn))):(Hn||(ss=fi.now(),Hn=setInterval(Zd,tu)),Tn=1,eu(ol))}}function ll(e,t,n){var i=new rs;return t=t==null?0:+t,i.restart(function(s){i.stop(),e(s+t)},t,n),i}var jd=Es("start","end","cancel","interrupt"),tp=[],iu=0,al=1,Er=2,Ki=3,ul=4,Cr=5,Gi=6;function Ns(e,t,n,i,s,r){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;ep(e,n,{name:t,index:i,group:s,on:jd,tween:tp,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:iu})}function no(e,t){var n=pe(e,t);if(n.state>iu)throw new Error("too late; already scheduled");return n}function Pe(e,t){var n=pe(e,t);if(n.state>Ki)throw new Error("too late; already running");return n}function pe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ep(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=nu(r,0,n.time);function r(u){n.state=al,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var h,c,f,d;if(n.state!==al)return a();for(h in i)if(d=i[h],d.name===n.name){if(d.state===Ki)return ll(o);d.state===ul?(d.state=Gi,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[h]):+h<t&&(d.state=Gi,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[h])}if(ll(function(){n.state===Ki&&(n.state=ul,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Er,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Er){for(n.state=Ki,s=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(d=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(s[++c]=d);s.length=c+1}}function l(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Cr,1),c=-1,f=s.length;++c<f;)s[c].call(e,h);n.state===Cr&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Gi,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function Wi(e,t){var n=e.__transition,i,s,r=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){r=!1;continue}s=i.state>Er&&i.state<Cr,i.state=Gi,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}r&&delete e.__transition}}function np(e){return this.each(function(){Wi(this,e)})}function ip(e,t){var n,i;return function(){var s=Pe(this,e),r=s.tween;if(r!==n){i=n=r;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function sp(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var r=Pe(this,e),o=r.tween;if(o!==i){s=(i=o).slice();for(var l={name:t,value:n},a=0,u=s.length;a<u;++a)if(s[a].name===t){s[a]=l;break}a===u&&s.push(l)}r.tween=s}}function rp(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=pe(this.node(),n).tween,s=0,r=i.length,o;s<r;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((t==null?ip:sp)(n,e,t))}function io(e,t,n){var i=e._id;return e.each(function(){var s=Pe(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return pe(s,i).value[t]}}function su(e,t){var n;return(typeof t=="number"?Fe:t instanceof hi?el:(n=hi(t))?(t=n,el):Hd)(e,t)}function op(e){return function(){this.removeAttribute(e)}}function lp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ap(e,t,n){var i,s=n+"",r;return function(){var o=this.getAttribute(e);return o===s?null:o===i?r:r=t(i=o,n)}}function up(e,t,n){var i,s=n+"",r;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?r:r=t(i=o,n)}}function cp(e,t,n){var i,s,r;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),a=l+"",o===a?null:o===i&&a===s?r:(s=a,r=t(i=o,l)))}}function hp(e,t,n){var i,s,r;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),a=l+"",o===a?null:o===i&&a===s?r:(s=a,r=t(i=o,l)))}}function fp(e,t){var n=Cs(e),i=n==="transform"?Xd:su;return this.attrTween(e,typeof t=="function"?(n.local?hp:cp)(n,i,io(this,"attr."+e,t)):t==null?(n.local?lp:op)(n):(n.local?up:ap)(n,i,t))}function dp(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function pp(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function gp(e,t){var n,i;function s(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&pp(e,r)),n}return s._value=t,s}function mp(e,t){var n,i;function s(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&dp(e,r)),n}return s._value=t,s}function vp(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Cs(e);return this.tween(n,(i.local?gp:mp)(i,t))}function _p(e,t){return function(){no(this,e).delay=+t.apply(this,arguments)}}function yp(e,t){return t=+t,function(){no(this,e).delay=t}}function bp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_p:yp)(t,e)):pe(this.node(),t).delay}function xp(e,t){return function(){Pe(this,e).duration=+t.apply(this,arguments)}}function wp(e,t){return t=+t,function(){Pe(this,e).duration=t}}function kp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xp:wp)(t,e)):pe(this.node(),t).duration}function Ep(e,t){if(typeof t!="function")throw new Error;return function(){Pe(this,e).ease=t}}function Cp(e){var t=this._id;return arguments.length?this.each(Ep(t,e)):pe(this.node(),t).ease}function Ap(e){typeof e!="function"&&(e=La(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var r=t[s],o=r.length,l=i[s]=[],a,u=0;u<o;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new Se(i,this._parents,this._name,this._id)}function Ip(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,r=Math.min(i,s),o=new Array(i),l=0;l<r;++l)for(var a=t[l],u=n[l],h=a.length,c=o[l]=new Array(h),f,d=0;d<h;++d)(f=a[d]||u[d])&&(c[d]=f);for(;l<i;++l)o[l]=t[l];return new Se(o,this._parents,this._name,this._id)}function Np(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Mp(e,t,n){var i,s,r=Np(t)?no:Pe;return function(){var o=r(this,e),l=o.on;l!==i&&(s=(i=l).copy()).on(t,n),o.on=s}}function Sp(e,t){var n=this._id;return arguments.length<2?pe(this.node(),n).on.on(e):this.each(Mp(n,e,t))}function Tp(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Pp(){return this.on("end.remove",Tp(this._id))}function Lp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jr(e));for(var i=this._groups,s=i.length,r=new Array(s),o=0;o<s;++o)for(var l=i[o],a=l.length,u=r[o]=new Array(a),h,c,f=0;f<a;++f)(h=l[f])&&(c=e.call(h,h.__data__,f,l))&&("__data__"in h&&(c.__data__=h.__data__),u[f]=c,Ns(u[f],t,n,f,u,pe(h,n)));return new Se(r,this._parents,t,n)}function Op(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pa(e));for(var i=this._groups,s=i.length,r=[],o=[],l=0;l<s;++l)for(var a=i[l],u=a.length,h,c=0;c<u;++c)if(h=a[c]){for(var f=e.call(h,h.__data__,c,a),d,g=pe(h,n),p=0,_=f.length;p<_;++p)(d=f[p])&&Ns(d,t,n,p,f,g);r.push(f),o.push(h)}return new Se(r,o,t,n)}var Dp=_i.prototype.constructor;function Rp(){return new Dp(this._groups,this._parents)}function Fp(e,t){var n,i,s;return function(){var r=Sn(this,e),o=(this.style.removeProperty(e),Sn(this,e));return r===o?null:r===n&&o===i?s:s=t(n=r,i=o)}}function ru(e){return function(){this.style.removeProperty(e)}}function Bp(e,t,n){var i,s=n+"",r;return function(){var o=Sn(this,e);return o===s?null:o===i?r:r=t(i=o,n)}}function $p(e,t,n){var i,s,r;return function(){var o=Sn(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Sn(this,e))),o===a?null:o===i&&a===s?r:(s=a,r=t(i=o,l))}}function Hp(e,t){var n,i,s,r="style."+t,o="end."+r,l;return function(){var a=Pe(this,e),u=a.on,h=a.value[r]==null?l||(l=ru(t)):void 0;(u!==n||s!==h)&&(i=(n=u).copy()).on(o,s=h),a.on=i}}function zp(e,t,n){var i=(e+="")=="transform"?Vd:su;return t==null?this.styleTween(e,Fp(e,i)).on("end.style."+e,ru(e)):typeof t=="function"?this.styleTween(e,$p(e,i,io(this,"style."+e,t))).each(Hp(this._id,e)):this.styleTween(e,Bp(e,i,t),n).on("end.style."+e,null)}function Up(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Vp(e,t,n){var i,s;function r(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&Up(e,o,n)),i}return r._value=t,r}function Xp(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Vp(e,t,n??""))}function qp(e){return function(){this.textContent=e}}function Yp(e){return function(){var t=e(this);this.textContent=t??""}}function Kp(e){return this.tween("text",typeof e=="function"?Yp(io(this,"text",e)):qp(e==null?"":e+""))}function Gp(e){return function(t){this.textContent=e.call(this,t)}}function Wp(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Gp(s)),t}return i._value=e,i}function Jp(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Wp(e))}function Zp(){for(var e=this._name,t=this._id,n=ou(),i=this._groups,s=i.length,r=0;r<s;++r)for(var o=i[r],l=o.length,a,u=0;u<l;++u)if(a=o[u]){var h=pe(a,t);Ns(a,e,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Se(i,this._parents,e,n)}function Qp(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(r,o){var l={value:o},a={value:function(){--s===0&&r()}};n.each(function(){var u=Pe(this,i),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t})})}var jp=0;function Se(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function ou(){return++jp}var cn=_i.prototype;Se.prototype={constructor:Se,select:Lp,selectAll:Op,filter:Ap,merge:Ip,selection:Rp,transition:Zp,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:Sp,attr:fp,attrTween:vp,style:zp,styleTween:Xp,text:Kp,textTween:Jp,remove:Pp,tween:rp,delay:bp,duration:kp,ease:Cp,end:Qp};function tg(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ar={time:null,delay:0,duration:250,ease:tg};function eg(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Ar.time=Is(),Ar;return n}function ng(e){var t,n;e instanceof Se?(t=e._id,e=e._name):(t=ou(),(n=Ar).time=Is(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,r=0;r<s;++r)for(var o=i[r],l=o.length,a,u=0;u<l;++u)(a=o[u])&&Ns(a,e,t,u,o,n||eg(a,t));return new Se(i,this._parents,e,t)}_i.prototype.interrupt=np;_i.prototype.transition=ng;var se="$";function os(){}os.prototype=ls.prototype={constructor:os,has:function(e){return se+e in this},get:function(e){return this[se+e]},set:function(e,t){return this[se+e]=t,this},remove:function(e){var t=se+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===se&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===se&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===se&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===se&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===se&&++e;return e},empty:function(){for(var e in this)if(e[0]===se)return!1;return!0},each:function(e){for(var t in this)t[0]===se&&e(this[t],t.slice(1),this)}};function ls(e,t){var n=new os;if(e instanceof os)e.each(function(l,a){n.set(a,l)});else if(Array.isArray(e)){var i=-1,s=e.length,r;if(t==null)for(;++i<s;)n.set(i,e[i]);else for(;++i<s;)n.set(t(r=e[i],i,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}function cl(){}var Qe=ls.prototype;cl.prototype={constructor:cl,has:Qe.has,add:function(e){return e+="",this[se+e]=e,this},remove:Qe.remove,clear:Qe.clear,values:Qe.keys,size:Qe.size,empty:Qe.empty,each:Qe.each};function Fn(){return Math.random()}(function e(t){function n(i,s){return i=i==null?0:+i,s=s==null?1:+s,arguments.length===1?(s=i,i=0):s-=i,function(){return t()*s+i}}return n.source=e,n})(Fn);const ig=function e(t){function n(i,s){var r,o;return i=i==null?0:+i,s=s==null?1:+s,function(){var l;if(r!=null)l=r,r=null;else do r=t()*2-1,l=t()*2-1,o=r*r+l*l;while(!o||o>1);return i+s*l*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(Fn);(function e(t){function n(){var i=ig.source(t).apply(this,arguments);return function(){return Math.exp(i())}}return n.source=e,n})(Fn);const sg=function e(t){function n(i){return function(){for(var s=0,r=0;r<i;++r)s+=t();return s}}return n.source=e,n}(Fn);(function e(t){function n(i){var s=sg.source(t)(i);return function(){return s()/i}}return n.source=e,n})(Fn);(function e(t){function n(i){return function(){return-Math.log(1-t())/i}}return n.source=e,n})(Fn);function rg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var og=Array.prototype,lg=og.slice,hl={name:"implicit"};function Ir(){var e=ls(),t=[],n=[],i=hl;function s(r){var o=r+"",l=e.get(o);if(!l){if(i!==hl)return i;e.set(o,l=t.push(r))}return n[(l-1)%n.length]}return s.domain=function(r){if(!arguments.length)return t.slice();t=[],e=ls();for(var o=-1,l=r.length,a,u;++o<l;)e.has(u=(a=r[o])+"")||e.set(u,t.push(a));return s},s.range=function(r){return arguments.length?(n=lg.call(r),s):n.slice()},s.unknown=function(r){return arguments.length?(i=r,s):i},s.copy=function(){return Ir(t,n).unknown(i)},rg.apply(s,arguments),s}function lu(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}const ag=lu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ug=lu("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");function as(){this._=null}function Ms(e){e.U=e.C=e.L=e.R=e.P=e.N=null}as.prototype={constructor:as,insert:function(e,t){var n,i,s;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=fl(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(s=i.R,s&&s.C?(n.C=s.C=!1,i.C=!0,e=i):(e===n.R&&(zn(this,n),e=n,n=e.U),n.C=!1,i.C=!0,Un(this,i))):(s=i.L,s&&s.C?(n.C=s.C=!1,i.C=!0,e=i):(e===n.L&&(Un(this,n),e=n,n=e.U),n.C=!1,i.C=!0,zn(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,i=e.L,s=e.R,r,o;if(i?s?r=fl(s):r=i:r=s,t?t.L===e?t.L=r:t.R=r:this._=r,i&&s?(o=r.C,r.C=e.C,r.L=i,i.U=r,r!==s?(t=r.U,r.U=e.U,e=r.R,t.L=e,r.R=s,s.U=r):(r.U=t,t=r,e=r.R)):(o=e.C,e=r),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,zn(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Un(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,zn(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,Un(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,zn(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Un(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function zn(e,t){var n=t,i=t.R,s=n.U;s?s.L===n?s.L=i:s.R=i:e._=i,i.U=s,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Un(e,t){var n=t,i=t.L,s=n.U;s?s.L===n?s.L=i:s.R=i:e._=i,i.U=s,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function fl(e){for(;e.L;)e=e.L;return e}function Jn(e,t,n,i){var s=[null,null],r=Bt.push(s)-1;return s.left=e,s.right=t,n&&us(s,e,t,n),i&&us(s,t,e,i),Zt[e.index].halfedges.push(r),Zt[t.index].halfedges.push(r),s}function Vn(e,t,n){var i=[t,n];return i.left=e,i}function us(e,t,n,i){!e[0]&&!e[1]?(e[0]=i,e.left=t,e.right=n):e.left===n?e[1]=i:e[0]=i}function cg(e,t,n,i,s){var r=e[0],o=e[1],l=r[0],a=r[1],u=o[0],h=o[1],c=0,f=1,d=u-l,g=h-a,p;if(p=t-l,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-l,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=n-a,!(!g&&p>0)){if(p/=g,g<0){if(p<c)return;p<f&&(f=p)}else if(g>0){if(p>f)return;p>c&&(c=p)}if(p=s-a,!(!g&&p<0)){if(p/=g,g<0){if(p>f)return;p>c&&(c=p)}else if(g>0){if(p<c)return;p<f&&(f=p)}return!(c>0)&&!(f<1)||(c>0&&(e[0]=[l+c*d,a+c*g]),f<1&&(e[1]=[l+f*d,a+f*g])),!0}}}}}function hg(e,t,n,i,s){var r=e[1];if(r)return!0;var o=e[0],l=e.left,a=e.right,u=l[0],h=l[1],c=a[0],f=a[1],d=(u+c)/2,g=(h+f)/2,p,_;if(f===h){if(d<t||d>=i)return;if(u>c){if(!o)o=[d,n];else if(o[1]>=s)return;r=[d,s]}else{if(!o)o=[d,s];else if(o[1]<n)return;r=[d,n]}}else if(p=(u-c)/(f-h),_=g-p*d,p<-1||p>1)if(u>c){if(!o)o=[(n-_)/p,n];else if(o[1]>=s)return;r=[(s-_)/p,s]}else{if(!o)o=[(s-_)/p,s];else if(o[1]<n)return;r=[(n-_)/p,n]}else if(h<f){if(!o)o=[t,p*t+_];else if(o[0]>=i)return;r=[i,p*i+_]}else{if(!o)o=[i,p*i+_];else if(o[0]<t)return;r=[t,p*t+_]}return e[0]=o,e[1]=r,!0}function fg(e,t,n,i){for(var s=Bt.length,r;s--;)(!hg(r=Bt[s],e,t,n,i)||!cg(r,e,t,n,i)||!(Math.abs(r[0][0]-r[1][0])>xt||Math.abs(r[0][1]-r[1][1])>xt))&&delete Bt[s]}function dg(e){return Zt[e.index]={site:e,halfedges:[]}}function pg(e,t){var n=e.site,i=t.left,s=t.right;return n===s&&(s=i,i=n),s?Math.atan2(s[1]-i[1],s[0]-i[0]):(n===i?(i=t[1],s=t[0]):(i=t[0],s=t[1]),Math.atan2(i[0]-s[0],s[1]-i[1]))}function au(e,t){return t[+(t.left!==e.site)]}function gg(e,t){return t[+(t.left===e.site)]}function mg(){for(var e=0,t=Zt.length,n,i,s,r;e<t;++e)if((n=Zt[e])&&(r=(i=n.halfedges).length)){var o=new Array(r),l=new Array(r);for(s=0;s<r;++s)o[s]=s,l[s]=pg(n,Bt[i[s]]);for(o.sort(function(a,u){return l[u]-l[a]}),s=0;s<r;++s)l[s]=i[o[s]];for(s=0;s<r;++s)i[s]=l[s]}}function vg(e,t,n,i){var s=Zt.length,r,o,l,a,u,h,c,f,d,g,p,_,b=!0;for(r=0;r<s;++r)if(o=Zt[r]){for(l=o.site,u=o.halfedges,a=u.length;a--;)Bt[u[a]]||u.splice(a,1);for(a=0,h=u.length;a<h;)g=gg(o,Bt[u[a]]),p=g[0],_=g[1],c=au(o,Bt[u[++a%h]]),f=c[0],d=c[1],(Math.abs(p-f)>xt||Math.abs(_-d)>xt)&&(u.splice(a,0,Bt.push(Vn(l,g,Math.abs(p-e)<xt&&i-_>xt?[e,Math.abs(f-e)<xt?d:i]:Math.abs(_-i)<xt&&n-p>xt?[Math.abs(d-i)<xt?f:n,i]:Math.abs(p-n)<xt&&_-t>xt?[n,Math.abs(f-n)<xt?d:t]:Math.abs(_-t)<xt&&p-e>xt?[Math.abs(d-t)<xt?f:e,t]:null))-1),++h);h&&(b=!1)}if(b){var k,y,x,A=1/0;for(r=0,b=null;r<s;++r)(o=Zt[r])&&(l=o.site,k=l[0]-e,y=l[1]-t,x=k*k+y*y,x<A&&(A=x,b=o));if(b){var S=[e,t],N=[e,i],E=[n,i],T=[n,t];b.halfedges.push(Bt.push(Vn(l=b.site,S,N))-1,Bt.push(Vn(l,N,E))-1,Bt.push(Vn(l,E,T))-1,Bt.push(Vn(l,T,S))-1)}}for(r=0;r<s;++r)(o=Zt[r])&&(o.halfedges.length||delete Zt[r])}var uu=[],so;function _g(){Ms(this),this.x=this.y=this.arc=this.site=this.cy=null}function dn(e){var t=e.P,n=e.N;if(!(!t||!n)){var i=t.site,s=e.site,r=n.site;if(i!==r){var o=s[0],l=s[1],a=i[0]-o,u=i[1]-l,h=r[0]-o,c=r[1]-l,f=2*(a*c-u*h);if(!(f>=-kg)){var d=a*a+u*u,g=h*h+c*c,p=(c*d-u*g)/f,_=(a*g-h*d)/f,b=uu.pop()||new _g;b.arc=e,b.site=s,b.x=p+o,b.y=(b.cy=_+l)+Math.sqrt(p*p+_*_),e.circle=b;for(var k=null,y=di._;y;)if(b.y<y.y||b.y===y.y&&b.x<=y.x)if(y.L)y=y.L;else{k=y.P;break}else if(y.R)y=y.R;else{k=y;break}di.insert(k,b),k||(so=b)}}}}function wn(e){var t=e.circle;t&&(t.P||(so=t.N),di.remove(t),uu.push(t),Ms(t),e.circle=null)}var cu=[];function yg(){Ms(this),this.edge=this.site=this.circle=null}function dl(e){var t=cu.pop()||new yg;return t.site=e,t}function Ws(e){wn(e),kn.remove(e),cu.push(e),Ms(e)}function bg(e){var t=e.circle,n=t.x,i=t.cy,s=[n,i],r=e.P,o=e.N,l=[e];Ws(e);for(var a=r;a.circle&&Math.abs(n-a.circle.x)<xt&&Math.abs(i-a.circle.cy)<xt;)r=a.P,l.unshift(a),Ws(a),a=r;l.unshift(a),wn(a);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<xt&&Math.abs(i-u.circle.cy)<xt;)o=u.N,l.push(u),Ws(u),u=o;l.push(u),wn(u);var h=l.length,c;for(c=1;c<h;++c)u=l[c],a=l[c-1],us(u.edge,a.site,u.site,s);a=l[0],u=l[h-1],u.edge=Jn(a.site,u.site,null,s),dn(a),dn(u)}function xg(e){for(var t=e[0],n=e[1],i,s,r,o,l=kn._;l;)if(r=hu(l,n)-t,r>xt)l=l.L;else if(o=t-wg(l,n),o>xt){if(!l.R){i=l;break}l=l.R}else{r>-xt?(i=l.P,s=l):o>-xt?(i=l,s=l.N):i=s=l;break}dg(e);var a=dl(e);if(kn.insert(i,a),!(!i&&!s)){if(i===s){wn(i),s=dl(i.site),kn.insert(a,s),a.edge=s.edge=Jn(i.site,a.site),dn(i),dn(s);return}if(!s){a.edge=Jn(i.site,a.site);return}wn(i),wn(s);var u=i.site,h=u[0],c=u[1],f=e[0]-h,d=e[1]-c,g=s.site,p=g[0]-h,_=g[1]-c,b=2*(f*_-d*p),k=f*f+d*d,y=p*p+_*_,x=[(_*k-d*y)/b+h,(f*y-p*k)/b+c];us(s.edge,u,g,x),a.edge=Jn(u,e,null,x),s.edge=Jn(e,g,null,x),dn(i),dn(s)}}function hu(e,t){var n=e.site,i=n[0],s=n[1],r=s-t;if(!r)return i;var o=e.P;if(!o)return-1/0;n=o.site;var l=n[0],a=n[1],u=a-t;if(!u)return l;var h=l-i,c=1/r-1/u,f=h/u;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*u)-a+u/2+s-r/2)))/c+i:(i+l)/2}function wg(e,t){var n=e.N;if(n)return hu(n,t);var i=e.site;return i[1]===t?i[0]:1/0}var xt=1e-6,kg=1e-12,kn,Zt,di,Bt;function Eg(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Cg(e,t){return t[1]-e[1]||t[0]-e[0]}function pl(e,t){var n=e.sort(Cg).pop(),i,s,r;for(Bt=[],Zt=new Array(e.length),kn=new as,di=new as;;)if(r=so,n&&(!r||n[1]<r.y||n[1]===r.y&&n[0]<r.x))(n[0]!==i||n[1]!==s)&&(xg(n),i=n[0],s=n[1]),n=e.pop();else if(r)bg(r.arc);else break;if(mg(),t){var o=+t[0][0],l=+t[0][1],a=+t[1][0],u=+t[1][1];fg(o,l,a,u),vg(o,l,a,u)}this.edges=Bt,this.cells=Zt,kn=di=Bt=Zt=null}pl.prototype={constructor:pl,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(i){return au(t,e[i])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,i){if(l=(r=n.halfedges).length)for(var s=n.site,r,o=-1,l,a,u=t[r[l-1]],h=u.left===s?u.right:u.left;++o<l;)a=h,u=t[r[o]],h=u.left===s?u.right:u.left,a&&h&&i<a.index&&i<h.index&&Eg(s,a,h)<0&&e.push([s.data,a.data,h.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i=this,s,r=i._found||0,o=i.cells.length,l;!(l=i.cells[r]);)if(++r>=o)return null;var a=e-l.site[0],u=t-l.site[1],h=a*a+u*u;do l=i.cells[s=r],r=null,l.halfedges.forEach(function(c){var f=i.edges[c],d=f.left;if(!((d===l.site||!d)&&!(d=f.right))){var g=e-d[0],p=t-d[1],_=g*g+p*p;_<h&&(h=_,r=d.index)}});while(r!==null);return i._found=s,n==null||h<=n*n?l.site:null}};function Li(e){return function(){return e}}function Ag(e,t,n){this.target=e,this.type=t,this.transform=n}function Ie(e,t,n){this.k=e,this.x=t,this.y=n}Ie.prototype={constructor:Ie,scale:function(e){return e===1?this:new Ie(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ie(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ss=new Ie(1,0,0);fu.prototype=Ie.prototype;function fu(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ss;return e.__zoom}function Js(){it.stopImmediatePropagation()}function Xn(){it.preventDefault(),it.stopImmediatePropagation()}function Ig(){return!it.ctrlKey&&!it.button}function Ng(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gl(){return this.__zoom||Ss}function Mg(){return-it.deltaY*(it.deltaMode===1?.05:it.deltaMode?1:.002)}function Sg(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tg(e,t,n){var i=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function Pg(){var e=Ig,t=Ng,n=Tg,i=Mg,s=Sg,r=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Gd,u=Es("start","zoom","end"),h,c,f=500,d=150,g=0;function p(m){m.property("__zoom",gl).on("wheel.zoom",S).on("mousedown.zoom",N).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",T).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(m,I,B){var z=m.selection?m.selection():m;z.property("__zoom",gl),m!==z?y(m,I,B):z.interrupt().each(function(){x(this,arguments).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},p.scaleBy=function(m,I,B){p.scaleTo(m,function(){var z=this.__zoom.k,V=typeof I=="function"?I.apply(this,arguments):I;return z*V},B)},p.scaleTo=function(m,I,B){p.transform(m,function(){var z=t.apply(this,arguments),V=this.__zoom,$=B==null?k(z):typeof B=="function"?B.apply(this,arguments):B,F=V.invert($),lt=typeof I=="function"?I.apply(this,arguments):I;return n(b(_(V,lt),$,F),z,o)},B)},p.translateBy=function(m,I,B){p.transform(m,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof B=="function"?B.apply(this,arguments):B),t.apply(this,arguments),o)})},p.translateTo=function(m,I,B,z){p.transform(m,function(){var V=t.apply(this,arguments),$=this.__zoom,F=z==null?k(V):typeof z=="function"?z.apply(this,arguments):z;return n(Ss.translate(F[0],F[1]).scale($.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof B=="function"?-B.apply(this,arguments):-B),V,o)},z)};function _(m,I){return I=Math.max(r[0],Math.min(r[1],I)),I===m.k?m:new Ie(I,m.x,m.y)}function b(m,I,B){var z=I[0]-B[0]*m.k,V=I[1]-B[1]*m.k;return z===m.x&&V===m.y?m:new Ie(m.k,z,V)}function k(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function y(m,I,B){m.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var z=this,V=arguments,$=x(z,V),F=t.apply(z,V),lt=B==null?k(F):typeof B=="function"?B.apply(z,V):B,st=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),ct=z.__zoom,pt=typeof I=="function"?I.apply(z,V):I,St=a(ct.invert(lt).concat(st/ct.k),pt.invert(lt).concat(st/pt.k));return function(Ut){if(Ut===1)Ut=pt;else{var ge=St(Ut),Tt=st/ge[2];Ut=new Ie(Tt,lt[0]-ge[0]*Tt,lt[1]-ge[1]*Tt)}$.zoom(null,Ut)}})}function x(m,I,B){return!B&&m.__zooming||new A(m,I)}function A(m,I){this.that=m,this.args=I,this.active=0,this.extent=t.apply(m,I),this.taps=0}A.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,I){return this.mouse&&m!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){vr(new Ag(p,m,this.that.__zoom),u.apply,u,[m,this.that,this.args])}};function S(){if(!e.apply(this,arguments))return;var m=x(this,arguments),I=this.__zoom,B=Math.max(r[0],Math.min(r[1],I.k*Math.pow(2,i.apply(this,arguments)))),z=Kn(this);if(m.wheel)(m.mouse[0][0]!==z[0]||m.mouse[0][1]!==z[1])&&(m.mouse[1]=I.invert(m.mouse[0]=z)),clearTimeout(m.wheel);else{if(I.k===B)return;m.mouse=[z,I.invert(z)],Wi(this),m.start()}Xn(),m.wheel=setTimeout(V,d),m.zoom("mouse",n(b(_(I,B),m.mouse[0],m.mouse[1]),m.extent,o));function V(){m.wheel=null,m.end()}}function N(){if(c||!e.apply(this,arguments))return;var m=x(this,arguments,!0),I=he(it.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",F,!0),B=Kn(this),z=it.clientX,V=it.clientY;Ya(it.view),Js(),m.mouse=[B,this.__zoom.invert(B)],Wi(this),m.start();function $(){if(Xn(),!m.moved){var lt=it.clientX-z,st=it.clientY-V;m.moved=lt*lt+st*st>g}m.zoom("mouse",n(b(m.that.__zoom,m.mouse[0]=Kn(m.that),m.mouse[1]),m.extent,o))}function F(){I.on("mousemove.zoom mouseup.zoom",null),Ka(it.view,m.moved),Xn(),m.end()}}function E(){if(e.apply(this,arguments)){var m=this.__zoom,I=Kn(this),B=m.invert(I),z=m.k*(it.shiftKey?.5:2),V=n(b(_(m,z),I,B),t.apply(this,arguments),o);Xn(),l>0?he(this).transition().duration(l).call(y,V,I):he(this).call(p.transform,V)}}function T(){if(e.apply(this,arguments)){var m=it.touches,I=m.length,B=x(this,arguments,it.changedTouches.length===I),z,V,$,F;for(Js(),V=0;V<I;++V)$=m[V],F=_r(this,m,$.identifier),F=[F,this.__zoom.invert(F),$.identifier],B.touch0?!B.touch1&&B.touch0[2]!==F[2]&&(B.touch1=F,B.taps=0):(B.touch0=F,z=!0,B.taps=1+!!h);h&&(h=clearTimeout(h)),z&&(B.taps<2&&(h=setTimeout(function(){h=null},f)),Wi(this),B.start())}}function C(){if(this.__zooming){var m=x(this,arguments),I=it.changedTouches,B=I.length,z,V,$,F;for(Xn(),h&&(h=clearTimeout(h)),m.taps=0,z=0;z<B;++z)V=I[z],$=_r(this,I,V.identifier),m.touch0&&m.touch0[2]===V.identifier?m.touch0[0]=$:m.touch1&&m.touch1[2]===V.identifier&&(m.touch1[0]=$);if(V=m.that.__zoom,m.touch1){var lt=m.touch0[0],st=m.touch0[1],ct=m.touch1[0],pt=m.touch1[1],St=(St=ct[0]-lt[0])*St+(St=ct[1]-lt[1])*St,Ut=(Ut=pt[0]-st[0])*Ut+(Ut=pt[1]-st[1])*Ut;V=_(V,Math.sqrt(St/Ut)),$=[(lt[0]+ct[0])/2,(lt[1]+ct[1])/2],F=[(st[0]+pt[0])/2,(st[1]+pt[1])/2]}else if(m.touch0)$=m.touch0[0],F=m.touch0[1];else return;m.zoom("touch",n(b(V,$,F),m.extent,o))}}function D(){if(this.__zooming){var m=x(this,arguments),I=it.changedTouches,B=I.length,z,V;for(Js(),c&&clearTimeout(c),c=setTimeout(function(){c=null},f),z=0;z<B;++z)V=I[z],m.touch0&&m.touch0[2]===V.identifier?delete m.touch0:m.touch1&&m.touch1[2]===V.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2){var $=he(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return p.wheelDelta=function(m){return arguments.length?(i=typeof m=="function"?m:Li(+m),p):i},p.filter=function(m){return arguments.length?(e=typeof m=="function"?m:Li(!!m),p):e},p.touchable=function(m){return arguments.length?(s=typeof m=="function"?m:Li(!!m),p):s},p.extent=function(m){return arguments.length?(t=typeof m=="function"?m:Li([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),p):t},p.scaleExtent=function(m){return arguments.length?(r[0]=+m[0],r[1]=+m[1],p):[r[0],r[1]]},p.translateExtent=function(m){return arguments.length?(o[0][0]=+m[0][0],o[1][0]=+m[1][0],o[0][1]=+m[0][1],o[1][1]=+m[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(m){return arguments.length?(n=m,p):n},p.duration=function(m){return arguments.length?(l=+m,p):l},p.interpolate=function(m){return arguments.length?(a=m,p):a},p.on=function(){var m=u.on.apply(u,arguments);return m===u?p:m},p.clickDistance=function(m){return arguments.length?(g=(m=+m)*m,p):Math.sqrt(g)},p}class du{constructor(t,n,i){this.source=t,this.target=n,this.type=i}}class cs{constructor(t,n,i,s){if(this.linkAccessor=i,this.modules=new Array(t),this.roots=[],s)this.initModulesFromGroup(s);else{this.roots.push(new an);for(var r=0;r<t;++r)this.roots[0].add(this.modules[r]=new Oi(r))}this.R=n.length,n.forEach(o=>{var l=this.modules[i.getSourceIndex(o)],a=this.modules[i.getTargetIndex(o)],u=i.getType(o);l.outgoing.add(u,a),a.incoming.add(u,l)})}initModulesFromGroup(t){var n=new an;this.roots.push(n);for(var i=0;i<t.leaves.length;++i){var s=t.leaves[i],r=new Oi(s.id);this.modules[s.id]=r,n.add(r)}if(t.groups)for(var o=0;o<t.groups.length;++o){var l=t.groups[o],a={};for(var u in l)u!=="leaves"&&u!=="groups"&&l.hasOwnProperty(u)&&(a[u]=l[u]);n.add(new Oi(-1-o,new Pn,new Pn,this.initModulesFromGroup(l),a))}return n}merge(t,n,i=0){var s=t.incoming.intersection(n.incoming),r=t.outgoing.intersection(n.outgoing),o=new an;o.add(t),o.add(n);var l=new Oi(this.modules.length,r,s,o);this.modules.push(l);var a=(u,h,c)=>{u.forAll((f,d)=>{f.forAll(g=>{var p=g[h];p.add(d,l),p.remove(d,t),p.remove(d,n),t[c].remove(d,g),n[c].remove(d,g)})})};return a(r,"incoming","outgoing"),a(s,"outgoing","incoming"),this.R-=s.count()+r.count(),this.roots[i].remove(t),this.roots[i].remove(n),this.roots[i].add(l),l}rootMerges(t=0){for(var n=this.roots[t].modules(),i=n.length,s=new Array(i*(i-1)),r=0,o=0,l=i-1;o<l;++o)for(var a=o+1;a<i;++a){var u=n[o],h=n[a];s[r]={id:r,nEdges:this.nEdges(u,h),a:u,b:h},r++}return s}greedyMerge(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var n=this.rootMerges(t).sort((s,r)=>s.nEdges==r.nEdges?s.id-r.id:s.nEdges-r.nEdges),i=n[0];if(!(i.nEdges>=this.R))return this.merge(i.a,i.b,t),!0}}nEdges(t,n){var i=t.incoming.intersection(n.incoming),s=t.outgoing.intersection(n.outgoing);return this.R-i.count()-s.count()}getGroupHierarchy(t){var n=[],i={};pu(this.roots[0],i,n);var s=this.allEdges();return s.forEach(r=>{var o=this.modules[r.source],l=this.modules[r.target];t.push(new du(typeof o.gid>"u"?r.source:n[o.gid],typeof l.gid>"u"?r.target:n[l.gid],r.type))}),n}allEdges(){var t=[];return cs.getEdges(this.roots[0],t),t}static getEdges(t,n){t.forAll(i=>{i.getEdges(n),cs.getEdges(i.children,n)})}}function pu(e,t,n){e.forAll(i=>{if(i.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(i.id);else{var s=t;if(i.gid=n.length,!i.isIsland()||i.isPredefined()){if(s={id:i.gid},i.isPredefined())for(var r in i.definition)s[r]=i.definition[r];t.groups||(t.groups=[]),t.groups.push(i.gid),n.push(s)}pu(i.children,s,n)}})}class Oi{constructor(t,n=new Pn,i=new Pn,s=new an,r){this.id=t,this.outgoing=n,this.incoming=i,this.children=s,this.definition=r}getEdges(t){this.outgoing.forAll((n,i)=>{n.forAll(s=>{t.push(new du(this.id,s.id,i))})})}isLeaf(){return this.children.count()===0}isIsland(){return this.outgoing.count()===0&&this.incoming.count()===0}isPredefined(){return typeof this.definition<"u"}}function Lg(e,t){var n={};for(var i in e)i in t&&(n[i]=e[i]);return n}class an{constructor(){this.table={}}count(){return Object.keys(this.table).length}intersection(t){var n=new an;return n.table=Lg(this.table,t.table),n}intersectionCount(t){return this.intersection(t).count()}contains(t){return t in this.table}add(t){this.table[t.id]=t}remove(t){delete this.table[t.id]}forAll(t){for(var n in this.table)t(this.table[n])}modules(){var t=[];return this.forAll(n=>{n.isPredefined()||t.push(n)}),t}}class Pn{constructor(){this.sets={},this.n=0}count(){return this.n}contains(t){var n=!1;return this.forAllModules(i=>{!n&&i.id==t&&(n=!0)}),n}add(t,n){var i=t in this.sets?this.sets[t]:this.sets[t]=new an;i.add(n),++this.n}remove(t,n){var i=this.sets[t];i.remove(n),i.count()===0&&delete this.sets[t],--this.n}forAll(t){for(var n in this.sets)t(this.sets[n],Number(n))}forAllModules(t){this.forAll((n,i)=>n.forAll(t))}intersection(t){var n=new Pn;return this.forAll((i,s)=>{if(s in t.sets){var r=i.intersection(t.sets[s]),o=r.count();o>0&&(n.sets[s]=r,n.n+=o)}}),n}}function Og(e,t,n,i){for(var s=e.length,r=new cs(s,t,n,i);r.greedyMerge(););var o=[],l=r.getGroupHierarchy(o);return o.forEach(function(a){var u=h=>{var c=a[h];typeof c=="number"&&(a[h]=e[c])};u("source"),u("target")}),{groups:l,powerEdges:o}}function gu(e,t){var n={};for(var i in e)n[i]={};for(var i in t)n[i]={};return Object.keys(n).length}function mu(e,t){var n=0;for(var i in e)typeof t[i]<"u"&&++n;return n}function Dg(e,t){var n={},i=(s,r)=>{typeof n[s]>"u"&&(n[s]={}),n[s][r]={}};return e.forEach(s=>{var r=t.getSourceIndex(s),o=t.getTargetIndex(s);i(r,o),i(o,r)}),n}function vu(e,t,n,i){var s=Dg(e,i);e.forEach(r=>{var o=s[i.getSourceIndex(r)],l=s[i.getTargetIndex(r)];i.setLength(r,1+t*n(o,l))})}function Rg(e,t,n=1){vu(e,n,(i,s)=>Math.sqrt(gu(i,s)-mu(i,s)),t)}function Fg(e,t,n=1){vu(e,n,(i,s)=>Math.min(Object.keys(i).length,Object.keys(s).length)<1.1?0:mu(i,s)/gu(i,s),t)}function Bg(e,t,n,i){var s=$g(e,t,i),r={};s.forEach((l,a)=>l.forEach(u=>r[u]=a));var o=[];return t.forEach(l=>{var a=i.getSourceIndex(l),u=i.getTargetIndex(l),h=r[a],c=r[u];h!==c&&o.push({axis:n,left:a,right:u,gap:i.getMinSeparation(l)})}),o}function $g(e,t,n){var i=[],s=0,r=[],o=[];function l(c){c.index=c.lowlink=s++,r.push(c),c.onStack=!0;for(var f of c.out)typeof f.index>"u"?(l(f),c.lowlink=Math.min(c.lowlink,f.lowlink)):f.onStack&&(c.lowlink=Math.min(c.lowlink,f.index));if(c.lowlink===c.index){for(var d=[];r.length&&(f=r.pop(),f.onStack=!1,d.push(f),f!==c););o.push(d.map(g=>g.id))}}for(var a=0;a<e;a++)i.push({id:a,out:[]});for(var u of t){let c=i[n.getSourceIndex(u)],f=i[n.getTargetIndex(u)];c.out.push(f)}for(var h of i)typeof h.index>"u"&&l(h);return o}class Hg{constructor(){this.locks={}}add(t,n){this.locks[t]=n}clear(){this.locks={}}isEmpty(){for(var t in this.locks)return!1;return!0}apply(t){for(var n in this.locks)t(Number(n),this.locks[n])}}const ye=class{constructor(e,t,n=null){this.D=t,this.G=n,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new zg,this.project=null,this.x=e,this.k=e.length;var i=this.n=e[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new Hg,this.minD=Number.MAX_VALUE;for(var s=i,r;s--;)for(r=i;--r>s;){var o=t[s][r];o>0&&o<this.minD&&(this.minD=o)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),s=this.k;s--;){for(this.g[s]=new Array(i),this.H[s]=new Array(i),r=i;r--;)this.H[s][r]=new Array(i);this.Hd[s]=new Array(i),this.a[s]=new Array(i),this.b[s]=new Array(i),this.c[s]=new Array(i),this.d[s]=new Array(i),this.e[s]=new Array(i),this.ia[s]=new Array(i),this.ib[s]=new Array(i),this.xtmp[s]=new Array(i)}}static createSquareMatrix(e,t){for(var n=new Array(e),i=0;i<e;++i){n[i]=new Array(e);for(var s=0;s<e;++s)n[i][s]=t(i,s)}return n}offsetDir(){for(var e=new Array(this.k),t=0,n=0;n<this.k;++n){var i=e[n]=this.random.getNextBetween(.01,1)-.5;t+=i*i}return t=Math.sqrt(t),e.map(s=>s*=this.minD/t)}computeDerivatives(e){const t=this.n;if(t<1)return;let n,i=new Array(this.k),s=new Array(this.k),r=new Array(this.k),o=0;for(let y=0;y<t;++y){for(n=0;n<this.k;++n)r[n]=this.g[n][y]=0;for(let x=0;x<t;++x){if(y===x)continue;let A=t,S=0;for(;A--;){for(S=0,n=0;n<this.k;++n){const z=i[n]=e[n][y]-e[n][x];S+=s[n]=z*z}if(S>1e-9)break;const B=this.offsetDir();for(n=0;n<this.k;++n)e[n][x]+=B[n]}const N=Math.sqrt(S),E=this.D[y][x];let T=this.G!=null?this.G[y][x]:1;if(T>1&&N>E||!isFinite(E)){for(n=0;n<this.k;++n)this.H[n][y][x]=0;continue}T>1&&(T=1);const C=E*E,D=2*T*(N-E)/(C*N),m=S*N,I=2*-T/(C*m);for(isFinite(D)||console.log(D),n=0;n<this.k;++n)this.g[n][y]+=i[n]*D,r[n]-=this.H[n][y][x]=I*(2*m+E*(s[n]-S))}for(n=0;n<this.k;++n)o=Math.max(o,this.H[n][y][y]=r[n])}for(var l=this.snapGridSize/2,a=this.snapGridSize,u=this.snapStrength,h=u/(l*l),c=this.numGridSnapNodes,f=0;f<c;++f)for(n=0;n<this.k;++n){var d=this.x[n][f],g=d/a,p=g%1,_=g-p,b=Math.abs(p),k=b<=.5?d-_*a:d>0?d-(_+1)*a:d-(_-1)*a;-l<k&&k<=l&&(this.scaleSnapByMaxH?(this.g[n][f]+=o*h*k,this.H[n][f][f]+=o*h):(this.g[n][f]+=h*k,this.H[n][f][f]+=h))}this.locks.isEmpty()||this.locks.apply((y,x)=>{for(n=0;n<this.k;++n)this.H[n][y][y]+=o,this.g[n][y]-=o*(x[n]-e[n][y])})}static dotProd(e,t){for(var n=0,i=e.length;i--;)n+=e[i]*t[i];return n}static rightMultiply(e,t,n){for(var i=e.length;i--;)n[i]=ye.dotProd(e[i],t)}computeStepSize(e){for(var t=0,n=0,i=0;i<this.k;++i)t+=ye.dotProd(this.g[i],e[i]),ye.rightMultiply(this.H[i],e[i],this.Hd[i]),n+=ye.dotProd(e[i],this.Hd[i]);return n===0||!isFinite(n)?0:1*t/n}reduceStress(){this.computeDerivatives(this.x);for(var e=this.computeStepSize(this.g),t=0;t<this.k;++t)this.takeDescentStep(this.x[t],this.g[t],e);return this.computeStress()}static copy(e,t){for(var n=e.length,i=t[0].length,s=0;s<n;++s)for(var r=0;r<i;++r)t[s][r]=e[s][r]}stepAndProject(e,t,n,i){ye.copy(e,t),this.takeDescentStep(t[0],n[0],i),this.project&&this.project[0](e[0],e[1],t[0]),this.takeDescentStep(t[1],n[1],i),this.project&&this.project[1](t[0],e[1],t[1]);for(var s=2;s<this.k;s++)this.takeDescentStep(t[s],n[s],i)}static mApply(e,t,n){for(var i=e;i-- >0;)for(var s=t;s-- >0;)n(i,s)}matrixApply(e){ye.mApply(this.k,this.n,e)}computeNextPosition(e,t){this.computeDerivatives(e);var n=this.computeStepSize(this.g);if(this.stepAndProject(e,t,this.g,n),this.project){this.matrixApply((s,r)=>this.e[s][r]=e[s][r]-t[s][r]);var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(e,t,this.e,i)}}run(e){for(var t=Number.MAX_VALUE,n=!1;!n&&e-- >0;){var i=this.rungeKutta();n=Math.abs(t/i-1)<this.threshold,t=i}return t}rungeKutta(){this.computeNextPosition(this.x,this.a),ye.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),ye.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var e=0;return this.matrixApply((t,n)=>{var i=(this.a[t][n]+2*this.b[t][n]+2*this.c[t][n]+this.d[t][n])/6,s=this.x[t][n]-i;e+=s*s,this.x[t][n]=i}),e}static mid(e,t,n){ye.mApply(e.length,e[0].length,(i,s)=>n[i][s]=e[i][s]+(t[i][s]-e[i][s])/2)}takeDescentStep(e,t,n){for(var i=0;i<this.n;++i)e[i]=e[i]-n*t[i]}computeStress(){for(var e=0,t=0,n=this.n-1;t<n;++t)for(var i=t+1,s=this.n;i<s;++i){for(var r=0,o=0;o<this.k;++o){var l=this.x[o][t]-this.x[o][i];r+=l*l}r=Math.sqrt(r);var a=this.D[t][i];if(isFinite(a)){var u=a-r,h=a*a;e+=u*u/h}}return e}};let Zn=ye;Zn.zeroDistance=1e-10;class zg{constructor(t=1){this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}getNext(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range}getNextBetween(t,n){return t+this.getNext()*(n-t)}}class Ug{constructor(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}addVariable(t){var n=this.scale/t.scale,i=t.offset/t.scale,s=t.weight;this.AB+=s*n*i,this.AD+=s*n*t.desiredPosition,this.A2+=s*n*n}getPosn(){return(this.AD-this.AB)/this.A2}}class hs{constructor(t,n,i,s=!1){this.left=t,this.right=n,this.gap=i,this.equality=s,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=n,this.gap=i,this.equality=s}slack(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()}}class _u{constructor(t,n=1,i=1){this.desiredPosition=t,this.weight=n,this.scale=i,this.offset=0}dfdv(){return 2*this.weight*(this.position()-this.desiredPosition)}position(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale}visitNeighbours(t,n){var i=(s,r)=>s.active&&t!==r&&n(s,r);this.cOut.forEach(s=>i(s,s.right)),this.cIn.forEach(s=>i(s,s.left))}}class sn{constructor(t){this.vars=[],t.offset=0,this.ps=new Ug(t.scale),this.addVariable(t)}addVariable(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()}updateWeightedPosition(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,n=this.vars.length;t<n;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()}compute_lm(t,n,i){var s=t.dfdv();return t.visitNeighbours(n,(r,o)=>{var l=this.compute_lm(o,t,i);o===r.right?(s+=l*r.left.scale,r.lm=l):(s+=l*r.right.scale,r.lm=-l),i(r)}),s/t.scale}populateSplitBlock(t,n){t.visitNeighbours(n,(i,s)=>{s.offset=t.offset+(s===i.right?i.gap:-i.gap),this.addVariable(s),this.populateSplitBlock(s,t)})}traverse(t,n,i=this.vars[0],s=null){i.visitNeighbours(s,(r,o)=>{n.push(t(r)),this.traverse(t,n,o,i)})}findMinLM(){var t=null;return this.compute_lm(this.vars[0],null,n=>{!n.equality&&(t===null||n.lm<t.lm)&&(t=n)}),t}findMinLMBetween(t,n){this.compute_lm(t,null,()=>{});var i=null;return this.findPath(t,null,n,(s,r)=>{!s.equality&&s.right===r&&(i===null||s.lm<i.lm)&&(i=s)}),i}findPath(t,n,i,s){var r=!1;return t.visitNeighbours(n,(o,l)=>{!r&&(l===i||this.findPath(l,t,i,s))&&(r=!0,s(o,l))}),r}isActiveDirectedPathBetween(t,n){if(t===n)return!0;for(var i=t.cOut.length;i--;){var s=t.cOut[i];if(s.active&&this.isActiveDirectedPathBetween(s.right,n))return!0}return!1}static split(t){return t.active=!1,[sn.createSplitBlock(t.left),sn.createSplitBlock(t.right)]}static createSplitBlock(t){var n=new sn(t);return n.populateSplitBlock(t,null),n}splitBetween(t,n){var i=this.findMinLMBetween(t,n);if(i!==null){var s=sn.split(i);return{constraint:i,lb:s[0],rb:s[1]}}return null}mergeAcross(t,n,i){n.active=!0;for(var s=0,r=t.vars.length;s<r;++s){var o=t.vars[s];o.offset+=i,this.addVariable(o)}this.posn=this.ps.getPosn()}cost(){for(var t=0,n=this.vars.length;n--;){var i=this.vars[n],s=i.position()-i.desiredPosition;t+=s*s*i.weight}return t}}class ml{constructor(t){this.vs=t;var n=t.length;for(this.list=new Array(n);n--;){var i=new sn(t[n]);this.list[n]=i,i.blockInd=n}}cost(){for(var t=0,n=this.list.length;n--;)t+=this.list[n].cost();return t}insert(t){t.blockInd=this.list.length,this.list.push(t)}remove(t){var n=this.list.length-1,i=this.list[n];this.list.length=n,t!==i&&(this.list[t.blockInd]=i,i.blockInd=t.blockInd)}merge(t){var n=t.left.block,i=t.right.block,s=t.right.offset-t.left.offset-t.gap;n.vars.length<i.vars.length?(i.mergeAcross(n,t,s),this.remove(n)):(n.mergeAcross(i,t,-s),this.remove(i))}forEach(t){this.list.forEach(t)}updateBlockPositions(){this.list.forEach(t=>t.updateWeightedPosition())}split(t){this.updateBlockPositions(),this.list.forEach(n=>{var i=n.findMinLM();i!==null&&i.lm<bi.LAGRANGIAN_TOLERANCE&&(n=i.left.block,sn.split(i).forEach(s=>this.insert(s)),this.remove(n),t.push(i))})}}const Nr=class{constructor(e,t){this.vs=e,this.cs=t,this.vs=e,e.forEach(n=>{n.cIn=[],n.cOut=[]}),this.cs=t,t.forEach(n=>{n.left.cOut.push(n),n.right.cIn.push(n)}),this.inactive=t.map(n=>(n.active=!1,n)),this.bs=null}cost(){return this.bs.cost()}setStartingPositions(e){this.inactive=this.cs.map(t=>(t.active=!1,t)),this.bs=new ml(this.vs),this.bs.forEach((t,n)=>t.posn=e[n])}setDesiredPositions(e){this.vs.forEach((t,n)=>t.desiredPosition=e[n])}mostViolated(){for(var e=Number.MAX_VALUE,t=null,n=this.inactive,i=n.length,s=i,r=0;r<i;++r){var o=n[r];if(!o.unsatisfiable){var l=o.slack();if((o.equality||l<e)&&(e=l,t=o,s=r,o.equality))break}}return s!==i&&(e<Nr.ZERO_UPPERBOUND&&!t.active||t.equality)&&(n[s]=n[i-1],n.length=i-1),t}satisfy(){this.bs==null&&(this.bs=new ml(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<Nr.ZERO_UPPERBOUND&&!e.active);){var t=e.left.block,n=e.right.block;if(t!==n)this.bs.merge(e);else{if(t.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var i=t.splitBetween(e.left,e.right);if(i!==null)this.bs.insert(i.lb),this.bs.insert(i.rb),this.bs.remove(t),this.inactive.push(i.constraint);else{e.unsatisfiable=!0;continue}e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}}solve(){this.satisfy();for(var e=Number.MAX_VALUE,t=this.bs.cost();Math.abs(e-t)>1e-4;)this.satisfy(),e=t,t=this.bs.cost();return t}};let bi=Nr;bi.LAGRANGIAN_TOLERANCE=-1e-4;bi.ZERO_UPPERBOUND=-1e-10;class Vg{constructor(){this.findIter=function(t){for(var n=this._root,i=this.iterator();n!==null;){var s=this._comparator(t,n.data);if(s===0)return i._cursor=n,i;i._ancestors.push(n),n=n.get_child(s>0)}return null}}clear(){this._root=null,this.size=0}find(t){for(var n=this._root;n!==null;){var i=this._comparator(t,n.data);if(i===0)return n.data;n=n.get_child(i>0)}return null}lowerBound(t){return this._bound(t,this._comparator)}upperBound(t){var n=this._comparator;function i(s,r){return n(r,s)}return this._bound(t,i)}min(){var t=this._root;if(t===null)return null;for(;t.left!==null;)t=t.left;return t.data}max(){var t=this._root;if(t===null)return null;for(;t.right!==null;)t=t.right;return t.data}iterator(){return new Xg(this)}each(t){for(var n=this.iterator(),i;(i=n.next())!==null;)t(i)}reach(t){for(var n=this.iterator(),i;(i=n.prev())!==null;)t(i)}_bound(t,n){for(var i=this._root,s=this.iterator();i!==null;){var r=this._comparator(t,i.data);if(r===0)return s._cursor=i,s;s._ancestors.push(i),i=i.get_child(r>0)}for(var o=s._ancestors.length-1;o>=0;--o)if(i=s._ancestors[o],n(t,i.data)>0)return s._cursor=i,s._ancestors.length=o,s;return s._ancestors.length=0,s}}class Xg{constructor(t){this._tree=t,this._ancestors=[],this._cursor=null}data(){return this._cursor!==null?this._cursor.data:null}next(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._minNode(t)}else if(this._cursor.right===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===n)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null}prev(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._maxNode(t)}else if(this._cursor.left===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===n)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null}_minNode(t){for(;t.left!==null;)this._ancestors.push(t),t=t.left;this._cursor=t}_maxNode(t){for(;t.right!==null;)this._ancestors.push(t),t=t.right;this._cursor=t}}let Di=class{constructor(t){this.data=t,this.left=null,this.right=null,this.red=!0}get_child(t){return t?this.right:this.left}set_child(t,n){t?this.right=n:this.left=n}};class Et extends Vg{constructor(t){super(),this._root=null,this._comparator=t,this.size=0}insert(t){var n=!1;if(this._root===null)this._root=new Di(t),n=!0,this.size++;else{var i=new Di(void 0),s=!1,r=!1,o=null,l=i,a=null,u=this._root;for(l.right=this._root;;){if(u===null?(u=new Di(t),a.set_child(s,u),n=!0,this.size++):Et.is_red(u.left)&&Et.is_red(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1),Et.is_red(u)&&Et.is_red(a)){var h=l.right===o;u===a.get_child(r)?l.set_child(h,Et.single_rotate(o,!r)):l.set_child(h,Et.double_rotate(o,!r))}var c=this._comparator(u.data,t);if(c===0)break;r=s,s=c<0,o!==null&&(l=o),o=a,a=u,u=u.get_child(s)}this._root=i.right}return this._root.red=!1,n}remove(t){if(this._root===null)return!1;var n=new Di(void 0),i=n;i.right=this._root;for(var s=null,r=null,o=null,l=!0;i.get_child(l)!==null;){var a=l;r=s,s=i,i=i.get_child(l);var u=this._comparator(t,i.data);if(l=u>0,u===0&&(o=i),!Et.is_red(i)&&!Et.is_red(i.get_child(l))){if(Et.is_red(i.get_child(!l))){var h=Et.single_rotate(i,l);s.set_child(a,h),s=h}else if(!Et.is_red(i.get_child(!l))){var c=s.get_child(!a);if(c!==null)if(!Et.is_red(c.get_child(!a))&&!Et.is_red(c.get_child(a)))s.red=!1,c.red=!0,i.red=!0;else{var f=r.right===s;Et.is_red(c.get_child(a))?r.set_child(f,Et.double_rotate(s,a)):Et.is_red(c.get_child(!a))&&r.set_child(f,Et.single_rotate(s,a));var d=r.get_child(f);d.red=!0,i.red=!0,d.left.red=!1,d.right.red=!1}}}}return o!==null&&(o.data=i.data,s.set_child(s.right===i,i.get_child(i.left===null)),this.size--),this._root=n.right,this._root!==null&&(this._root.red=!1),o!==null}static is_red(t){return t!==null&&t.red}static single_rotate(t,n){var i=t.get_child(!n);return t.set_child(!n,i.get_child(n)),i.set_child(n,t),t.red=!0,i.red=!1,i}static double_rotate(t,n){return t.set_child(!n,Et.single_rotate(t.get_child(!n),!n)),Et.single_rotate(t,n)}}function Ji(e){return e.bounds=typeof e.leaves<"u"?e.leaves.reduce((t,n)=>n.bounds.union(t),Gt.empty()):Gt.empty(),typeof e.groups<"u"&&(e.bounds=e.groups.reduce((t,n)=>Ji(n).union(t),e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}class Gt{constructor(t,n,i,s){this.x=t,this.X=n,this.y=i,this.Y=s}static empty(){return new Gt(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}cx(){return(this.x+this.X)/2}cy(){return(this.y+this.Y)/2}overlapX(t){var n=this.cx(),i=t.cx();return n<=i&&t.x<this.X?this.X-t.x:i<=n&&this.x<t.X?t.X-this.x:0}overlapY(t){var n=this.cy(),i=t.cy();return n<=i&&t.y<this.Y?this.Y-t.y:i<=n&&this.y<t.Y?t.Y-this.y:0}setXCentre(t){var n=t-this.cx();this.x+=n,this.X+=n}setYCentre(t){var n=t-this.cy();this.y+=n,this.Y+=n}width(){return this.X-this.x}height(){return this.Y-this.y}union(t){return new Gt(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))}lineIntersections(t,n,i,s){for(var r=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],o=[],l=0;l<4;++l){var a=Gt.lineIntersection(t,n,i,s,r[l][0],r[l][1],r[l][2],r[l][3]);a!==null&&o.push({x:a.x,y:a.y})}return o}rayIntersection(t,n){var i=this.lineIntersections(this.cx(),this.cy(),t,n);return i.length>0?i[0]:null}vertices(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]}static lineIntersection(t,n,i,s,r,o,l,a){var u=i-t,h=l-r,c=s-n,f=a-o,d=f*u-h*c;if(d==0)return null;var g=t-r,p=n-o,_=h*p-f*g,b=_/d,k=u*p-c*g,y=k/d;return b>=0&&b<=1&&y>=0&&y<=1?{x:t+b*u,y:n+b*c}:null}inflate(t){return new Gt(this.x-t,this.X+t,this.y-t,this.Y+t)}}function qg(e,t,n){const i=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},s=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},r=s.x-i.x,o=s.y-i.y,l=Math.sqrt(r*r+o*o),a=l-n;return{sourceIntersection:i,targetIntersection:s,arrowStart:{x:i.x+a*r/l,y:i.y+a*o/l}}}function Yg(e,t,n){var i=t.rayIntersection(e.x,e.y);i||(i={x:t.cx(),y:t.cy()});var s=i.x-e.x,r=i.y-e.y,o=Math.sqrt(s*s+r*r);return{x:i.x-n*s/o,y:i.y-n*r/o}}let Kg=class{constructor(t,n,i){this.v=t,this.r=n,this.pos=i,this.prev=Mr(),this.next=Mr()}},vl=class{constructor(t,n,i){this.isOpen=t,this.v=n,this.pos=i}};function Gg(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function Mr(){return new Et((e,t)=>e.pos-t.pos)}var Wg={getCentre:e=>e.cx(),getOpen:e=>e.y,getClose:e=>e.Y,getSize:e=>e.width(),makeRect:(e,t,n,i)=>new Gt(n-i/2,n+i/2,e,t),findNeighbours:Qg},Jg={getCentre:e=>e.cy(),getOpen:e=>e.x,getClose:e=>e.X,getSize:e=>e.height(),makeRect:(e,t,n,i)=>new Gt(e,t,n-i/2,n+i/2),findNeighbours:jg};function ro(e,t,n,i=!1){var s=e.padding,r=typeof e.groups<"u"?e.groups.length:0,o=typeof e.leaves<"u"?e.leaves.length:0,l=r?e.groups.reduce((A,S)=>A.concat(ro(S,t,n,!0)),[]):[],a=(i?2:0)+o+r,u=new Array(a),h=new Array(a),c=0,f=(A,S)=>{h[c]=A,u[c++]=S};if(i){var d=e.bounds,g=t.getCentre(d),p=t.getSize(d)/2,_=t.getOpen(d),b=t.getClose(d),k=g-p+s/2,y=g+p-s/2;e.minVar.desiredPosition=k,f(t.makeRect(_,b,k,s),e.minVar),e.maxVar.desiredPosition=y,f(t.makeRect(_,b,y,s),e.maxVar)}o&&e.leaves.forEach(A=>f(A.bounds,A.variable)),r&&e.groups.forEach(A=>{var S=A.bounds;f(t.makeRect(t.getOpen(S),t.getClose(S),t.getCentre(S),t.getSize(S)),A.minVar)});var x=Zg(h,u,t,n);return r&&(u.forEach(A=>{A.cOut=[],A.cIn=[]}),x.forEach(A=>{A.left.cOut.push(A),A.right.cIn.push(A)}),e.groups.forEach(A=>{var S=(A.padding-t.getSize(A.bounds))/2;A.minVar.cIn.forEach(N=>N.gap+=S),A.minVar.cOut.forEach(N=>{N.left=A.maxVar,N.gap+=S})})),l.concat(x)}function Zg(e,t,n,i){var s,r=e.length,o=2*r;console.assert(t.length>=r);var l=new Array(o);for(s=0;s<r;++s){var a=e[s],u=new Kg(t[s],a,n.getCentre(a));l[s]=new vl(!0,u,n.getOpen(a)),l[s+r]=new vl(!1,u,n.getClose(a))}l.sort(Gg);var h=new Array,c=Mr();for(s=0;s<o;++s){var f=l[s],u=f.v;if(f.isOpen)c.insert(u),n.findNeighbours(u,c);else{c.remove(u);var d=(_,b)=>{var k=(n.getSize(_.r)+n.getSize(b.r))/2+i;h.push(new hs(_.v,b.v,k))},g=(_,b,k)=>{for(var y,x=u[_].iterator();(y=x[_]())!==null;)k(y,u),y[b].remove(u)};g("prev","next",(_,b)=>d(_,b)),g("next","prev",(_,b)=>d(b,_))}}return console.assert(c.size===0),h}function Qg(e,t){var n=(i,s)=>{for(var r=t.findIter(e),o;(o=r[i]())!==null;){var l=o.r.overlapX(e.r);if((l<=0||l<=o.r.overlapY(e.r))&&(e[i].insert(o),o[s].insert(e)),l<=0)break}};n("next","prev"),n("prev","next")}function jg(e,t){var n=(i,s)=>{var r=t.findIter(e)[i]();r!==null&&r.r.overlapX(e.r)>0&&(e[i].insert(r),r[s].insert(e))};n("next","prev"),n("prev","next")}function t0(e){return ro(e,Wg,1e-6)}function e0(e){return ro(e,Jg,1e-6)}class Zs extends _u{constructor(t,n){super(0,n),this.index=t}}class _l{constructor(t,n,i=null,s=null,r=!1){if(this.nodes=t,this.groups=n,this.rootGroup=i,this.avoidOverlaps=r,this.variables=t.map((l,a)=>l.variable=new Zs(a,1)),s&&this.createConstraints(s),r&&i&&typeof i.groups<"u"){t.forEach(l=>{if(!l.width||!l.height){l.bounds=new Gt(l.x,l.x,l.y,l.y);return}var a=l.width/2,u=l.height/2;l.bounds=new Gt(l.x-a,l.x+a,l.y-u,l.y+u)}),Ji(i);var o=t.length;n.forEach(l=>{this.variables[o]=l.minVar=new Zs(o++,typeof l.stiffness<"u"?l.stiffness:.01),this.variables[o]=l.maxVar=new Zs(o++,typeof l.stiffness<"u"?l.stiffness:.01)})}}createSeparation(t){return new hs(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,typeof t.equality<"u"?t.equality:!1)}makeFeasible(t){if(this.avoidOverlaps){var n="x",i="width";t.axis==="x"&&(n="y",i="height");var s=t.offsets.map(o=>this.nodes[o.node]).sort((o,l)=>o[n]-l[n]),r=null;s.forEach(o=>{if(r){let l=r[n]+r[i];l>o[n]&&(o[n]=l)}r=o})}}createAlignment(t){var n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var i=t.axis==="x"?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(s=>{var r=this.nodes[s.node].variable;i.push(new hs(n,r,s.offset,!0))})}createConstraints(t){var n=i=>typeof i.type>"u"||i.type==="separation";this.xConstraints=t.filter(i=>i.axis==="x"&&n(i)).map(i=>this.createSeparation(i)),this.yConstraints=t.filter(i=>i.axis==="y"&&n(i)).map(i=>this.createSeparation(i)),t.filter(i=>i.type==="alignment").forEach(i=>this.createAlignment(i))}setupVariablesAndBounds(t,n,i,s){this.nodes.forEach((r,o)=>{r.fixed?(r.variable.weight=r.fixedWeight?r.fixedWeight:1e3,i[o]=s(r)):r.variable.weight=1;var l=(r.width||0)/2,a=(r.height||0)/2,u=t[o],h=n[o];r.bounds=new Gt(u-l,u+l,h-a,h+a)})}xProject(t,n,i){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(t,n,t,i,s=>s.px,this.xConstraints,t0,s=>s.bounds.setXCentre(i[s.variable.index]=s.variable.position()),s=>{var r=i[s.minVar.index]=s.minVar.position(),o=i[s.maxVar.index]=s.maxVar.position(),l=s.padding/2;s.bounds.x=r-l,s.bounds.X=o+l})}yProject(t,n,i){!this.rootGroup&&!this.yConstraints||this.project(t,n,n,i,s=>s.py,this.yConstraints,e0,s=>s.bounds.setYCentre(i[s.variable.index]=s.variable.position()),s=>{var r=i[s.minVar.index]=s.minVar.position(),o=i[s.maxVar.index]=s.maxVar.position(),l=s.padding/2;s.bounds.y=r-l,s.bounds.Y=o+l})}projectFunctions(){return[(t,n,i)=>this.xProject(t,n,i),(t,n,i)=>this.yProject(t,n,i)]}project(t,n,i,s,r,o,l,a,u){this.setupVariablesAndBounds(t,n,s,r),this.rootGroup&&this.avoidOverlaps&&(Ji(this.rootGroup),o=o.concat(l(this.rootGroup))),this.solve(this.variables,o,i,s),this.nodes.forEach(a),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(u),Ji(this.rootGroup))}solve(t,n,i,s){var r=new bi(t,n);r.setStartingPositions(i),r.setDesiredPositions(s),r.solve()}}class ti{constructor(t){this.elem=t,this.subheaps=[]}toString(t){for(var n="",i=!1,s=0;s<this.subheaps.length;++s){var r=this.subheaps[s];if(!r.elem){i=!1;continue}i&&(n=n+","),n=n+r.toString(t),i=!0}return n!==""&&(n="("+n+")"),(this.elem?t(this.elem):"")+n}forEach(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(n=>n.forEach(t)))}count(){return this.empty()?0:1+this.subheaps.reduce((t,n)=>t+n.count(),0)}min(){return this.elem}empty(){return this.elem==null}contains(t){if(this===t)return!0;for(var n=0;n<this.subheaps.length;n++)if(this.subheaps[n].contains(t))return!0;return!1}isHeap(t){return this.subheaps.every(n=>t(this.elem,n.elem)&&n.isHeap(t))}insert(t,n){return this.merge(new ti(t),n)}merge(t,n){return this.empty()?t:t.empty()?this:n(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)}removeMin(t){return this.empty()?null:this.mergePairs(t)}mergePairs(t){if(this.subheaps.length==0)return new ti(null);if(this.subheaps.length==1)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),t),i=this.mergePairs(t);return n.merge(i,t)}decreaseKey(t,n,i,s){var r=t.removeMin(s);t.elem=r.elem,t.subheaps=r.subheaps,i!==null&&r.elem!==null&&i(t.elem,t);var o=new ti(n);return i!==null&&i(n,o),this.merge(o,s)}}class yl{constructor(t){this.lessThan=t}top(){return this.empty()?null:this.root.elem}push(...t){for(var n,i=0,s;s=t[i];++i)n=new ti(s),this.root=this.empty()?n:this.root.merge(n,this.lessThan);return n}empty(){return!this.root||!this.root.elem}isHeap(){return this.root.isHeap(this.lessThan)}forEach(t){this.root.forEach(t)}pop(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t}reduceKey(t,n,i=null){this.root=this.root.decreaseKey(t,n,i,this.lessThan)}toString(t){return this.root.toString(t)}count(){return this.root.count()}}class bl{constructor(t,n){this.id=t,this.distance=n}}class n0{constructor(t){this.id=t,this.neighbours=[]}}class xl{constructor(t,n,i){this.node=t,this.prev=n,this.d=i}}class Sr{constructor(t,n,i,s,r){this.n=t,this.es=n,this.neighbours=new Array(this.n);for(var o=this.n;o--;)this.neighbours[o]=new n0(o);for(o=this.es.length;o--;){var l=this.es[o],a=i(l),u=s(l),h=r(l);this.neighbours[a].neighbours.push(new bl(u,h)),this.neighbours[u].neighbours.push(new bl(a,h))}}DistanceMatrix(){for(var t=new Array(this.n),n=0;n<this.n;++n)t[n]=this.dijkstraNeighbours(n);return t}DistancesFromNode(t){return this.dijkstraNeighbours(t)}PathFromNodeToNode(t,n){return this.dijkstraNeighbours(t,n)}PathFromNodeToNodeWithPrevCost(t,n,i){var s=new yl((p,_)=>p.d<=_.d),r=this.neighbours[t],o=new xl(r,null,0),l={};for(s.push(o);!s.empty()&&(o=s.pop(),r=o.node,r.id!==n);)for(var a=r.neighbours.length;a--;){var u=r.neighbours[a],h=this.neighbours[u.id];if(!(o.prev&&h.id===o.prev.node.id)){var c=h.id+","+r.id;if(!(c in l&&l[c]<=o.d)){var f=o.prev?i(o.prev.node.id,r.id,h.id):0,d=o.d+u.distance+f;l[c]=d,s.push(new xl(h,o,d))}}}for(var g=[];o.prev;)o=o.prev,g.push(o.node.id);return g}dijkstraNeighbours(t,n=-1){for(var i=new yl((f,d)=>f.d<=d.d),s=this.neighbours.length,r=new Array(s);s--;){var o=this.neighbours[s];o.d=s===t?0:Number.POSITIVE_INFINITY,o.q=i.push(o)}for(;!i.empty();){var l=i.pop();if(r[l.id]=l.d,l.id===n){for(var a=[],u=l;typeof u.prev<"u";)a.push(u.prev.id),u=u.prev;return a}for(s=l.neighbours.length;s--;){var h=l.neighbours[s],u=this.neighbours[h.id],c=l.d+h.distance;l.d!==Number.MAX_VALUE&&u.d>c&&(u.d=c,u.prev=l,i.reduceKey(u.q,u,(d,g)=>d.q=g))}}return r}}class i0{constructor(t,n,i,s){this.x1=t,this.y1=n,this.x2=i,this.y2=s}}function Be(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function ze(e,t,n){return Be(e,t,n)>0}function Ue(e,t,n){return Be(e,t,n)<0}function s0(e,t){let n=t.slice(0);return n.push(t[0]),{rtan:r0(e,n),ltan:o0(e,n)}}function r0(e,t){var n=t.length-1,i,s,r,o,l;if(Ue(e,t[1],t[0])&&!ze(e,t[n-1],t[0]))return 0;for(i=0,s=n;;){if(s-i===1)return ze(e,t[i],t[s])?i:s;if(r=Math.floor((i+s)/2),l=Ue(e,t[r+1],t[r]),l&&!ze(e,t[r-1],t[r]))return r;o=ze(e,t[i+1],t[i]),o?l||ze(e,t[i],t[r])?s=r:i=r:l&&Ue(e,t[i],t[r])?s=r:i=r}}function o0(e,t){var n=t.length-1,i,s,r,o,l;if(ze(e,t[n-1],t[0])&&!Ue(e,t[1],t[0]))return 0;for(i=0,s=n;;){if(s-i===1)return Ue(e,t[i],t[s])?i:s;if(r=Math.floor((i+s)/2),l=Ue(e,t[r+1],t[r]),ze(e,t[r-1],t[r])&&!l)return r;o=Ue(e,t[i+1],t[i]),o?l?Ue(e,t[i],t[r])?s=r:i=r:s=r:l?i=r:ze(e,t[i],t[r])?s=r:i=r}}class Ri{constructor(t,n){this.t1=t,this.t2=n}}class l0{}class wl{constructor(t,n,i,s){this.id=t,this.polyid=n,this.polyvertid=i,this.p=s,s.vv=this}}class Qs{constructor(t,n){this.source=t,this.target=n}length(){var t=this.source.p.x-this.target.p.x,n=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+n*n)}}class kl{constructor(t,n){if(this.P=t,this.V=[],this.E=[],n)this.V=n.V.slice(0),this.E=n.E.slice(0);else{for(var i=t.length,s=0;s<i;s++){for(var r=t[s],o=0;o<r.length;++o){var l=r[o],a=new wl(this.V.length,s,o,l);this.V.push(a),o>0&&this.E.push(new Qs(r[o-1].vv,a))}r.length>1&&this.E.push(new Qs(r[0].vv,r[r.length-1].vv))}for(var s=0;s<i-1;s++)for(var u=t[s],o=s+1;o<i;o++){var h=t[o],c=u0(u,h);for(var f in c){var d=c[f],g=u[d.t1],p=h[d.t2];this.addEdgeIfVisible(g,p,s,o)}}}}addEdgeIfVisible(t,n,i,s){this.intersectsPolys(new i0(t.x,t.y,n.x,n.y),i,s)||this.E.push(new Qs(t.vv,n.vv))}addPoint(t,n){var i=this.P.length;this.V.push(new wl(this.V.length,i,0,t));for(var s=0;s<i;++s)if(s!==n){var r=this.P[s],o=s0(t,r);this.addEdgeIfVisible(t,r[o.ltan],n,s),this.addEdgeIfVisible(t,r[o.rtan],n,s)}return t.vv}intersectsPolys(t,n,i){for(var s=0,r=this.P.length;s<r;++s)if(s!=n&&s!=i&&a0(t,this.P[s]).length>0)return!0;return!1}}function a0(e,t){for(var n=[],i=1,s=t.length;i<s;++i){var r=Gt.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[i-1].x,t[i-1].y,t[i].x,t[i].y);r&&n.push(r)}return n}function u0(e,t){for(var n=e.length-1,i=t.length-1,s=new l0,r=0;r<=n;++r)for(var o=0;o<=i;++o){var l=e[r==0?n:r-1],a=e[r],u=e[r==n?0:r+1],h=t[o==0?i:o-1],c=t[o],f=t[o==i?0:o+1],d=Be(l,a,c),g=Be(a,h,c),p=Be(a,c,f),_=Be(h,c,a),b=Be(c,l,a),k=Be(c,a,u);d>=0&&g>=0&&p<0&&_>=0&&b>=0&&k<0?s.ll=new Ri(r,o):d<=0&&g<=0&&p>0&&_<=0&&b<=0&&k>0?s.rr=new Ri(r,o):d<=0&&g>0&&p<=0&&_>=0&&b<0&&k>=0?s.rl=new Ri(r,o):d>=0&&g<0&&p>=0&&_<=0&&b>0&&k<=0&&(s.lr=new Ri(r,o))}return s}var ie={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function c0(e,t,n,c,h=1,r=!0){var o=0,l=0,a=t,u=n,h=typeof h<"u"?h:1,c=typeof c<"u"?c:0,f=0,d=0,g=0,p=0,_=[];if(e.length==0)return;b(e),y(e),r&&k(e);function b(E){E.forEach(function(C){T(C)});function T(C){var D=Number.MAX_VALUE,m=Number.MAX_VALUE,I=0,B=0;C.array.forEach(function(z){var V=typeof z.width<"u"?z.width:c,$=typeof z.height<"u"?z.height:c;V/=2,$/=2,I=Math.max(z.x+V,I),D=Math.min(z.x-V,D),B=Math.max(z.y+$,B),m=Math.min(z.y-$,m)}),C.width=I-D,C.height=B-m}}function k(E){E.forEach(function(T){var C={x:0,y:0};T.array.forEach(function(I){C.x+=I.x,C.y+=I.y}),C.x/=T.array.length,C.y/=T.array.length;var D={x:C.x-T.width/2,y:C.y-T.height/2},m={x:T.x-D.x+a/2-f/2,y:T.y-D.y+u/2-d/2};T.array.forEach(function(I){I.x+=m.x,I.y+=m.y})})}function y(E,T){var C=Number.POSITIVE_INFINITY,D=0;E.sort(function(pt,St){return St.height-pt.height}),g=E.reduce(function(pt,St){return pt.width<St.width?pt.width:St.width});for(var m=st=g,I=ct=S(E),B=0,z=Number.MAX_VALUE,V=Number.MAX_VALUE,$=-1,F=Number.MAX_VALUE,lt=Number.MAX_VALUE;F>g||lt>ie.FLOAT_EPSILON;){if($!=1)var st=I-(I-m)/ie.GOLDEN_SECTION,z=x(E,st);if($!=0)var ct=m+(I-m)/ie.GOLDEN_SECTION,V=x(E,ct);if(F=Math.abs(st-ct),lt=Math.abs(z-V),z<C&&(C=z,D=st),V<C&&(C=V,D=ct),z>V?(m=st,st=ct,z=V,$=1):(I=ct,ct=st,V=z,$=0),B++>100)break}x(E,D)}function x(E,T){_=[],f=0,d=0,p=l;for(var C=0;C<E.length;C++){var D=E[C];A(D,T)}return Math.abs(N()-h)}function A(E,T){for(var C=void 0,D=0;D<_.length;D++)if(_[D].space_left>=E.height&&_[D].x+_[D].width+E.width+ie.PADDING-T<=ie.FLOAT_EPSILON){C=_[D];break}_.push(E),C!==void 0?(E.x=C.x+C.width+ie.PADDING,E.y=C.bottom,E.space_left=E.height,E.bottom=E.y,C.space_left-=E.height+ie.PADDING,C.bottom+=E.height+ie.PADDING):(E.y=p,p+=E.height+ie.PADDING,E.x=o,E.bottom=E.y,E.space_left=E.height),E.y+E.height-d>-ie.FLOAT_EPSILON&&(d=E.y+E.height-l),E.x+E.width-f>-ie.FLOAT_EPSILON&&(f=E.x+E.width-o)}function S(E){var T=0;return E.forEach(function(C){return T+=C.width+ie.PADDING}),T}function N(){return f/d}}function h0(e,t){for(var n={},i={},s=[],r=0,o=0;o<t.length;o++){var l=t[o],a=l.source,u=l.target;i[a.index]?i[a.index].push(u):i[a.index]=[u],i[u.index]?i[u.index].push(a):i[u.index]=[a]}for(var o=0;o<e.length;o++){var h=e[o];n[h.index]||c(h,!0)}function c(f,d){if(n[f.index]===void 0){d&&(r++,s.push({array:[]})),n[f.index]=r,s[r-1].array.push(f);var g=i[f.index];if(g)for(var p=0;p<g.length;p++)c(g[p],!1)}}return s}var yu=(e=>(e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end",e))(yu||{});function Fi(e){return typeof e.leaves<"u"||typeof e.groups<"u"}class Ct{constructor(){this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:Ct.getSourceIndex,getTargetIndex:Ct.getTargetIndex,setLength:Ct.setLinkLength,getType:t=>typeof this._linkType=="function"?this._linkType(t):0}}on(t,n){return this.event||(this.event={}),typeof t=="string"?this.event[yu[t]]=n:this.event[t]=n,this}trigger(t){this.event&&typeof this.event[t.type]<"u"&&this.event[t.type](t)}kick(){for(;!this.tick(););}tick(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:2,alpha:this._alpha=0,stress:this._lastStress}),!0;const t=this._nodes.length;this._links.length;let n,i;for(this._descent.locks.clear(),i=0;i<t;++i)if(n=this._nodes[i],n.fixed){(typeof n.px>"u"||typeof n.py>"u")&&(n.px=n.x,n.py=n.y);var s=[n.px,n.py];this._descent.locks.add(i,s)}let r=this._descent.rungeKutta();return r===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=r),this._lastStress=r,this.updateNodePositions(),this.trigger({type:1,alpha:this._alpha,stress:this._lastStress}),!1}updateNodePositions(){const t=this._descent.x[0],n=this._descent.x[1];let i,s=this._nodes.length;for(;s--;)i=this._nodes[s],i.x=t[s],i.y=n[s]}nodes(t){if(!t){if(this._nodes.length===0&&this._links.length>0){var n=0;this._links.forEach(function(s){n=Math.max(n,s.source,s.target)}),this._nodes=new Array(++n);for(var i=0;i<n;++i)this._nodes[i]={}}return this._nodes}return this._nodes=t,this}groups(t){return t?(this._groups=t,this._rootGroup={},this._groups.forEach(n=>{typeof n.padding>"u"&&(n.padding=1),typeof n.leaves<"u"&&n.leaves.forEach((i,s)=>{typeof i=="number"&&((n.leaves[s]=this._nodes[i]).parent=n)}),typeof n.groups<"u"&&n.groups.forEach((i,s)=>{typeof i=="number"&&((n.groups[s]=this._groups[i]).parent=n)})}),this._rootGroup.leaves=this._nodes.filter(n=>typeof n.parent>"u"),this._rootGroup.groups=this._groups.filter(n=>typeof n.parent>"u"),this):this._groups}powerGraphGroups(t){var n=Og(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(n.groups),t(n),this}avoidOverlaps(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps}handleDisconnected(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected}flowLayout(t,n){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:typeof n=="number"?function(){return n}:n},this}links(t){return arguments.length?(this._links=t,this):this._links}constraints(t){return arguments.length?(this._constraints=t,this):this._constraints}distanceMatrix(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix}size(t){return t?(this._canvasSize=t,this):this._canvasSize}defaultNodeSize(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize}groupCompactness(t){return t?(this._groupCompactness=t,this):this._groupCompactness}linkDistance(t){return t?(this._linkDistance=typeof t=="function"?t:+t,this._linkLengthCalculator=null,this):this._linkDistance}linkType(t){return this._linkType=t,this}convergenceThreshold(t){return t?(this._threshold=typeof t=="function"?t:+t,this):this._threshold}alpha(t){return arguments.length?(t=+t,this._alpha?t>0?this._alpha=t:this._alpha=0:t>0&&(this._running||(this._running=!0,this.trigger({type:0,alpha:this._alpha=t}),this.kick())),this):this._alpha}getLinkLength(t){return typeof this._linkDistance=="function"?+this._linkDistance(t):this._linkDistance}static setLinkLength(t,n){t.length=n}getLinkType(t){return typeof this._linkType=="function"?this._linkType(t):0}symmetricDiffLinkLengths(t,n=1){return this.linkDistance(i=>t*i.length),this._linkLengthCalculator=()=>Rg(this._links,this.linkAccessor,n),this}jaccardLinkLengths(t,n=1){return this.linkDistance(i=>t*i.length),this._linkLengthCalculator=()=>Fg(this._links,this.linkAccessor,n),this}start(t=0,n=0,i=0,s=0,r=!0,o=!0){var l,a=this.nodes().length,u=a+2*this._groups.length;this._links.length;var h=this._canvasSize[0],c=this._canvasSize[1],f=new Array(u),d=new Array(u),g=null,p=this._avoidOverlaps;this._nodes.forEach((N,E)=>{N.index=E,typeof N.x>"u"&&(N.x=h/2,N.y=c/2),f[E]=N.x,d[E]=N.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var _;this._distanceMatrix?_=this._distanceMatrix:(_=new Sr(u,this._links,Ct.getSourceIndex,Ct.getTargetIndex,N=>this.getLinkLength(N)).DistanceMatrix(),g=Zn.createSquareMatrix(u,()=>2),this._links.forEach(N=>{typeof N.source=="number"&&(N.source=this._nodes[N.source]),typeof N.target=="number"&&(N.target=this._nodes[N.target])}),this._links.forEach(N=>{const E=Ct.getSourceIndex(N),T=Ct.getTargetIndex(N);g[E][T]=g[T][E]=N.weight||1}));var b=Zn.createSquareMatrix(u,function(N,E){return _[N][E]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var l=a,k=(E,T,C,D)=>{g[E][T]=g[T][E]=C,b[E][T]=b[T][E]=D};this._groups.forEach(E=>{k(l,l+1,this._groupCompactness,.1),typeof E.bounds>"u"?(f[l]=h/2,d[l++]=c/2,f[l]=h/2,d[l++]=c/2):(f[l]=E.bounds.x,d[l++]=E.bounds.y,f[l]=E.bounds.X,d[l++]=E.bounds.Y)})}else this._rootGroup={leaves:this._nodes,groups:[]};var y=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,y=y.concat(Bg(a,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new Zn([f,d],b),this._descent.locks.clear();for(var l=0;l<a;++l){var x=this._nodes[l];if(x.fixed){x.px=x.x,x.py=x.y;var A=[x.x,x.y];this._descent.locks.add(l,A)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,f,d),y.length>0&&(this._descent.project=new _l(this._nodes,this._groups,this._rootGroup,y).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(h,c,o),this.avoidOverlaps(p),p&&(this._nodes.forEach(function(N,E){N.x=f[E],N.y=d[E]}),this._descent.project=new _l(this._nodes,this._groups,this._rootGroup,y,!0).projectFunctions(),this._nodes.forEach(function(N,E){f[E]=N.x,d[E]=N.y})),this._descent.G=g,this._descent.run(i),s){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=a,this._descent.scaleSnapByMaxH=a!=u;var S=Zn.createSquareMatrix(u,(N,E)=>N>=a||E>=a?g[N][E]:0);this._descent.G=S,this._descent.run(s)}return this.updateNodePositions(),this.separateOverlappingComponents(h,c,o),r?this.resume():this}initialLayout(t,n,i){if(this._groups.length>0&&t>0){var s=this._nodes.length,r=this._links.map(l=>({source:l.source.index,target:l.target.index})),o=this._nodes.map(l=>({index:l.index}));this._groups.forEach((l,a)=>{o.push({index:l.index=s+a})}),this._groups.forEach((l,a)=>{typeof l.leaves<"u"&&l.leaves.forEach(u=>r.push({source:l.index,target:u.index})),typeof l.groups<"u"&&l.groups.forEach(u=>r.push({source:l.index,target:u.index}))}),new Ct().size(this.size()).nodes(o).links(r).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach(l=>{n[l.index]=o[l.index].x,i[l.index]=o[l.index].y})}else this._descent.run(t)}separateOverlappingComponents(t,n,i=!0){if(!this._distanceMatrix&&this._handleDisconnected){let r=this._descent.x[0],o=this._descent.x[1];this._nodes.forEach(function(l,a){l.x=r[a],l.y=o[a]});var s=h0(this._nodes,this._links);c0(s,t,n,this._defaultNodeSize,1,i),this._nodes.forEach((l,a)=>{this._descent.x[0][a]=l.x,this._descent.x[1][a]=l.y,l.bounds&&(l.bounds.setXCentre(l.x),l.bounds.setYCentre(l.y))})}}resume(){return this.alpha(.1)}stop(){return this.alpha(0)}prepareEdgeRouting(t=0){this._visibilityGraph=new kl(this._nodes.map(function(n){return n.bounds.inflate(-t).vertices()}))}routeEdge(t,n=5,i){var s=[],r=new kl(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},l={x:t.target.x,y:t.target.y},a=r.addPoint(o,t.source.index),u=r.addPoint(l,t.target.index);r.addEdgeIfVisible(o,l,t.source.index,t.target.index),typeof i<"u"&&i(r);var h=y=>y.source.id,c=y=>y.target.id,f=y=>y.length(),d=new Sr(r.V.length,r.E,h,c,f),g=d.PathFromNodeToNode(a.id,u.id);if(g.length===1||g.length===r.V.length){let y=qg(t.source.innerBounds,t.target.innerBounds,n);s=[y.sourceIntersection,y.arrowStart]}else{for(var p=g.length-2,_=r.V[g[p]].p,b=r.V[g[0]].p,s=[t.source.innerBounds.rayIntersection(_.x,_.y)],k=p;k>=0;--k)s.push(r.V[g[k]].p);s.push(Yg(b,t.target.innerBounds,n))}return s}static getSourceIndex(t){return typeof t.source=="number"?t.source:t.source.index}static getTargetIndex(t){return typeof t.target=="number"?t.target:t.target.index}static linkId(t){return Ct.getSourceIndex(t)+"-"+Ct.getTargetIndex(t)}static dragStart(t){Fi(t)?Ct.storeOffset(t,Ct.dragOrigin(t)):(Ct.stopNode(t),t.fixed|=2)}static stopNode(t){t.px=t.x,t.py=t.y}static storeOffset(t,n){typeof t.leaves<"u"&&t.leaves.forEach(i=>{i.fixed|=2,Ct.stopNode(i),i._dragGroupOffsetX=i.x-n.x,i._dragGroupOffsetY=i.y-n.y}),typeof t.groups<"u"&&t.groups.forEach(i=>Ct.storeOffset(i,n))}static dragOrigin(t){return Fi(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t}static drag(t,n){Fi(t)?(typeof t.leaves<"u"&&t.leaves.forEach(i=>{t.bounds.setXCentre(n.x),t.bounds.setYCentre(n.y),i.px=i._dragGroupOffsetX+n.x,i.py=i._dragGroupOffsetY+n.y}),typeof t.groups<"u"&&t.groups.forEach(i=>Ct.drag(i,n))):(t.px=n.x,t.py=n.y)}static dragEnd(t){Fi(t)?(typeof t.leaves<"u"&&t.leaves.forEach(n=>{Ct.dragEnd(n),delete n._dragGroupOffsetX,delete n._dragGroupOffsetY}),typeof t.groups<"u"&&t.groups.forEach(Ct.dragEnd)):t.fixed&=-7}static mouseOver(t){t.fixed|=4,t.px=t.x,t.py=t.y}static mouseOut(t){t.fixed&=-5}}class f0{constructor(t,n,i){this.id=t,this.rect=n,this.children=i,this.leaf=typeof i>"u"||i.length===0}}class El{constructor(t,n,i,s=null,r=null){this.id=t,this.x=n,this.y=i,this.node=s,this.line=r}}class pi{constructor(t,n){this.s=t,this.t=n;var i=pi.findMatch(t,n),s=n.slice(0).reverse(),r=pi.findMatch(t,s);i.length>=r.length?(this.length=i.length,this.si=i.si,this.ti=i.ti,this.reversed=!1):(this.length=r.length,this.si=r.si,this.ti=n.length-r.ti-r.length,this.reversed=!0)}static findMatch(t,n){for(var i=t.length,s=n.length,r={length:0,si:-1,ti:-1},o=new Array(i),l=0;l<i;l++){o[l]=new Array(s);for(var a=0;a<s;a++)if(t[l]===n[a]){var u=o[l][a]=l===0||a===0?1:o[l-1][a-1]+1;u>r.length&&(r.length=u,r.si=l-u+1,r.ti=a-u+1)}else o[l][a]=0}return r}getSequence(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]}}class Jt{constructor(t,n,i=12){this.originalnodes=t,this.groupPadding=i,this.leaves=null,this.nodes=t.map((g,p)=>new f0(p,n.getBounds(g),n.getChildren(g))),this.leaves=this.nodes.filter(g=>g.leaf),this.groups=this.nodes.filter(g=>!g.leaf),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(g=>g.children.forEach(p=>this.nodes[p].parent=g)),this.root={children:[]},this.nodes.forEach(g=>{typeof g.parent>"u"&&(g.parent=this.root,this.root.children.push(g.id)),g.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort((g,p)=>this.getDepth(g)-this.getDepth(p));var s=this.backToFront.slice(0).reverse().filter(g=>!g.leaf);s.forEach(g=>{var p=Gt.empty();g.children.forEach(_=>p=p.union(this.nodes[_].rect)),g.rect=p.inflate(this.groupPadding)});var r=this.midPoints(this.cols.map(g=>g.pos)),o=this.midPoints(this.rows.map(g=>g.pos)),l=r[0],a=r[r.length-1],u=o[0],h=o[o.length-1],c=this.rows.map(g=>({x1:l,x2:a,y1:g.pos,y2:g.pos})).concat(o.map(g=>({x1:l,x2:a,y1:g,y2:g}))),f=this.cols.map(g=>({x1:g.pos,x2:g.pos,y1:u,y2:h})).concat(r.map(g=>({x1:g,x2:g,y1:u,y2:h}))),d=c.concat(f);d.forEach(g=>g.verts=[]),this.verts=[],this.edges=[],c.forEach(g=>f.forEach(p=>{var _=new El(this.verts.length,p.x1,g.y1);g.verts.push(_),p.verts.push(_),this.verts.push(_);for(var b=this.backToFront.length;b-- >0;){var k=this.backToFront[b],y=k.rect,x=Math.abs(_.x-y.cx()),A=Math.abs(_.y-y.cy());if(x<y.width()/2&&A<y.height()/2){_.node=k;break}}})),d.forEach((g,p)=>{this.nodes.forEach((A,S)=>{A.rect.lineIntersections(g.x1,g.y1,g.x2,g.y2).forEach((N,E)=>{var T=new El(this.verts.length,N.x,N.y,A,g);this.verts.push(T),g.verts.push(T),A.ports.push(T)})});var _=Math.abs(g.y1-g.y2)<.1,b=(A,S)=>_?S.x-A.x:S.y-A.y;g.verts.sort(b);for(var k=1;k<g.verts.length;k++){var y=g.verts[k-1],x=g.verts[k];y.node&&y.node===x.node&&y.node.leaf||this.edges.push({source:y.id,target:x.id,length:Math.abs(b(y,x))})}})}avg(t){return t.reduce((n,i)=>n+i)/t.length}getGridLines(t){for(var n=[],i=this.leaves.slice(0,this.leaves.length);i.length>0;){let s=i.filter(o=>o.rect["overlap"+t.toUpperCase()](i[0].rect)),r={nodes:s,pos:this.avg(s.map(o=>o.rect["c"+t]()))};n.push(r),r.nodes.forEach(o=>i.splice(i.indexOf(o),1))}return n.sort((s,r)=>s.pos-r.pos),n}getDepth(t){for(var n=0;t.parent!==this.root;)n++,t=t.parent;return n}midPoints(t){if(t.length===1)return[t[0]];for(var n=t[1]-t[0],i=[t[0]-n/2],s=1;s<t.length;s++)i.push((t[s]+t[s-1])/2);return i.push(t[t.length-1]+n/2),i}findLineage(t){var n=[t];do t=t.parent,n.push(t);while(t!==this.root);return n.reverse()}findAncestorPathBetween(t,n){for(var i=this.findLineage(t),s=this.findLineage(n),r=0;i[r]===s[r];)r++;return{commonAncestor:i[r-1],lineages:i.slice(r).concat(s.slice(r))}}siblingObstacles(t,n){var i=this.findAncestorPathBetween(t,n),s={};i.lineages.forEach(o=>s[o.id]={});var r=i.commonAncestor.children.filter(o=>!(o in s));return i.lineages.filter(o=>o.parent!==i.commonAncestor).forEach(o=>r=r.concat(o.parent.children.filter(l=>l!==o.id))),r.map(o=>this.nodes[o])}static getSegmentSets(t,n,i){for(var s=[],r=0;r<t.length;r++)for(var o=t[r],l=0;l<o.length;l++){var a=o[l];a.edgeid=r,a.i=l;var u=a[1][n]-a[0][n];Math.abs(u)<.1&&s.push(a)}s.sort((d,g)=>d[0][n]-g[0][n]);for(var h=[],c=null,f=0;f<s.length;f++){var a=s[f];(!c||Math.abs(a[0][n]-c.pos)>.1)&&(c={pos:a[0][n],segments:[]},h.push(c)),c.segments.push(a)}return h}static nudgeSegs(t,n,i,s,r,o){var l=s.length;if(!(l<=1)){for(var a=s.map(y=>new _u(y[0][t])),u=[],h=0;h<l;h++)for(var c=0;c<l;c++)if(h!==c){var f=s[h],d=s[c],g=f.edgeid,p=d.edgeid,_=-1,b=-1;t=="x"?r(g,p)&&(f[0][n]<f[1][n]?(_=c,b=h):(_=h,b=c)):r(g,p)&&(f[0][n]<f[1][n]?(_=h,b=c):(_=c,b=h)),_>=0&&u.push(new hs(a[_],a[b],o))}var k=new bi(a,u);k.solve(),a.forEach((y,x)=>{var A=s[x],S=y.position();A[0][t]=A[1][t]=S;var N=i[A.edgeid];A.i>0&&(N[A.i-1][1][t]=S),A.i<N.length-1&&(N[A.i+1][0][t]=S)})}}static nudgeSegments(t,n,i,s,r){for(var o=Jt.getSegmentSets(t,n,i),l=0;l<o.length;l++){for(var a=o[l],u=[],h=0;h<a.segments.length;h++){var c=a.segments[h];u.push({type:0,s:c,pos:Math.min(c[0][i],c[1][i])}),u.push({type:1,s:c,pos:Math.max(c[0][i],c[1][i])})}u.sort((g,p)=>g.pos-p.pos+g.type-p.type);var f=[],d=0;u.forEach(g=>{g.type===0?(f.push(g.s),d++):d--,d==0&&(Jt.nudgeSegs(n,i,t,f,s,r),f=[])})}}routeEdges(t,n,i,s){var r=t.map(a=>this.route(i(a),s(a))),o=Jt.orderEdges(r),l=r.map(function(a){return Jt.makeSegments(a)});return Jt.nudgeSegments(l,"x","y",o,n),Jt.nudgeSegments(l,"y","x",o,n),Jt.unreverseEdges(l,r),l}static unreverseEdges(t,n){t.forEach((i,s)=>{var r=n[s];r.reversed&&(i.reverse(),i.forEach(function(o){o.reverse()}))})}static angleBetween2Lines(t,n){var i=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),s=Math.atan2(n[0].y-n[1].y,n[0].x-n[1].x),r=i-s;return(r>Math.PI||r<-Math.PI)&&(r=s-i),r}static isLeft(t,n,i){return!t||!n||!i?!1:(n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x)<=0}static getOrder(t){for(var n={},i=0;i<t.length;i++){var s=t[i];typeof n[s.l]>"u"&&(n[s.l]={}),n[s.l][s.r]=!0}return(r,o)=>typeof n[r]<"u"&&n[r][o]}static orderEdges(t){for(var n=[],i=0;i<t.length-1;i++)for(var s=i+1;s<t.length;s++){var r=t[i],o=t[s],l=new pi(r,o),a,u,h;if(l.length!==0){if(l.reversed&&(o.reverse(),o.reversed=!0,l=new pi(r,o)),(l.si<=0||l.ti<=0)&&(l.si+l.length>=r.length||l.ti+l.length>=o.length)){n.push({l:i,r:s});continue}l.si+l.length>=r.length||l.ti+l.length>=o.length?(a=r[l.si+1],h=r[l.si-1],u=o[l.ti-1]):(a=r[l.si+l.length-2],u=r[l.si+l.length],h=o[l.ti+l.length]),Jt.isLeft(a,u,h)?n.push({l:s,r:i}):n.push({l:i,r:s})}}return Jt.getOrder(n)}static makeSegments(t){function n(u){return{x:u.x,y:u.y}}for(var i=(u,h,c)=>Math.abs((h.x-u.x)*(c.y-u.y)-(h.y-u.y)*(c.x-u.x))<.001,s=[],r=n(t[0]),o=1;o<t.length;o++){var l=n(t[o]),a=o<t.length-1?t[o+1]:null;(!a||!i(r,l,a))&&(s.push([r,l]),r=l)}return s}route(t,n){var i=this.nodes[t],s=this.nodes[n];this.obstacles=this.siblingObstacles(i,s);var r={};this.obstacles.forEach(_=>r[_.id]=_),this.passableEdges=this.edges.filter(_=>{var b=this.verts[_.source],k=this.verts[_.target];return!(b.node&&b.node.id in r||k.node&&k.node.id in r)});for(var o=1;o<i.ports.length;o++){var l=i.ports[0].id,a=i.ports[o].id;this.passableEdges.push({source:l,target:a,length:0})}for(var o=1;o<s.ports.length;o++){var l=s.ports[0].id,a=s.ports[o].id;this.passableEdges.push({source:l,target:a,length:0})}var u=_=>_.source,h=_=>_.target,c=_=>_.length,f=new Sr(this.verts.length,this.passableEdges,u,h,c),d=(_,b,k)=>{var y=this.verts[_],x=this.verts[b],A=this.verts[k],S=Math.abs(A.x-y.x),N=Math.abs(A.y-y.y);return y.node===i&&y.node===x.node||x.node===s&&x.node===A.node?0:S>1&&N>1?1e3:0},g=f.PathFromNodeToNodeWithPrevCost(i.ports[0].id,s.ports[0].id,d),p=g.reverse().map(_=>this.verts[_]);return p.push(this.nodes[s.id].ports[0]),p.filter((_,b)=>!(b<p.length-1&&p[b+1].node===i&&_.node===i||b>0&&_.node===s&&p[b-1].node===s))}static getRoutePath(t,n,i,s){var r={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var o=0;o<t.length;o++){var l=t[o],a=l[1].x,u=l[1].y,h=a-l[0].x,c=u-l[0].y;if(o<t.length-1){Math.abs(h)>0?a-=h/Math.abs(h)*n:u-=c/Math.abs(c)*n,r.routepath+="L "+a+" "+u+" ";var f=t[o+1],d=f[0].x,g=f[0].y,p=f[1].x,_=f[1].y;h=p-d,c=_-g;var b=Jt.angleBetween2Lines(l,f)<0?1:0,k,y;Math.abs(h)>0?(k=d+h/Math.abs(h)*n,y=g):(k=d,y=g+c/Math.abs(c)*n);var x=Math.abs(k-a),A=Math.abs(y-u);r.routepath+="A "+x+" "+A+" 0 0 "+b+" "+k+" "+y+" "}else{var S=[a,u],N,E;Math.abs(h)>0?(a-=h/Math.abs(h)*s,N=[a,u+i],E=[a,u-i]):(u-=c/Math.abs(c)*s,N=[a+i,u],E=[a-i,u]),r.routepath+="L "+a+" "+u+" ",s>0&&(r.arrowpath="M "+S[0]+" "+S[1]+" L "+N[0]+" "+N[1]+" L "+E[0]+" "+E[1])}}else{var l=t[0],a=l[1].x,u=l[1].y,h=a-l[0].x,c=u-l[0].y,S=[a,u],N,E;Math.abs(h)>0?(a-=h/Math.abs(h)*s,N=[a,u+i],E=[a,u-i]):(u-=c/Math.abs(c)*s,N=[a+i,u],E=[a-i,u]),r.routepath+="L "+a+" "+u+" ",s>0&&(r.arrowpath="M "+S[0]+" "+S[1]+" L "+N[0]+" "+N[1]+" L "+E[0]+" "+E[1])}return r}}const Ne=11102230246251565e-32,Rt=134217729,d0=(3+8*Ne)*Ne;function js(e,t,n,i,s){let r,o,l,a,u=t[0],h=i[0],c=0,f=0;h>u==h>-u?(r=u,u=t[++c]):(r=h,h=i[++f]);let d=0;if(c<e&&f<n)for(h>u==h>-u?(o=u+r,l=r-(o-u),u=t[++c]):(o=h+r,l=r-(o-h),h=i[++f]),r=o,l!==0&&(s[d++]=l);c<e&&f<n;)h>u==h>-u?(o=r+u,a=o-r,l=r-(o-a)+(u-a),u=t[++c]):(o=r+h,a=o-r,l=r-(o-a)+(h-a),h=i[++f]),r=o,l!==0&&(s[d++]=l);for(;c<e;)o=r+u,a=o-r,l=r-(o-a)+(u-a),u=t[++c],r=o,l!==0&&(s[d++]=l);for(;f<n;)o=r+h,a=o-r,l=r-(o-a)+(h-a),h=i[++f],r=o,l!==0&&(s[d++]=l);return(r!==0||d===0)&&(s[d++]=r),d}function p0(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}function xi(e){return new Float64Array(e)}const g0=(3+16*Ne)*Ne,m0=(2+12*Ne)*Ne,v0=(9+64*Ne)*Ne*Ne,hn=xi(4),Cl=xi(8),Al=xi(12),Il=xi(16),Vt=xi(4);function _0(e,t,n,i,s,r,o){let l,a,u,h,c,f,d,g,p,_,b,k,y,x,A,S,N,E;const T=e-s,C=n-s,D=t-r,m=i-r;x=T*m,f=Rt*T,d=f-(f-T),g=T-d,f=Rt*m,p=f-(f-m),_=m-p,A=g*_-(x-d*p-g*p-d*_),S=D*C,f=Rt*D,d=f-(f-D),g=D-d,f=Rt*C,p=f-(f-C),_=C-p,N=g*_-(S-d*p-g*p-d*_),b=A-N,c=A-b,hn[0]=A-(b+c)+(c-N),k=x+b,c=k-x,y=x-(k-c)+(b-c),b=y-S,c=y-b,hn[1]=y-(b+c)+(c-S),E=k+b,c=E-k,hn[2]=k-(E-c)+(b-c),hn[3]=E;let I=p0(4,hn),B=m0*o;if(I>=B||-I>=B||(c=e-T,l=e-(T+c)+(c-s),c=n-C,u=n-(C+c)+(c-s),c=t-D,a=t-(D+c)+(c-r),c=i-m,h=i-(m+c)+(c-r),l===0&&a===0&&u===0&&h===0)||(B=v0*o+d0*Math.abs(I),I+=T*h+m*l-(D*u+C*a),I>=B||-I>=B))return I;x=l*m,f=Rt*l,d=f-(f-l),g=l-d,f=Rt*m,p=f-(f-m),_=m-p,A=g*_-(x-d*p-g*p-d*_),S=a*C,f=Rt*a,d=f-(f-a),g=a-d,f=Rt*C,p=f-(f-C),_=C-p,N=g*_-(S-d*p-g*p-d*_),b=A-N,c=A-b,Vt[0]=A-(b+c)+(c-N),k=x+b,c=k-x,y=x-(k-c)+(b-c),b=y-S,c=y-b,Vt[1]=y-(b+c)+(c-S),E=k+b,c=E-k,Vt[2]=k-(E-c)+(b-c),Vt[3]=E;const z=js(4,hn,4,Vt,Cl);x=T*h,f=Rt*T,d=f-(f-T),g=T-d,f=Rt*h,p=f-(f-h),_=h-p,A=g*_-(x-d*p-g*p-d*_),S=D*u,f=Rt*D,d=f-(f-D),g=D-d,f=Rt*u,p=f-(f-u),_=u-p,N=g*_-(S-d*p-g*p-d*_),b=A-N,c=A-b,Vt[0]=A-(b+c)+(c-N),k=x+b,c=k-x,y=x-(k-c)+(b-c),b=y-S,c=y-b,Vt[1]=y-(b+c)+(c-S),E=k+b,c=E-k,Vt[2]=k-(E-c)+(b-c),Vt[3]=E;const V=js(z,Cl,4,Vt,Al);x=l*h,f=Rt*l,d=f-(f-l),g=l-d,f=Rt*h,p=f-(f-h),_=h-p,A=g*_-(x-d*p-g*p-d*_),S=a*u,f=Rt*a,d=f-(f-a),g=a-d,f=Rt*u,p=f-(f-u),_=u-p,N=g*_-(S-d*p-g*p-d*_),b=A-N,c=A-b,Vt[0]=A-(b+c)+(c-N),k=x+b,c=k-x,y=x-(k-c)+(b-c),b=y-S,c=y-b,Vt[1]=y-(b+c)+(c-S),E=k+b,c=E-k,Vt[2]=k-(E-c)+(b-c),Vt[3]=E;const $=js(V,Al,4,Vt,Il);return Il[$-1]}function Bi(e,t,n,i,s,r){const o=(t-r)*(n-s),l=(e-s)*(i-r),a=o-l;if(o===0||l===0||o>0!=l>0)return a;const u=Math.abs(o+l);return Math.abs(a)>=g0*u?a:-_0(e,t,n,i,s,r,u)}const Nl=Math.pow(2,-52),$i=new Uint32Array(512);class fs{static from(t,n=k0,i=E0){const s=t.length,r=new Float64Array(s*2);for(let o=0;o<s;o++){const l=t[o];r[2*o]=n(l),r[2*o+1]=i(l)}return new fs(r)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:i,_hullTri:s,_hullHash:r}=this,o=t.length>>1;let l=1/0,a=1/0,u=-1/0,h=-1/0;for(let C=0;C<o;C++){const D=t[2*C],m=t[2*C+1];D<l&&(l=D),m<a&&(a=m),D>u&&(u=D),m>h&&(h=m),this._ids[C]=C}const c=(l+u)/2,f=(a+h)/2;let d=1/0,g,p,_;for(let C=0;C<o;C++){const D=tr(c,f,t[2*C],t[2*C+1]);D<d&&(g=C,d=D)}const b=t[2*g],k=t[2*g+1];d=1/0;for(let C=0;C<o;C++){if(C===g)continue;const D=tr(b,k,t[2*C],t[2*C+1]);D<d&&D>0&&(p=C,d=D)}let y=t[2*p],x=t[2*p+1],A=1/0;for(let C=0;C<o;C++){if(C===g||C===p)continue;const D=x0(b,k,y,x,t[2*C],t[2*C+1]);D<A&&(_=C,A=D)}let S=t[2*_],N=t[2*_+1];if(A===1/0){for(let m=0;m<o;m++)this._dists[m]=t[2*m]-t[0]||t[2*m+1]-t[1];pn(this._ids,this._dists,0,o-1);const C=new Uint32Array(o);let D=0;for(let m=0,I=-1/0;m<o;m++){const B=this._ids[m];this._dists[B]>I&&(C[D++]=B,I=this._dists[B])}this.hull=C.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Bi(b,k,y,x,S,N)<0){const C=p,D=y,m=x;p=_,y=S,x=N,_=C,S=D,N=m}const E=w0(b,k,y,x,S,N);this._cx=E.x,this._cy=E.y;for(let C=0;C<o;C++)this._dists[C]=tr(t[2*C],t[2*C+1],E.x,E.y);pn(this._ids,this._dists,0,o-1),this._hullStart=g;let T=3;i[g]=n[_]=p,i[p]=n[g]=_,i[_]=n[p]=g,s[g]=0,s[p]=1,s[_]=2,r.fill(-1),r[this._hashKey(b,k)]=g,r[this._hashKey(y,x)]=p,r[this._hashKey(S,N)]=_,this.trianglesLen=0,this._addTriangle(g,p,_,-1,-1,-1);for(let C=0,D,m;C<this._ids.length;C++){const I=this._ids[C],B=t[2*I],z=t[2*I+1];if(C>0&&Math.abs(B-D)<=Nl&&Math.abs(z-m)<=Nl||(D=B,m=z,I===g||I===p||I===_))continue;let V=0;for(let ct=0,pt=this._hashKey(B,z);ct<this._hashSize&&(V=r[(pt+ct)%this._hashSize],!(V!==-1&&V!==i[V]));ct++);V=n[V];let $=V,F;for(;F=i[$],Bi(B,z,t[2*$],t[2*$+1],t[2*F],t[2*F+1])>=0;)if($=F,$===V){$=-1;break}if($===-1)continue;let lt=this._addTriangle($,I,i[$],-1,-1,s[$]);s[I]=this._legalize(lt+2),s[$]=lt,T++;let st=i[$];for(;F=i[st],Bi(B,z,t[2*st],t[2*st+1],t[2*F],t[2*F+1])<0;)lt=this._addTriangle(st,I,F,s[I],-1,s[st]),s[I]=this._legalize(lt+2),i[st]=st,T--,st=F;if($===V)for(;F=n[$],Bi(B,z,t[2*F],t[2*F+1],t[2*$],t[2*$+1])<0;)lt=this._addTriangle(F,I,$,-1,s[$],s[F]),this._legalize(lt+2),s[F]=lt,i[$]=$,T--,$=F;this._hullStart=n[I]=$,i[$]=n[st]=I,i[I]=st,r[this._hashKey(B,z)]=I,r[this._hashKey(t[2*$],t[2*$+1])]=$}this.hull=new Uint32Array(T);for(let C=0,D=this._hullStart;C<T;C++)this.hull[C]=D,D=i[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(y0(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:i,coords:s}=this;let r=0,o=0;for(;;){const l=i[t],a=t-t%3;if(o=a+(t+2)%3,l===-1){if(r===0)break;t=$i[--r];continue}const u=l-l%3,h=a+(t+1)%3,c=u+(l+2)%3,f=n[o],d=n[t],g=n[h],p=n[c];if(b0(s[2*f],s[2*f+1],s[2*d],s[2*d+1],s[2*g],s[2*g+1],s[2*p],s[2*p+1])){n[t]=p,n[l]=f;const b=i[c];if(b===-1){let y=this._hullStart;do{if(this._hullTri[y]===c){this._hullTri[y]=t;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(t,b),this._link(l,i[o]),this._link(o,c);const k=u+(l+1)%3;r<$i.length&&($i[r++]=k)}else{if(r===0)break;t=$i[--r]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,i,s,r,o){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=n,this._triangles[l+2]=i,this._link(l,s),this._link(l+1,r),this._link(l+2,o),this.trianglesLen+=3,l}}function y0(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function tr(e,t,n,i){const s=e-n,r=t-i;return s*s+r*r}function b0(e,t,n,i,s,r,o,l){const a=e-o,u=t-l,h=n-o,c=i-l,f=s-o,d=r-l,g=a*a+u*u,p=h*h+c*c,_=f*f+d*d;return a*(c*_-p*d)-u*(h*_-p*f)+g*(h*d-c*f)<0}function x0(e,t,n,i,s,r){const o=n-e,l=i-t,a=s-e,u=r-t,h=o*o+l*l,c=a*a+u*u,f=.5/(o*u-l*a),d=(u*h-l*c)*f,g=(o*c-a*h)*f;return d*d+g*g}function w0(e,t,n,i,s,r){const o=n-e,l=i-t,a=s-e,u=r-t,h=o*o+l*l,c=a*a+u*u,f=.5/(o*u-l*a),d=e+(u*h-l*c)*f,g=t+(o*c-a*h)*f;return{x:d,y:g}}function pn(e,t,n,i){if(i-n<=20)for(let s=n+1;s<=i;s++){const r=e[s],o=t[r];let l=s-1;for(;l>=n&&t[e[l]]>o;)e[l+1]=e[l--];e[l+1]=r}else{const s=n+i>>1;let r=n+1,o=i;qn(e,s,r),t[e[n]]>t[e[i]]&&qn(e,n,i),t[e[r]]>t[e[i]]&&qn(e,r,i),t[e[n]]>t[e[r]]&&qn(e,n,r);const l=e[r],a=t[l];for(;;){do r++;while(t[e[r]]<a);do o--;while(t[e[o]]>a);if(o<r)break;qn(e,r,o)}e[n+1]=e[o],e[o]=l,i-r+1>=o-n?(pn(e,t,r,i),pn(e,t,n,o-1)):(pn(e,t,n,o-1),pn(e,t,r,i))}}function qn(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function k0(e){return e[0]}function E0(e){return e[1]}const Ml=1e-6;class rn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,i){t=+t,n=+n,i=+i;const s=t+i,r=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${r}`:(Math.abs(this._x1-s)>Ml||Math.abs(this._y1-r)>Ml)&&(this._+="L"+s+","+r),i&&(this._+=`A${i},${i},0,1,1,${t-i},${n}A${i},${i},0,1,1,${this._x1=s},${this._y1=r}`)}rect(t,n,i,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+i}v${+s}h${-i}Z`}value(){return this._||null}}class Tr{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class C0{constructor(t,[n,i,s,r]=[0,0,960,500]){if(!((s=+s)>=(n=+n))||!((r=+r)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=s,this.xmin=n,this.ymax=r,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:i},vectors:s}=this,r=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let d=0,g=0,p=i.length,_,b;d<p;d+=3,g+=2){const k=i[d]*2,y=i[d+1]*2,x=i[d+2]*2,A=t[k],S=t[k+1],N=t[y],E=t[y+1],T=t[x],C=t[x+1],D=N-A,m=E-S,I=T-A,B=C-S,z=(D*B-m*I)*2;if(Math.abs(z)<1e-9){let V=1e9;const $=i[0]*2;V*=Math.sign((t[$]-A)*B-(t[$+1]-S)*I),_=(A+T)/2-V*B,b=(S+C)/2+V*I}else{const V=1/z,$=D*D+m*m,F=I*I+B*B;_=A+(B*$-m*F)*V,b=S+(D*F-I*$)*V}r[g]=_,r[g+1]=b}let o=n[n.length-1],l,a=o*4,u,h=t[2*o],c,f=t[2*o+1];s.fill(0);for(let d=0;d<n.length;++d)o=n[d],l=a,u=h,c=f,a=o*4,h=t[2*o],f=t[2*o+1],s[l+2]=s[a]=c-f,s[l+3]=s[a+1]=h-u}render(t){const n=t==null?t=new rn:void 0,{delaunay:{halfedges:i,inedges:s,hull:r},circumcenters:o,vectors:l}=this;if(r.length<=1)return null;for(let h=0,c=i.length;h<c;++h){const f=i[h];if(f<h)continue;const d=Math.floor(h/3)*2,g=Math.floor(f/3)*2,p=o[d],_=o[d+1],b=o[g],k=o[g+1];this._renderSegment(p,_,b,k,t)}let a,u=r[r.length-1];for(let h=0;h<r.length;++h){a=u,u=r[h];const c=Math.floor(s[u]/3)*2,f=o[c],d=o[c+1],g=a*4,p=this._project(f,d,l[g+2],l[g+3]);p&&this._renderSegment(f,d,p[0],p[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new rn:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const i=n==null?n=new rn:void 0,s=this._clip(t);if(s===null||!s.length)return;n.moveTo(s[0],s[1]);let r=s.length;for(;s[0]===s[r-2]&&s[1]===s[r-1]&&r>1;)r-=2;for(let o=2;o<r;o+=2)(s[o]!==s[o-2]||s[o+1]!==s[o-1])&&n.lineTo(s[o],s[o+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,i=t.length/2;n<i;++n){const s=this.cellPolygon(n);s&&(s.index=n,yield s)}}cellPolygon(t){const n=new Tr;return this.renderCell(t,n),n.value()}_renderSegment(t,n,i,s,r){let o;const l=this._regioncode(t,n),a=this._regioncode(i,s);l===0&&a===0?(r.moveTo(t,n),r.lineTo(i,s)):(o=this._clipSegment(t,n,i,s,l,a))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}contains(t,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(t,n,i)===t}*neighbors(t){const n=this._clip(t);if(n)for(const i of this.delaunay.neighbors(t)){const s=this._clip(i);if(s){t:for(let r=0,o=n.length;r<o;r+=2)for(let l=0,a=s.length;l<a;l+=2)if(n[r]==s[l]&&n[r+1]==s[l+1]&&n[(r+2)%o]==s[(l+a-2)%a]&&n[(r+3)%o]==s[(l+a-1)%a]){yield i;break t}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:i,halfedges:s,triangles:r}}=this,o=i[t];if(o===-1)return null;const l=[];let a=o;do{const u=Math.floor(a/3);if(l.push(n[u*2],n[u*2+1]),a=a%3===2?a-2:a+1,r[a]!==t)break;a=s[a]}while(a!==o&&a!==-1);return l}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:i}=this,s=t*4;return i[s]||i[s+1]?this._clipInfinite(t,n,i[s],i[s+1],i[s+2],i[s+3]):this._clipFinite(t,n)}_clipFinite(t,n){const i=n.length;let s=null,r,o,l=n[i-2],a=n[i-1],u,h=this._regioncode(l,a),c,f=0;for(let d=0;d<i;d+=2)if(r=l,o=a,l=n[d],a=n[d+1],u=h,h=this._regioncode(l,a),u===0&&h===0)c=f,f=0,s?s.push(l,a):s=[l,a];else{let g,p,_,b,k;if(u===0){if((g=this._clipSegment(r,o,l,a,u,h))===null)continue;[p,_,b,k]=g}else{if((g=this._clipSegment(l,a,r,o,h,u))===null)continue;[b,k,p,_]=g,c=f,f=this._edgecode(p,_),c&&f&&this._edge(t,c,f,s,s.length),s?s.push(p,_):s=[p,_]}c=f,f=this._edgecode(b,k),c&&f&&this._edge(t,c,f,s,s.length),s?s.push(b,k):s=[b,k]}if(s)c=f,f=this._edgecode(s[0],s[1]),c&&f&&this._edge(t,c,f,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,i,s,r,o){for(;;){if(r===0&&o===0)return[t,n,i,s];if(r&o)return null;let l,a,u=r||o;u&8?(l=t+(i-t)*(this.ymax-n)/(s-n),a=this.ymax):u&4?(l=t+(i-t)*(this.ymin-n)/(s-n),a=this.ymin):u&2?(a=n+(s-n)*(this.xmax-t)/(i-t),l=this.xmax):(a=n+(s-n)*(this.xmin-t)/(i-t),l=this.xmin),r?(t=l,n=a,r=this._regioncode(t,n)):(i=l,s=a,o=this._regioncode(i,s))}}_clipInfinite(t,n,i,s,r,o){let l=Array.from(n),a;if((a=this._project(l[0],l[1],i,s))&&l.unshift(a[0],a[1]),(a=this._project(l[l.length-2],l[l.length-1],r,o))&&l.push(a[0],a[1]),l=this._clipFinite(t,l))for(let u=0,h=l.length,c,f=this._edgecode(l[h-2],l[h-1]);u<h;u+=2)c=f,f=this._edgecode(l[u],l[u+1]),c&&f&&(u=this._edge(t,c,f,l,u),h=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,n,i,s,r){for(;n!==i;){let o,l;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,l=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,l=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,l=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,l=this.ymin;break}(s[r]!==o||s[r+1]!==l)&&this.contains(t,o,l)&&(s.splice(r,0,o,l),r+=2)}if(s.length>4)for(let o=0;o<s.length;o+=2){const l=(o+2)%s.length,a=(o+4)%s.length;(s[o]===s[l]&&s[l]===s[a]||s[o+1]===s[l+1]&&s[l+1]===s[a+1])&&(s.splice(l,2),o-=2)}return r}_project(t,n,i,s){let r=1/0,o,l,a;if(s<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/s)<r&&(a=this.ymin,l=t+(r=o)*i)}else if(s>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/s)<r&&(a=this.ymax,l=t+(r=o)*i)}if(i>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/i)<r&&(l=this.xmax,a=n+(r=o)*s)}else if(i<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/i)<r&&(l=this.xmin,a=n+(r=o)*s)}return[l,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const A0=2*Math.PI,fn=Math.pow;function I0(e){return e[0]}function N0(e){return e[1]}function M0(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const s=2*t[i],r=2*t[i+1],o=2*t[i+2];if((n[o]-n[s])*(n[r+1]-n[s+1])-(n[r]-n[s])*(n[o+1]-n[s+1])>1e-10)return!1}return!0}function S0(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class ds{static from(t,n=I0,i=N0,s){return new ds("length"in t?T0(t,n,i,s):Float64Array.from(P0(t,n,i,s)))}constructor(t){this._delaunator=new fs(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&M0(t)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const a=this.collinear[0],u=this.collinear[this.collinear.length-1],h=[n[2*a],n[2*a+1],n[2*u],n[2*u+1]],c=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let f=0,d=n.length/2;f<d;++f){const g=S0(n[2*f],n[2*f+1],c);n[2*f]=g[0],n[2*f+1]=g[1]}this._delaunator=new fs(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let a=0,u=i.length;a<u;++a){const h=r[a%3===2?a-2:a+1];(i[a]===-1||o[h]===-1)&&(o[h]=a)}for(let a=0,u=s.length;a<u;++a)l[s[a]]=a;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],o[s[0]]=1,s.length===2&&(o[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(t){return new C0(this,t)}*neighbors(t){const{inedges:n,hull:i,_hullIndex:s,halfedges:r,triangles:o,collinear:l}=this;if(l){const c=l.indexOf(t);c>0&&(yield l[c-1]),c<l.length-1&&(yield l[c+1]);return}const a=n[t];if(a===-1)return;let u=a,h=-1;do{if(yield h=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=r[u],u===-1){const c=i[(s[t]+1)%i.length];c!==h&&(yield c);return}}while(u!==a)}find(t,n,i=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const s=i;let r;for(;(r=this._step(i,t,n))>=0&&r!==i&&r!==s;)i=r;return r}_step(t,n,i){const{inedges:s,hull:r,_hullIndex:o,halfedges:l,triangles:a,points:u}=this;if(s[t]===-1||!u.length)return(t+1)%(u.length>>1);let h=t,c=fn(n-u[t*2],2)+fn(i-u[t*2+1],2);const f=s[t];let d=f;do{let g=a[d];const p=fn(n-u[g*2],2)+fn(i-u[g*2+1],2);if(p<c&&(c=p,h=g),d=d%3===2?d-2:d+1,a[d]!==t)break;if(d=l[d],d===-1){if(d=r[(o[t]+1)%r.length],d!==g&&fn(n-u[d*2],2)+fn(i-u[d*2+1],2)<c)return d;break}}while(d!==f);return h}render(t){const n=t==null?t=new rn:void 0,{points:i,halfedges:s,triangles:r}=this;for(let o=0,l=s.length;o<l;++o){const a=s[o];if(a<o)continue;const u=r[o]*2,h=r[a]*2;t.moveTo(i[u],i[u+1]),t.lineTo(i[h],i[h+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const i=t==null?t=new rn:void 0,{points:s}=this;for(let r=0,o=s.length;r<o;r+=2){const l=s[r],a=s[r+1];t.moveTo(l+n,a),t.arc(l,a,n,0,A0)}return i&&i.value()}renderHull(t){const n=t==null?t=new rn:void 0,{hull:i,points:s}=this,r=i[0]*2,o=i.length;t.moveTo(s[r],s[r+1]);for(let l=1;l<o;++l){const a=2*i[l];t.lineTo(s[a],s[a+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Tr;return this.renderHull(t),t.value()}renderTriangle(t,n){const i=n==null?n=new rn:void 0,{points:s,triangles:r}=this,o=r[t*=3]*2,l=r[t+1]*2,a=r[t+2]*2;return n.moveTo(s[o],s[o+1]),n.lineTo(s[l],s[l+1]),n.lineTo(s[a],s[a+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,i=t.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Tr;return this.renderTriangle(t,n),n.value()}}function T0(e,t,n,i){const s=e.length,r=new Float64Array(s*2);for(let o=0;o<s;++o){const l=e[o];r[o*2]=t.call(i,l,o,e),r[o*2+1]=n.call(i,l,o,e)}return r}function*P0(e,t,n,i){let s=0;for(const r of e)yield t.call(i,r,s,e),yield n.call(i,r,s,e),++s}const L0="/viime-path/assets/viime_logo_ko-0be9fea2.svg",O0={class:"drawer drawer-mobile"},D0=O("input",{id:"app-drawer",type:"checkbox",class:"drawer-toggle"},null,-1),R0={class:"drawer-content flex flex-col"},F0={for:"app-drawer",class:"fixed btn btn-circle drawer-button lg:hidden mr-2"},B0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},$0=O("path",{fill:"currentColor",d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1),H0=[$0],z0={class:"mx-2 mb-1 text-xl font-black"},U0=O("span",{class:"material-symbols-outlined"},"visibility_off",-1),V0={class:"material-symbols-outlined"},X0=O("span",{class:"material-symbols-outlined"},"label",-1),q0=O("span",{class:"material-symbols-outlined"},"location_off",-1),Y0=O("span",{class:"material-symbols-outlined"},"close",-1),K0=[Y0],G0={key:0,class:"bg-base-200 p-4 rounded-lg fixed",style:{bottom:"10px",right:"10px"}},W0={key:0},J0=O("h3",{class:"text-xl font-black"},"Background (Compartment)",-1),Z0={key:1},Q0=O("h3",{class:"text-xl font-black"},"Background (pathway)",-1),j0={key:2},tm=O("h3",{class:"text-xl font-black"},"Node (metabolite compartment)",-1),em={key:3},nm=O("h3",{class:"text-xl font-black"},"Node (reaction pathway)",-1),im={class:"drawer-side"},sm=O("label",{for:"app-drawer",class:"drawer-overlay"},null,-1),rm={class:"max-w-xs overflow-x-hidden"},om={class:"flex-1 bg-neutral text-neutral-content p-2"},lm={class:"flex items-end"},am=["src"],um=O("span",{class:"text-5xl font-black ml-2"}," path ",-1),cm=O("div",{class:"text-xl font-black mt-2"},"Pathway diagram editor",-1),hm={class:"flex-1 bg-base-200 p-2"},fm=O("h3",{class:"text-xl font-black mt-2"},"Metabolites of Interest",-1),dm=O("div",{class:"text-base"},[Ft(" To highlight metabolites of interest, enter one metabolite identifier per line (ChEBI, KEGG, HMDB) and click Add. Common names may also work, but may produce many spurious results. To convert to one of these identifiers, you may use a tool such as "),O("a",{href:"https://www.metaboanalyst.ca/MetaboAnalyst/upload/ConvertView.xhtml",target:"_blank",class:"link"},"MetaboAnalyst's ID Conversion"),Ft(". Tip: In that tool, right click on the resulting download link and select Save Link As to download. Once you have opened the file in Excel, copy the values under the ChEBI column and paste them below. ")],-1),pm={class:"mb-2"},gm=["onClick"],mm=O("span",{class:"material-symbols-outlined"},"close",-1),vm=[mm],_m={class:"btn btn-sm btn-ghost normal-case"},ym=O("h3",{class:"text-xl font-black mt-2"},"Pathways",-1),bm=O("div",{class:"text-base"},[Ft(" Select a pathway from "),O("a",{href:"https://reactome.org/PathwayBrowser",target:"_blank",class:"link"},"Reactome"),Ft(" and enter the ID found in the Reactome bottom panel and click Add. You may also enter a keyword and click Search. Click a pathway to toggle its visibility. Adding pathways and changing pathway visibility re-runs the layout and loses manual node adjustments. ")],-1),xm={class:"my-2"},wm={class:"my-2"},km=["onClick"],Em=O("span",{class:"material-symbols-outlined"},"close",-1),Cm=[Em],Am=["onClick","title"],Im={class:"material-symbols-outlined"},Nm=O("div",{class:"text-xl font-black mt-2"},"Hide / Split",-1),Mm=O("div",{class:"text-base"}," Click a node in the network to bring up visibility options which adds it to this list. Click a list item to toggle between show, hide, and duplicate. Changing node visibility re-runs the layout and loses manual node adjustments. ",-1),Sm=["onClick"],Tm=O("span",{class:"material-symbols-outlined"},"close",-1),Pm=[Tm],Lm=["onClick","title"],Om={class:"material-symbols-outlined"},Dm={class:"text-xl font-black mt-2"},Rm=O("div",{class:"text-base"},"Changing this re-runs the layout.",-1),Fm={class:"text-xl font-black mt-2"},Bm=O("div",{class:"text-base"},"Changing this re-runs the layout.",-1),$m={class:"text-xl font-black mt-2"},Hm={class:"text-xl font-black mt-2"},zm={class:"text-xl font-black mt-2"},Um={class:"form-control"},Vm={class:"cursor-pointer label"},Xm=O("span",null,"Background",-1),qm=O("option",null,"none",-1),Ym=O("option",null,"compartment",-1),Km=O("option",null,"pathway",-1),Gm=[qm,Ym,Km],Wm={class:"text-xl font-black mt-2"},Jm={class:"form-control"},Zm={class:"cursor-pointer label"},Qm=O("span",null,"Metabolite Color",-1),jm=O("option",null,"none",-1),tv=O("option",null,"compartment",-1),ev=[jm,tv],nv={class:"text-xl font-black mt-2"},iv={class:"form-control"},sv={class:"cursor-pointer label"},rv=O("span",null,"Reaction Color",-1),ov=O("option",null,"none",-1),lv=O("option",null,"pathway",-1),av=[ov,lv],uv={class:"text-xl font-black mt-2"},cv={class:"form-control"},hv={class:"cursor-pointer label flex justify-between"},fv=O("span",null,"Legend",-1),dv=ua({__name:"PathwayEditor",setup(e){const t=wt(null),n=wt(null),i=U=>{var P;return U.type==="compound"?f.value==="compartment"?s(U.compartment||""):"rgb(150, 150, 150)":g.value==="pathway"?r(((P=U.pathway)==null?void 0:P.stId)||""):"white"},s=Ir(ag),r=Ir(ug),o=["cytosol","nucleoplasm","mitochondrial matrix","endoplasmic reticulum lumen","extracellular region"];let l;try{l=JSON.parse(localStorage.getItem("showLegend")||"true")}catch{l=!0}const a=wt(l);qt(()=>{localStorage.setItem("showLegend",JSON.stringify(a.value))});let u;try{u=localStorage.getItem("backgroundDisplay")||"none"}catch{u="none"}const h=wt(u);qt(()=>{localStorage.setItem("backgroundDisplay",h.value)});let c;try{c=localStorage.getItem("compoundColor")||"none"}catch{c="none"}const f=wt(c);qt(()=>{localStorage.setItem("compoundColor",f.value)});let d;try{d=localStorage.getItem("reactionColor")||"none"}catch{d="none"}const g=wt(d);qt(()=>{localStorage.setItem("reactionColor",g.value)});const p=wt(o.map(U=>({name:U,color:s(U)}))),_=wt("");let b;try{b=JSON.parse(localStorage.getItem("interest")||"[]")}catch{b=[]}const k=wt(b),y=U=>k.value.find(P=>P.stId===U);let x;try{x=JSON.parse(localStorage.getItem("pathways")||"[]")}catch{x=[]}const A=wt(x);let S;try{S=JSON.parse(localStorage.getItem("hidden")||"[]")}catch{S=[]}const N=wt(S),E=U=>N.value.find(P=>P.stId===U.stId),T=wt(+(localStorage.getItem("fontSize")||8)),C=wt(+(localStorage.getItem("nodeSize")||70)),D=wt(+(localStorage.getItem("padding")||35)),m=wt(+(localStorage.getItem("rounded")||0)),I=wt(""),B=wt(""),z=wt(!1),V=wt(200),$=wt(200);let F=null;const lt=wt({}),st=wt({}),ct=wt({}),pt=U=>U.type==="compound"?lt.value[U.stId]===void 0||lt.value[U.stId]:!!lt.value[U.stId];qt(()=>{localStorage.setItem("interest",JSON.stringify(k.value))}),qt(()=>{localStorage.setItem("pathways",JSON.stringify(A.value))}),qt(()=>{localStorage.setItem("hidden",JSON.stringify(N.value))}),qt(()=>{localStorage.setItem("fontSize",`${T.value}`)}),qt(()=>{localStorage.setItem("nodeSize",`${C.value}`)}),qt(()=>{localStorage.setItem("rounded",`${m.value}`)}),qt(()=>{localStorage.setItem("padding",`${D.value}`)});const St=qi(async()=>await Promise.all(A.value.filter(U=>U.state==="show").map(async U=>{if(U.displayName===U.stId){const Z=await(await fetch(`https://reactome.org/ContentService/data/query/${U.stId}`)).json();U.displayName=Z.displayName,U.name=U.name}const P=await fetch(`https://reactome.org/ContentService/data/pathway/${U.stId}/containedEvents`);return{pathway:U,events:await P.json()}}))),Ut=qi(async()=>(await Promise.all((await St.value).map(async({pathway:P,events:Z})=>{const et=[],ut=Z.map(X=>X.stId),ht=20;for(let X=0;X<ut.length;X+=ht){const bt=ut.slice(X,X+ht),tt=await fetch("https://reactome.org/ContentService/data/query/ids",{method:"POST",body:bt.join(",")});et.push(...(await tt.json()).map(vt=>({...vt,pathway:P})))}return et}))).flat()),ge={},Tt=qi(async()=>{N.value.map(ht=>ht.state),C.value,D.value;const U=(await Ut.value).filter(ht=>ht.className==="Reaction"),P=[],Z=[],et={},ut={x:0,y:0,width:C.value,height:C.value};return U.forEach(ht=>{var bt;if(!et[ht.displayName]){if(((bt=E(ht))==null?void 0:bt.state)==="hide")return;P.push({name:ht.name,displayName:ht.displayName,stId:ht.stId,type:"event",pathway:ht.pathway,...ut,...ge[ht.stId]||{}}),et[ht.displayName]=P[P.length-1]}const X=et[ht.displayName];X&&(ht.input.forEach(tt=>{var vt,W;typeof tt=="object"&&tt!==null&&((vt=E(tt))==null?void 0:vt.state)!=="hide"&&((!et[tt.displayName]||((W=E(tt))==null?void 0:W.state)==="split")&&(P.push({name:tt.name,displayName:tt.displayName,stId:tt.stId,type:"compound",compartment:tt.displayName.match(/\[(.*?)\]/)[1],...ut,...ge[ht.stId]||{}}),et[tt.displayName]=P[P.length-1]),Z.push({source:et[tt.displayName],target:X}))}),ht.output.forEach(tt=>{var vt,W;typeof tt=="object"&&tt!==null&&((vt=E(tt))==null?void 0:vt.state)!=="hide"&&((!et[tt.displayName]||((W=E(tt))==null?void 0:W.state)==="split")&&(P.push({name:tt.name,displayName:tt.displayName,stId:tt.stId,type:"compound",compartment:tt.displayName.match(/\[(.*?)\]/)[1],...ut,...ge[ht.stId]||{}}),et[tt.displayName]=P[P.length-1]),Z.push({source:X,target:et[tt.displayName]}))}))}),{nodes:P,links:Z}});let Le,Ee=Ss,Pt,Oe,me,v;const w=async()=>{const{nodes:U}=await Tt.value;U.forEach(P=>{if(ct.value[P.stId]){const Z=ct.value[P.stId].x,et=ct.value[P.stId].y;P.x=Z,P.y=et,P.bounds.x=Z,P.bounds.y=et}})},M=()=>{v.start(100,0,10,10,!1),w()},L=async()=>{const{nodes:U}=await Tt.value;v.start(0,0,0,0,!1,!1),w();const P=5,Z=C.value-2*P;U.forEach(W=>{const Wt={x:(W.bounds.X+W.bounds.x)/2,y:(W.bounds.Y+W.bounds.y)/2};W.bounds.x=Wt.x-Z/2,W.bounds.y=Wt.y-Z/2,W.bounds.X=Wt.x+Z/2,W.bounds.Y=Wt.y+Z/2});let et=new Jt(v.nodes(),{getChildren:W=>W.children,getBounds:W=>W.bounds},P);const ut=4,ht=et.routeEdges(v.links(),ut,W=>W.source.index,W=>W.target.index);me.selectAll("path").remove(),ht.forEach((W,Wt)=>{var oo,lo,ao;const At=v.links()[Wt].source.stId,It=v.links()[Wt].target.stId;var wi=5,Ts=3,ki=7,ft=Jt.getRoutePath(W,wi,Ts,ki);const Nt=()=>{var uo,co,ho,fo;st.value[At]||(st.value[At]={}),st.value[At][It]=!st.value[At][It],Ps.style("stroke-width",(uo=st.value[At])!=null&&uo[It]?5:2),bu.style("stroke-width",(co=st.value[At])!=null&&co[It]?4:1),Ce.style("stroke-width",(ho=st.value[At])!=null&&ho[It]?5:2),Ls.style("stroke-width",(fo=st.value[At])!=null&&fo[It]?4:1)},Ce=me.append("path").attr("class","linkarrowoutline").style("stroke","transparent").style("cursor","pointer").style("stroke-width",(oo=st.value[At])!=null&&oo[It]?6:3).attr("d",ft.arrowpath+" Z").on("click",Nt),Ps=me.append("path").attr("class","linkoutline").attr("d",ft.routepath).style("stroke","transparent").style("cursor","pointer").style("stroke-width",(lo=st.value[At])!=null&&lo[It]?6:3).attr("fill","none").on("click",Nt),Ls=me.append("path").attr("class","linkarrow").style("stroke","black").style("cursor","pointer").style("stroke-width",(ao=st.value[At])!=null&&ao[It]?4:1).attr("d",ft.arrowpath+" Z").on("click",Nt),bu=me.append("path").attr("class","link").attr("d",ft.routepath).style("cursor","pointer").style("stroke","black").attr("fill","none").on("click",Nt)}),Pt.selectAll(".node").attr("x",W=>W.bounds.x).attr("y",W=>W.bounds.y).attr("width",W=>W.bounds.width()).attr("height",W=>W.bounds.height()).attr("rx",C.value*m.value/2).attr("ry",C.value*m.value/2).style("stroke-width",W=>y(W.stId)?4:1).style("stroke",W=>y(W.stId)?"red":"black").style("fill",W=>i(W)),Pt.selectAll(".label").attr("x",W=>W.bounds.x+W.bounds.width()/2).attr("y",W=>C.value>3*T.value?W.bounds.y+W.bounds.height()/2:W.bounds.y-T.value/2).style("font-size",T.value).style("stroke",W=>C.value>3*T.value?"black":"white").style("fill",W=>C.value>3*T.value?"white":"black"),Pt.selectAll(".tspan").attr("x",W=>W.parent.bounds.x+W.parent.bounds.width()/2);const X=[],bt=[],tt=[],vt=[];if(U.forEach(W=>{ge[W.stId]={x:W.x,y:W.y},W.type==="compound"?(X.push([W.x,W.y]),bt.push(W)):(tt.push([W.x,W.y]),vt.push(W))}),Oe.selectAll("path").remove(),h.value==="compartment"){const Wt=ds.from(X).voronoi([-1e5,-1e5,t.value.clientWidth+1e5,t.value.clientHeight+1e5]);Oe.selectAll("path").data(bt).enter().append("path").attr("d",(At,It)=>Wt.renderCell(It)).attr("stroke","black").attr("fill",At=>s(At.compartment||"")).attr("opacity",.5).attr("stroke-width",0)}else if(h.value==="pathway"){const Wt=ds.from(tt).voronoi([-1e5,-1e5,t.value.clientWidth+1e5,t.value.clientHeight+1e5]);Oe.selectAll("path").data(vt).enter().append("path").attr("d",(At,It)=>Wt.renderCell(It)).attr("stroke","black").attr("fill",At=>{var It;return r(((It=At.pathway)==null?void 0:It.stId)||"")}).attr("opacity",.5).attr("stroke-width",0)}};qt(()=>{T.value,m.value,h.value,f.value,g.value,k.value.map(U=>U.stId),v&&L()}),qt(async()=>{var ki;const{nodes:U,links:P}=await Tt.value;(ki=t.value)==null||ki.replaceChildren();const Z=he(t.value).append("svg").attr("class","w-full h-full");Pt=Z.append("g").attr("transform",Ee),Oe=Pt.append("g"),v=new Ct().convergenceThreshold(.001).size([t.value.clientWidth,t.value.clientHeight]).avoidOverlaps(!0).nodes(U).links(P).linkDistance(C.value+D.value),M(),me=Pt.append("g");const et=Pt.selectAll(".node").data(U).enter().append("rect").attr("class","node").style("stroke","black").style("stroke-width",1);et.append("title").text(ft=>ft.displayName);const ut=Pt.selectAll(".label").data(U).enter().append("text").attr("class","label").style("text-anchor","middle").style("dominant-baseline","middle").style("stroke-width",2).style("paint-order","stroke");Le=ut.append("tspan").text(ft=>pt(ft)?ft.name[0]:""),ut.append("title").text(ft=>ft.displayName),L();let ht={x:0,y:0},X={x:0,y:0},bt=!1;const tt=()=>{let ft=it,Nt=typeof TouchEvent<"u"&&ft.sourceEvent instanceof TouchEvent?ft.sourceEvent.changedTouches[0]:ft.sourceEvent;const Ce=fu(Pt.node()),[Ps,Ls]=Ce.invert([Nt.clientX,Nt.clientY]);return{x:Ps,y:Ls}},vt=ft=>{bt=!1,ht=tt(),X={x:ft.x,y:ft.y}},W=()=>{const ft=tt();return{x:X.x+Math.round((ft.x-ht.x)/C.value)*C.value,y:X.y+Math.round((ft.y-ht.y)/C.value)*C.value}},Wt=ft=>{const Nt=W(),Ce=5;!bt&&Math.abs(X.x-Nt.x)<Ce&&Math.abs(X.y-Nt.y)<Ce||(bt=!0,(Nt.x!==ft.x||Nt.y!==ft.y)&&(ft.x=Nt.x,ft.y=Nt.y,ft.bounds.x=Nt.x,ft.bounds.y=Nt.y,ct.value[ft.stId]={x:ft.x,y:ft.y},L()))},At=ft=>{if(!bt){F=ft;const Nt=t.value.getBoundingClientRect(),Ce=W();V.value=Ee.applyX(Ce.x)+Nt.left+20,$.value=Ee.applyY(Ce.y)+Nt.top+20,z.value=!0;return}};let It=Ed().on("start",vt).on("drag",Wt).on("end",At);et.call(It),ut.call(It);const wi=Pg().extent([[0,0],[t.value.clientWidth,t.value.clientHeight]]).scaleExtent([.1,10]).on("zoom",Ts);Z.call(wi).call(wi.transform,Ee);function Ts(){Ee=it.transform,Pt.attr("transform",Ee)}}),qt(()=>{Object.entries(lt.value),Le&&Le.text(U=>pt(U)?U.name[0]:"")});const R=U=>{if(U.type==="compound"){U.state=U.state==="hide"?"show":U.state==="show"?"split":"hide";return}U.state=U.state==="hide"?"show":"hide"},Y=()=>{A.value.push({name:[I.value],displayName:I.value,type:"pathway",state:"show",stId:I.value}),I.value=""},G=async()=>{I.value.split(`
`).filter(et=>et.trim().length>0).map(et=>`"${et}"`).join(" || ");const P=await(await fetch(`https://reactome.org/ContentService/search/query?query=name%3A${encodeURIComponent(`"${B.value}"`)}&species=Homo%20sapiens&types=Pathway&cluster=false&parserType=STD&Start%20row=0&rows=10&Force%20filters=true`)).json(),Z=et=>et.replaceAll('<span class="highlighting" >',"").replaceAll("</span>","");A.value.push(...P.results[0].entries.map(et=>({...et,displayName:`${Z(et.name)}`,type:"pathway",state:"hide"}))),B.value=""},q=async()=>{const U=_.value.split(`
`).filter(ut=>ut.trim().length>0).map(ut=>`"${ut}"`).join(" || "),Z=await(await fetch(`https://reactome.org/ContentService/search/query?query=${encodeURIComponent(U)}&types=Chemical%20Compound&cluster=false&parserType=STD&Start%20row=0&rows=100&Force%20filters=true`)).json(),et=ut=>ut.replaceAll('<span class="highlighting" >',"").replaceAll("</span>","");k.value.push(...Z.results[0].entries.map(ut=>({...ut,displayName:`${et(ut.name)} [${et(ut.compartmentNames.join(""))}]`}))),_.value=""},K=U=>{var P=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),Z=document.createElement("a");Z.setAttribute("download","image.png"),Z.setAttribute("href",U),Z.setAttribute("target","_blank"),Z.dispatchEvent(P)},H=()=>{const U=he(t.value).select("svg").node(),P=btoa(unescape(encodeURIComponent(U.outerHTML))),Z=document.createElement("a"),et=new MouseEvent("click");Z.download="download.svg",Z.href="data:image/svg+xml;base64,"+P,Z.dispatchEvent(et)},Q=()=>{var bt,tt;const U=he(t.value).select("svg").node();(bt=n.value)==null||bt.setAttribute("width",`${t.value.clientWidth}`),(tt=n.value)==null||tt.setAttribute("height",`${t.value.clientHeight}`);var P=n.value.getContext("2d"),Z=new XMLSerializer().serializeToString(U),et=window.URL||window.webkitURL||window,ut=new Image,ht=new Blob([Z],{type:"image/svg+xml;charset=utf-8"}),X=et.createObjectURL(ht);ut.onload=function(){P.drawImage(ut,0,0,t.value.clientWidth,t.value.clientHeight),et.revokeObjectURL(X);var vt=n.value.toDataURL("image/png").replace("image/png","image/octet-stream");K(vt)},ut.src=X},J=()=>{if(z.value=!1,!F)return;const U=E(F);if(U){U.state="hide";return}N.value.push({stId:F.stId,type:F.type,name:F.name,displayName:F.displayName,state:"hide"})},j=()=>{if(z.value=!1,!F)return;const U=E(F);if(U){U.state=U.state==="split"?"show":"split";return}N.value.push({stId:F.stId,type:F.type,name:F.name,displayName:F.displayName,state:"split"})},rt=()=>{z.value=!1,F&&(lt.value[F.stId]=!pt(F))},at=()=>{z.value=!1,F&&(delete ct.value[F.stId],M(),L())};return(U,P)=>{var Z,et,ut,ht;return mt(),kt("div",O0,[D0,O("div",R0,[O("label",F0,[(mt(),kt("svg",B0,H0))]),O("div",{ref_key:"diagram",ref:t,class:"w-full h-full"},null,512),O("div",{class:ps({"bg-gray-200":!0,border:!0,"border-black":!0,"p-2":!0,"rounded-lg":!0,fixed:!0,hidden:!z.value}),style:$e({left:`${V.value}px`,top:`${$.value}px`})},[O("div",z0,Lt((Z=Yt(F))==null?void 0:Z.displayName),1),O("button",{class:"btn btn-sm btn-ghost gap-2 normal-case",onClick:J},[U0,Ft("Hide")]),Yt(F)&&Yt(F).type==="compound"?(mt(),kt("button",{key:0,class:"btn btn-sm btn-ghost ml-2 gap-2 normal-case",onClick:j},[O("span",V0,Lt(Yt(F)&&((et=E(Yt(F)))==null?void 0:et.state)==="split"?"call_merge":"call_split"),1),Ft(Lt(Yt(F)&&((ut=E(Yt(F)))==null?void 0:ut.state)==="split"?"Merge":"Split"),1)])):Je("",!0),O("button",{class:"btn btn-sm btn-ghost ml-2 gap-2 normal-case",onClick:rt},[X0,Ft(Lt(!Yt(F)||!pt(Yt(F))?"Show":"Hide")+" Label",1)]),ct.value[((ht=Yt(F))==null?void 0:ht.stId)||""]?(mt(),kt("button",{key:1,class:"btn btn-sm btn-ghost ml-2 gap-2 normal-case",onClick:at},[q0,Ft("Unpin")])):Je("",!0),O("button",{class:"btn btn-sm btn-ghost ml-2",onClick:P[0]||(P[0]=X=>z.value=!1)},K0)],6),a.value&&(h.value!=="none"||g.value!=="none"||f.value!=="none")?(mt(),kt("div",G0,[h.value==="compartment"?(mt(),kt("div",W0,[J0,(mt(!0),kt(Ot,null,Ge(p.value,X=>(mt(),kt("div",null,[O("span",{style:$e(`background: ${X.color}`)},"      ",4),Ft(" "+Lt(X.name),1)]))),256))])):Je("",!0),h.value==="pathway"?(mt(),kt("div",Z0,[Q0,(mt(!0),kt(Ot,null,Ge(A.value.filter(X=>X.state!=="hide"),X=>(mt(),kt("div",null,[O("span",{style:$e(`background: ${Yt(r)(X.stId)}`)},"      ",4),Ft(" "+Lt(X.displayName),1)]))),256))])):Je("",!0),f.value==="compartment"?(mt(),kt("div",j0,[tm,(mt(!0),kt(Ot,null,Ge(p.value,X=>(mt(),kt("div",null,[O("span",{style:$e(`background: ${X.color}`)},"      ",4),Ft(" "+Lt(X.name),1)]))),256))])):Je("",!0),g.value==="pathway"?(mt(),kt("div",em,[nm,(mt(!0),kt(Ot,null,Ge(A.value.filter(X=>X.state!=="hide"),X=>(mt(),kt("div",null,[O("span",{style:$e(`background: ${Yt(r)(X.stId)}`)},"      ",4),Ft(" "+Lt(X.displayName),1)]))),256))])):Je("",!0)])):Je("",!0)]),O("div",im,[sm,O("aside",rm,[O("div",om,[O("div",lm,[O("img",{src:Yt(L0),alt:"VIIME",class:"h-11"},null,8,am),um]),cm]),O("div",hm,[fm,dm,ae(O("textarea",{class:"textarea textarea-bordered w-full mt-3",rows:"5","onUpdate:modelValue":P[1]||(P[1]=X=>_.value=X)},null,512),[[Ze,_.value]]),O("div",pm,[O("button",{class:"btn btn-sm ml-1",onClick:P[2]||(P[2]=X=>q())},"Add"),O("button",{class:"btn btn-sm ml-1",onClick:P[3]||(P[3]=X=>k.value=[])},"Remove All")]),(mt(!0),kt(Ot,null,Ge(k.value,(X,bt)=>(mt(),kt("div",{key:X.stId,class:"flex mb-1"},[O("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:tt=>k.value.splice(bt,1)},vm,8,gm),O("button",_m,Lt(X.displayName),1)]))),128)),ym,bm,O("div",xm,[ae(O("input",{class:"input input-sm input-bordered",placeholder:"ID e.g. R-HSA-70171","onUpdate:modelValue":P[4]||(P[4]=X=>I.value=X)},null,512),[[Ze,I.value]]),O("button",{class:"btn btn-sm ml-1",onClick:P[5]||(P[5]=X=>Y())},"Add")]),O("div",wm,[ae(O("input",{class:"input input-sm input-bordered",placeholder:"Keyword e.g. glycolysis","onUpdate:modelValue":P[6]||(P[6]=X=>B.value=X)},null,512),[[Ze,B.value]]),O("button",{class:"btn btn-sm ml-1",onClick:P[7]||(P[7]=X=>G())},"Search")]),O("div",null,[O("button",{class:"btn btn-sm",onClick:P[8]||(P[8]=X=>A.value=[])},"Remove All")]),(mt(!0),kt(Ot,null,Ge(A.value,(X,bt)=>(mt(),kt("div",{key:X.stId,class:"flex mb-1"},[O("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:tt=>A.value.splice(bt,1)},Cm,8,km),O("button",{class:"btn btn-sm btn-ghost gap-2 normal-case",onClick:tt=>R(X),title:X.displayName},[O("span",Im,Lt({hide:"visibility_off",show:"visibility",split:"call_split"}[X.state]),1),Ft(" "+Lt(X.displayName),1)],8,Am)]))),128)),Nm,Mm,(mt(!0),kt(Ot,null,Ge(N.value,(X,bt)=>(mt(),kt("div",{key:X.stId,class:"flex mb-1"},[O("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:tt=>N.value.splice(bt,1)},Pm,8,Sm),O("button",{class:"btn btn-sm btn-ghost gap-2 normal-case",onClick:tt=>R(X),title:X.displayName},[O("span",Om,Lt({hide:"visibility_off",show:"visibility",split:"call_split"}[X.state]),1),Ft(" "+Lt(X.displayName),1)],8,Lm)]))),128)),O("h3",Dm,"Node Size ("+Lt(C.value)+")",1),Rm,ae(O("input",{type:"range",min:"10",max:"100",class:"range","onUpdate:modelValue":P[9]||(P[9]=X=>C.value=X)},null,512),[[Ze,C.value,void 0,{number:!0}]]),O("h3",Fm,"Spacing ("+Lt(D.value)+")",1),Bm,ae(O("input",{type:"range",min:"10",max:"100",class:"range","onUpdate:modelValue":P[10]||(P[10]=X=>D.value=X)},null,512),[[Ze,D.value,void 0,{number:!0}]]),O("h3",$m,"Font Size ("+Lt(T.value)+")",1),ae(O("input",{type:"range",min:"2",max:"40",class:"range","onUpdate:modelValue":P[11]||(P[11]=X=>T.value=X)},null,512),[[Ze,T.value,void 0,{number:!0}]]),O("h3",Hm,"Rounded ("+Lt(m.value)+")",1),ae(O("input",{type:"range",min:"0",max:"1",step:"0.01",class:"range","onUpdate:modelValue":P[12]||(P[12]=X=>m.value=X)},null,512),[[Ze,m.value,void 0,{number:!0}]]),O("h3",zm,[O("div",Um,[O("label",Vm,[Xm,ae(O("select",{class:"select select-sm","onUpdate:modelValue":P[13]||(P[13]=X=>h.value=X)},Gm,512),[[Us,h.value]])])])]),O("h3",Wm,[O("div",Jm,[O("label",Zm,[Qm,ae(O("select",{class:"select select-sm","onUpdate:modelValue":P[14]||(P[14]=X=>f.value=X)},ev,512),[[Us,f.value]])])])]),O("h3",nv,[O("div",iv,[O("label",sv,[rv,ae(O("select",{class:"select select-sm","onUpdate:modelValue":P[15]||(P[15]=X=>g.value=X)},av,512),[[Us,g.value]])])])]),O("h3",uv,[O("div",cv,[O("label",hv,[fv,ae(O("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":P[16]||(P[16]=X=>a.value=X)},null,512),[[Xh,a.value]])])])]),O("button",{class:"btn block mb-2",onClick:Q},"Download PNG"),O("button",{class:"btn block",onClick:H},"Download SVG"),O("canvas",{ref_key:"canvas",ref:n,class:"hidden"},null,512)])])])])}}}),pv=ua({__name:"App",setup(e){return(t,n)=>(mt(),Ea(Ac,null,{fallback:or(()=>[Ft("Loading...")]),default:or(()=>[de(dv)]),_:1}))}});Kh(pv).mount("#app");
